<%= render :partial => 'menu'%>
<h1>Platform statistics for <%= @subdomain %> </h1>
<h2>Operating systems</h2>
<div id="path_stats_pl">
  <table class="sortable_list">
    <tr>
      <th>OS</th>
      <th>Percentage</th>
      <th>Hit Count</th>
    </tr>
    <% for platform in @platforms %>
    <tr<%= cycle('', " class='hl'") %>>
      <td><%= h(platform.platform) %></td>
      <td><%= "%000.2f" % (platform.total.to_f/@total_visits*100) %>%</td>
      <td><%= h(platform.total) %></td>
    </tr>
    <% end %>
  </table>
</div>

<h2>Browsers usage</h2>
<table class="sortable_list">
  <tr><th>Browser</th><th>Version</th><th>Percentage</th><th>Hit Count</th></tr>
  <% @browsers.each_pair do |browser, version| %>
    <tr><td><%= browser %></td></tr>
    <% version.each_pair do |version, total| %>
      <tr>
      <td></td>
      <td><%= h(version) %></td>
      <td><%= "%000.2f" % (total.to_f/@total_visits*100) %>%</td>
      <td><%= h(total) %></td>
      </tr>
    <% end %>
  <% end %>
</table>

<h2>Capabilities</h2>
<table>
<tr><td>Flash enabled</td><td><%= "%000.2f" % (@flash_clients/@total_visits*100) %>%</td></tr>
<tr><td>Java enabled</td><td><%= "%000.2f" % (@java_clients/@total_visits*100) %>%</td></tr>
<tr><td>Javascript enabled</td><td><%= "%.2f" % (@javascript_clients/@total_visits*100) %>%</td></tr>
</table>

<table class="sortable_list">
  <tr><th width='50%'>Screen width</th><th>Percentage</th></tr>
  <% @width_of_clients.each_pair do |size, count| %>
    <tr<%= cycle('', " class='hl'") %>>
      <td><%= h(size) %></td>
      <td><%= "%000.2f" % (count/@total_visits*100) %>%</td>
    </tr>
  <% end %>
</table>

<table class="sortable_list">
  <tr><th width='50%'>Color depth</th><th>Percentage</th></tr>
  <% @colors_of_clients.each_pair do |color, count| %>
    <tr<%= cycle('', " class='hl'") %>>
      <td><%= h(color) %></td>
      <td><%= "%000.2f" % (count/@total_visits*100) %>%</td>
    </tr>
  <% end %>
</table>

