/* Generated by Cython 0.13 on Thu Sep 30 09:48:39 2010 */

#define PY_SSIZE_T_CLEAN
#include "Python.h"
#ifndef Py_PYTHON_H
    #error Python headers needed to compile C extensions, please install development version of Python.
#else

#include <stddef.h> /* For offsetof */
#ifndef offsetof
#define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
#endif

#if !defined(WIN32) && !defined(MS_WINDOWS)
  #ifndef __stdcall
    #define __stdcall
  #endif
  #ifndef __cdecl
    #define __cdecl
  #endif
  #ifndef __fastcall
    #define __fastcall
  #endif
#endif

#ifndef DL_IMPORT
  #define DL_IMPORT(t) t
#endif
#ifndef DL_EXPORT
  #define DL_EXPORT(t) t
#endif

#ifndef PY_LONG_LONG
  #define PY_LONG_LONG LONG_LONG
#endif

#if PY_VERSION_HEX < 0x02040000
  #define METH_COEXIST 0
  #define PyDict_CheckExact(op) (Py_TYPE(op) == &PyDict_Type)
  #define PyDict_Contains(d,o)   PySequence_Contains(d,o)
#endif

#if PY_VERSION_HEX < 0x02050000
  typedef int Py_ssize_t;
  #define PY_SSIZE_T_MAX INT_MAX
  #define PY_SSIZE_T_MIN INT_MIN
  #define PY_FORMAT_SIZE_T ""
  #define PyInt_FromSsize_t(z) PyInt_FromLong(z)
  #define PyInt_AsSsize_t(o)   PyInt_AsLong(o)
  #define PyNumber_Index(o)    PyNumber_Int(o)
  #define PyIndex_Check(o)     PyNumber_Check(o)
  #define PyErr_WarnEx(category, message, stacklevel) PyErr_Warn(category, message)
#endif

#if PY_VERSION_HEX < 0x02060000
  #define Py_REFCNT(ob) (((PyObject*)(ob))->ob_refcnt)
  #define Py_TYPE(ob)   (((PyObject*)(ob))->ob_type)
  #define Py_SIZE(ob)   (((PyVarObject*)(ob))->ob_size)
  #define PyVarObject_HEAD_INIT(type, size) \
          PyObject_HEAD_INIT(type) size,
  #define PyType_Modified(t)

  typedef struct {
     void *buf;
     PyObject *obj;
     Py_ssize_t len;
     Py_ssize_t itemsize;
     int readonly;
     int ndim;
     char *format;
     Py_ssize_t *shape;
     Py_ssize_t *strides;
     Py_ssize_t *suboffsets;
     void *internal;
  } Py_buffer;

  #define PyBUF_SIMPLE 0
  #define PyBUF_WRITABLE 0x0001
  #define PyBUF_FORMAT 0x0004
  #define PyBUF_ND 0x0008
  #define PyBUF_STRIDES (0x0010 | PyBUF_ND)
  #define PyBUF_C_CONTIGUOUS (0x0020 | PyBUF_STRIDES)
  #define PyBUF_F_CONTIGUOUS (0x0040 | PyBUF_STRIDES)
  #define PyBUF_ANY_CONTIGUOUS (0x0080 | PyBUF_STRIDES)
  #define PyBUF_INDIRECT (0x0100 | PyBUF_STRIDES)

#endif

#if PY_MAJOR_VERSION < 3
  #define __Pyx_BUILTIN_MODULE_NAME "__builtin__"
#else
  #define __Pyx_BUILTIN_MODULE_NAME "builtins"
#endif

#if PY_MAJOR_VERSION >= 3
  #define Py_TPFLAGS_CHECKTYPES 0
  #define Py_TPFLAGS_HAVE_INDEX 0
#endif

#if (PY_VERSION_HEX < 0x02060000) || (PY_MAJOR_VERSION >= 3)
  #define Py_TPFLAGS_HAVE_NEWBUFFER 0
#endif

#if PY_MAJOR_VERSION >= 3
  #define PyBaseString_Type            PyUnicode_Type
  #define PyStringObject               PyUnicodeObject
  #define PyString_Type                PyUnicode_Type
  #define PyString_Check               PyUnicode_Check
  #define PyString_CheckExact          PyUnicode_CheckExact
#endif

#if PY_VERSION_HEX < 0x02060000
  #define PyBytesObject                PyStringObject
  #define PyBytes_Type                 PyString_Type
  #define PyBytes_Check                PyString_Check
  #define PyBytes_CheckExact           PyString_CheckExact
  #define PyBytes_FromString           PyString_FromString
  #define PyBytes_FromStringAndSize    PyString_FromStringAndSize
  #define PyBytes_FromFormat           PyString_FromFormat
  #define PyBytes_DecodeEscape         PyString_DecodeEscape
  #define PyBytes_AsString             PyString_AsString
  #define PyBytes_AsStringAndSize      PyString_AsStringAndSize
  #define PyBytes_Size                 PyString_Size
  #define PyBytes_AS_STRING            PyString_AS_STRING
  #define PyBytes_GET_SIZE             PyString_GET_SIZE
  #define PyBytes_Repr                 PyString_Repr
  #define PyBytes_Concat               PyString_Concat
  #define PyBytes_ConcatAndDel         PyString_ConcatAndDel
  #define PySet_Check(obj)             PyObject_TypeCheck(obj, &PySet_Type)
  #define PyFrozenSet_Check(obj)       PyObject_TypeCheck(obj, &PyFrozenSet_Type)
#endif

#ifndef PySet_CheckExact
#  define PySet_CheckExact(obj)          (Py_TYPE(obj) == &PySet_Type)
#endif

#if PY_MAJOR_VERSION >= 3
  #define PyInt_Type                   PyLong_Type
  #define PyInt_Check(op)              PyLong_Check(op)
  #define PyInt_CheckExact(op)         PyLong_CheckExact(op)
  #define PyInt_FromString             PyLong_FromString
  #define PyInt_FromUnicode            PyLong_FromUnicode
  #define PyInt_FromLong               PyLong_FromLong
  #define PyInt_FromSize_t             PyLong_FromSize_t
  #define PyInt_FromSsize_t            PyLong_FromSsize_t
  #define PyInt_AsLong                 PyLong_AsLong
  #define PyInt_AS_LONG                PyLong_AS_LONG
  #define PyInt_AsSsize_t              PyLong_AsSsize_t
  #define PyInt_AsUnsignedLongMask     PyLong_AsUnsignedLongMask
  #define PyInt_AsUnsignedLongLongMask PyLong_AsUnsignedLongLongMask
#endif

#if PY_MAJOR_VERSION >= 3
  #define PyBoolObject PyLongObject
#endif


#if PY_MAJOR_VERSION >= 3
  #define __Pyx_PyNumber_Divide(x,y)         PyNumber_TrueDivide(x,y)
  #define __Pyx_PyNumber_InPlaceDivide(x,y)  PyNumber_InPlaceTrueDivide(x,y)
#else
  #define __Pyx_PyNumber_Divide(x,y)         PyNumber_Divide(x,y)
  #define __Pyx_PyNumber_InPlaceDivide(x,y)  PyNumber_InPlaceDivide(x,y)
#endif

#if PY_MAJOR_VERSION >= 3
  #define PyMethod_New(func, self, klass) ((self) ? PyMethod_New(func, self) : PyInstanceMethod_New(func))
#endif

#if PY_VERSION_HEX < 0x02050000
  #define __Pyx_GetAttrString(o,n)   PyObject_GetAttrString((o),((char *)(n)))
  #define __Pyx_SetAttrString(o,n,a) PyObject_SetAttrString((o),((char *)(n)),(a))
  #define __Pyx_DelAttrString(o,n)   PyObject_DelAttrString((o),((char *)(n)))
#else
  #define __Pyx_GetAttrString(o,n)   PyObject_GetAttrString((o),(n))
  #define __Pyx_SetAttrString(o,n,a) PyObject_SetAttrString((o),(n),(a))
  #define __Pyx_DelAttrString(o,n)   PyObject_DelAttrString((o),(n))
#endif

#if PY_VERSION_HEX < 0x02050000
  #define __Pyx_NAMESTR(n) ((char *)(n))
  #define __Pyx_DOCSTR(n)  ((char *)(n))
#else
  #define __Pyx_NAMESTR(n) (n)
  #define __Pyx_DOCSTR(n)  (n)
#endif

#ifdef __cplusplus
#define __PYX_EXTERN_C extern "C"
#else
#define __PYX_EXTERN_C extern
#endif

#if defined(WIN32) || defined(MS_WINDOWS)
#define _USE_MATH_DEFINES
#endif
#include <math.h>
#define __PYX_HAVE_API__netCDF3
#include "stdlib.h"
#include "netcdf.h"
#include "numpy/arrayobject.h"

/* inline attribute */
#ifndef CYTHON_INLINE
  #if defined(__GNUC__)
    #define CYTHON_INLINE __inline__
  #elif defined(_MSC_VER)
    #define CYTHON_INLINE __inline
  #elif defined (__STDC_VERSION__) && __STDC_VERSION__ >= 199901L
    #define CYTHON_INLINE inline
  #else
    #define CYTHON_INLINE 
  #endif
#endif

/* unused attribute */
#ifndef CYTHON_UNUSED
# if defined(__GNUC__)
#   if !(defined(__cplusplus)) || (__GNUC__ > 3 || (__GNUC__ == 3 && __GNUC_MINOR__ >= 4))
#     define CYTHON_UNUSED __attribute__ ((__unused__)) 
#   else
#     define CYTHON_UNUSED
#   endif
# elif defined(__ICC) || defined(__INTEL_COMPILER)
#   define CYTHON_UNUSED __attribute__ ((__unused__)) 
# else
#   define CYTHON_UNUSED 
# endif
#endif

typedef struct {PyObject **p; char *s; const long n; const char* encoding; const char is_unicode; const char is_str; const char intern; } __Pyx_StringTabEntry; /*proto*/


/* Type Conversion Predeclarations */

#define __Pyx_PyBytes_FromUString(s) PyBytes_FromString((char*)s)
#define __Pyx_PyBytes_AsUString(s)   ((unsigned char*) PyBytes_AsString(s))

#define __Pyx_PyBool_FromLong(b) ((b) ? (Py_INCREF(Py_True), Py_True) : (Py_INCREF(Py_False), Py_False))
static CYTHON_INLINE int __Pyx_PyObject_IsTrue(PyObject*);
static CYTHON_INLINE PyObject* __Pyx_PyNumber_Int(PyObject* x);

static CYTHON_INLINE Py_ssize_t __Pyx_PyIndex_AsSsize_t(PyObject*);
static CYTHON_INLINE PyObject * __Pyx_PyInt_FromSize_t(size_t);
static CYTHON_INLINE size_t __Pyx_PyInt_AsSize_t(PyObject*);

#define __pyx_PyFloat_AsDouble(x) (PyFloat_CheckExact(x) ? PyFloat_AS_DOUBLE(x) : PyFloat_AsDouble(x))


#ifdef __GNUC__
/* Test for GCC > 2.95 */
#if __GNUC__ > 2 || (__GNUC__ == 2 && (__GNUC_MINOR__ > 95)) 
#define likely(x)   __builtin_expect(!!(x), 1)
#define unlikely(x) __builtin_expect(!!(x), 0)
#else /* __GNUC__ > 2 ... */
#define likely(x)   (x)
#define unlikely(x) (x)
#endif /* __GNUC__ > 2 ... */
#else /* __GNUC__ */
#define likely(x)   (x)
#define unlikely(x) (x)
#endif /* __GNUC__ */
    
static PyObject *__pyx_m;
static PyObject *__pyx_b;
static PyObject *__pyx_empty_tuple;
static PyObject *__pyx_empty_bytes;
static int __pyx_lineno;
static int __pyx_clineno = 0;
static const char * __pyx_cfilenm= __FILE__;
static const char *__pyx_filename;


static const char *__pyx_f[] = {
  "netCDF3.pyx",
  "utils.pyx",
  "netCDF3.pxi",
};

/* Type declarations */

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":600
 * 
 * 
 * cdef class Dataset:             # <<<<<<<<<<<<<<
 *     """
 * Dataset(self, filename, mode="r", clobber=True, format='NETCDF3_64BIT')
 */

struct __pyx_obj_7netCDF3_Dataset {
  PyObject_HEAD
  int _grpid;
  PyObject *dimensions;
  PyObject *variables;
  PyObject *file_format;
  PyObject *maskanscale;
};

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":946
 *             return self.getncattr(name)
 * 
 * cdef class Dimension:             # <<<<<<<<<<<<<<
 *     """
 * Dimension(self, dset, name, size=None)
 */

struct __pyx_obj_7netCDF3_Dimension {
  PyObject_HEAD
  int _dimid;
  int _grpid;
  PyObject *_file_format;
};

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1020
 *             return False
 * 
 * cdef class Variable:             # <<<<<<<<<<<<<<
 *     """
 * Variable(self, dset, name, datatype, dimensions=(), fill_value=None)
 */

struct __pyx_obj_7netCDF3_Variable {
  PyObject_HEAD
  int _varid;
  int _grpid;
  int _nunlimdim;
  PyObject *_grp;
  PyObject *ndim;
  PyObject *dtype;
  PyObject *maskandscale;
};

#ifndef CYTHON_REFNANNY
  #define CYTHON_REFNANNY 0
#endif

#if CYTHON_REFNANNY
  typedef struct {
    void (*INCREF)(void*, PyObject*, int);
    void (*DECREF)(void*, PyObject*, int);
    void (*GOTREF)(void*, PyObject*, int);
    void (*GIVEREF)(void*, PyObject*, int);
    void* (*SetupContext)(const char*, int, const char*);
    void (*FinishContext)(void**);
  } __Pyx_RefNannyAPIStruct;
  static __Pyx_RefNannyAPIStruct *__Pyx_RefNanny = NULL;
  static __Pyx_RefNannyAPIStruct * __Pyx_RefNannyImportAPI(const char *modname) {
    PyObject *m = NULL, *p = NULL;
    void *r = NULL;
    m = PyImport_ImportModule((char *)modname);
    if (!m) goto end;
    p = PyObject_GetAttrString(m, (char *)"RefNannyAPI");
    if (!p) goto end;
    r = PyLong_AsVoidPtr(p);
  end:
    Py_XDECREF(p);
    Py_XDECREF(m);
    return (__Pyx_RefNannyAPIStruct *)r;
  }
  #define __Pyx_RefNannySetupContext(name)           void *__pyx_refnanny = __Pyx_RefNanny->SetupContext((name), __LINE__, __FILE__)
  #define __Pyx_RefNannyFinishContext()           __Pyx_RefNanny->FinishContext(&__pyx_refnanny)
  #define __Pyx_INCREF(r) __Pyx_RefNanny->INCREF(__pyx_refnanny, (PyObject *)(r), __LINE__)
  #define __Pyx_DECREF(r) __Pyx_RefNanny->DECREF(__pyx_refnanny, (PyObject *)(r), __LINE__)
  #define __Pyx_GOTREF(r) __Pyx_RefNanny->GOTREF(__pyx_refnanny, (PyObject *)(r), __LINE__)
  #define __Pyx_GIVEREF(r) __Pyx_RefNanny->GIVEREF(__pyx_refnanny, (PyObject *)(r), __LINE__)
  #define __Pyx_XDECREF(r) do { if((r) != NULL) {__Pyx_DECREF(r);} } while(0)
#else
  #define __Pyx_RefNannySetupContext(name)
  #define __Pyx_RefNannyFinishContext()
  #define __Pyx_INCREF(r) Py_INCREF(r)
  #define __Pyx_DECREF(r) Py_DECREF(r)
  #define __Pyx_GOTREF(r)
  #define __Pyx_GIVEREF(r)
  #define __Pyx_XDECREF(r) Py_XDECREF(r)
#endif /* CYTHON_REFNANNY */
#define __Pyx_XGIVEREF(r) do { if((r) != NULL) {__Pyx_GIVEREF(r);} } while(0)
#define __Pyx_XGOTREF(r) do { if((r) != NULL) {__Pyx_GOTREF(r);} } while(0)

static PyObject *__Pyx_GetName(PyObject *dict, PyObject *name); /*proto*/

static CYTHON_INLINE int __Pyx_TypeTest(PyObject *obj, PyTypeObject *type); /*proto*/

static CYTHON_INLINE long __Pyx_NegateNonNeg(long b) { return unlikely(b < 0) ? b : !b; }
static CYTHON_INLINE PyObject* __Pyx_PyBoolOrNull_FromLong(long b) {
    return unlikely(b < 0) ? NULL : __Pyx_PyBool_FromLong(b);
}


static CYTHON_INLINE PyObject *__Pyx_GetItemInt_Generic(PyObject *o, PyObject* j) {
    PyObject *r;
    if (!j) return NULL;
    r = PyObject_GetItem(o, j);
    Py_DECREF(j);
    return r;
}


#define __Pyx_GetItemInt_List(o, i, size, to_py_func) (((size) <= sizeof(Py_ssize_t)) ? \
                                                    __Pyx_GetItemInt_List_Fast(o, i) : \
                                                    __Pyx_GetItemInt_Generic(o, to_py_func(i)))

static CYTHON_INLINE PyObject *__Pyx_GetItemInt_List_Fast(PyObject *o, Py_ssize_t i) {
    if (likely(o != Py_None)) {
        if (likely((0 <= i) & (i < PyList_GET_SIZE(o)))) {
            PyObject *r = PyList_GET_ITEM(o, i);
            Py_INCREF(r);
            return r;
        }
        else if ((-PyList_GET_SIZE(o) <= i) & (i < 0)) {
            PyObject *r = PyList_GET_ITEM(o, PyList_GET_SIZE(o) + i);
            Py_INCREF(r);
            return r;
        }
    }
    return __Pyx_GetItemInt_Generic(o, PyInt_FromSsize_t(i));
}

#define __Pyx_GetItemInt_Tuple(o, i, size, to_py_func) (((size) <= sizeof(Py_ssize_t)) ? \
                                                    __Pyx_GetItemInt_Tuple_Fast(o, i) : \
                                                    __Pyx_GetItemInt_Generic(o, to_py_func(i)))

static CYTHON_INLINE PyObject *__Pyx_GetItemInt_Tuple_Fast(PyObject *o, Py_ssize_t i) {
    if (likely(o != Py_None)) {
        if (likely((0 <= i) & (i < PyTuple_GET_SIZE(o)))) {
            PyObject *r = PyTuple_GET_ITEM(o, i);
            Py_INCREF(r);
            return r;
        }
        else if ((-PyTuple_GET_SIZE(o) <= i) & (i < 0)) {
            PyObject *r = PyTuple_GET_ITEM(o, PyTuple_GET_SIZE(o) + i);
            Py_INCREF(r);
            return r;
        }
    }
    return __Pyx_GetItemInt_Generic(o, PyInt_FromSsize_t(i));
}


#define __Pyx_GetItemInt(o, i, size, to_py_func) (((size) <= sizeof(Py_ssize_t)) ? \
                                                    __Pyx_GetItemInt_Fast(o, i) : \
                                                    __Pyx_GetItemInt_Generic(o, to_py_func(i)))

static CYTHON_INLINE PyObject *__Pyx_GetItemInt_Fast(PyObject *o, Py_ssize_t i) {
    PyObject *r;
    if (PyList_CheckExact(o) && ((0 <= i) & (i < PyList_GET_SIZE(o)))) {
        r = PyList_GET_ITEM(o, i);
        Py_INCREF(r);
    }
    else if (PyTuple_CheckExact(o) && ((0 <= i) & (i < PyTuple_GET_SIZE(o)))) {
        r = PyTuple_GET_ITEM(o, i);
        Py_INCREF(r);
    }
    else if (Py_TYPE(o)->tp_as_sequence && Py_TYPE(o)->tp_as_sequence->sq_item && (likely(i >= 0))) {
        r = PySequence_GetItem(o, i);
    }
    else {
        r = __Pyx_GetItemInt_Generic(o, PyInt_FromSsize_t(i));
    }
    return r;
}

static int __Pyx_GetException(PyObject **type, PyObject **value, PyObject **tb); /*proto*/

static void __Pyx_RaiseDoubleKeywordsError(
    const char* func_name, PyObject* kw_name); /*proto*/

static void __Pyx_RaiseArgtupleInvalid(const char* func_name, int exact,
    Py_ssize_t num_min, Py_ssize_t num_max, Py_ssize_t num_found); /*proto*/

static int __Pyx_ParseOptionalKeywords(PyObject *kwds, PyObject **argnames[],     PyObject *kwds2, PyObject *values[], Py_ssize_t num_pos_args,     const char* function_name); /*proto*/

static CYTHON_INLINE void __Pyx_RaiseNeedMoreValuesError(Py_ssize_t index);

static CYTHON_INLINE void __Pyx_RaiseTooManyValuesError(Py_ssize_t expected);

static PyObject *__Pyx_UnpackItem(PyObject *, Py_ssize_t index); /*proto*/
static int __Pyx_EndUnpack(PyObject *, Py_ssize_t expected); /*proto*/

static CYTHON_INLINE void __Pyx_RaiseNoneIndexingError(void);


#if PY_MAJOR_VERSION >= 3
static PyObject *__Pyx_PyDict_GetItem(PyObject *d, PyObject* key) {
    PyObject *value;
    if (unlikely(d == Py_None)) {
        __Pyx_RaiseNoneIndexingError();
        return NULL;
    }
    value = PyDict_GetItemWithError(d, key);
    if (unlikely(!value)) {
        if (!PyErr_Occurred())
            PyErr_SetObject(PyExc_KeyError, key);
        return NULL;
    }
    Py_INCREF(value);
    return value;
}
#else
    #define __Pyx_PyDict_GetItem(d, key) PyObject_GetItem(d, key)
#endif

static int __Pyx_ArgTypeTest(PyObject *obj, PyTypeObject *type, int none_allowed,
    const char *name, int exact); /*proto*/

#define __Pyx_SetItemInt(o, i, v, size, to_py_func) (((size) <= sizeof(Py_ssize_t)) ? \
                                                    __Pyx_SetItemInt_Fast(o, i, v) : \
                                                    __Pyx_SetItemInt_Generic(o, to_py_func(i), v))

static CYTHON_INLINE int __Pyx_SetItemInt_Generic(PyObject *o, PyObject *j, PyObject *v) {
    int r;
    if (!j) return -1;
    r = PyObject_SetItem(o, j, v);
    Py_DECREF(j);
    return r;
}

static CYTHON_INLINE int __Pyx_SetItemInt_Fast(PyObject *o, Py_ssize_t i, PyObject *v) {
    if (PyList_CheckExact(o) && ((0 <= i) & (i < PyList_GET_SIZE(o)))) {
        Py_INCREF(v);
        Py_DECREF(PyList_GET_ITEM(o, i));
        PyList_SET_ITEM(o, i, v);
        return 1;
    }
    else if (Py_TYPE(o)->tp_as_sequence && Py_TYPE(o)->tp_as_sequence->sq_ass_item && (likely(i >= 0)))
        return PySequence_SetItem(o, i, v);
    else {
        PyObject *j = PyInt_FromSsize_t(i);
        return __Pyx_SetItemInt_Generic(o, j, v);
    }
}

static CYTHON_INLINE PyObject* __Pyx_PyObject_Append(PyObject* L, PyObject* x) {
    if (likely(PyList_CheckExact(L))) {
        if (PyList_Append(L, x) < 0) return NULL;
        Py_INCREF(Py_None);
        return Py_None; /* this is just to have an accurate signature */
    }
    else {
        PyObject *r, *m;
        m = __Pyx_GetAttrString(L, "append");
        if (!m) return NULL;
        r = PyObject_CallFunctionObjArgs(m, x, NULL);
        Py_DECREF(m);
        return r;
    }
}

static CYTHON_INLINE void __Pyx_ExceptionSave(PyObject **type, PyObject **value, PyObject **tb); /*proto*/
static void __Pyx_ExceptionReset(PyObject *type, PyObject *value, PyObject *tb); /*proto*/

static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list); /*proto*/

static CYTHON_INLINE void __Pyx_ErrRestore(PyObject *type, PyObject *value, PyObject *tb); /*proto*/
static CYTHON_INLINE void __Pyx_ErrFetch(PyObject **type, PyObject **value, PyObject **tb); /*proto*/

static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb); /*proto*/

static PyObject *__Pyx_CreateClass(PyObject *bases, PyObject *dict, PyObject *name, const char *modname); /*proto*/

static CYTHON_INLINE PyObject *__Pyx_PyInt_to_py_nc_type(nc_type);

static int __Pyx_Print(PyObject*, PyObject *, int); /*proto*/
#if PY_MAJOR_VERSION >= 3
static PyObject* __pyx_print = 0;
static PyObject* __pyx_print_kwargs = 0;
#endif

static int __Pyx_PrintOne(PyObject* stream, PyObject *o); /*proto*/

static CYTHON_INLINE nc_type __Pyx_PyInt_from_py_nc_type(PyObject *);

static CYTHON_INLINE ptrdiff_t __Pyx_PyInt_from_py_ptrdiff_t(PyObject *);

static CYTHON_INLINE unsigned char __Pyx_PyInt_AsUnsignedChar(PyObject *);

static CYTHON_INLINE unsigned short __Pyx_PyInt_AsUnsignedShort(PyObject *);

static CYTHON_INLINE unsigned int __Pyx_PyInt_AsUnsignedInt(PyObject *);

static CYTHON_INLINE char __Pyx_PyInt_AsChar(PyObject *);

static CYTHON_INLINE short __Pyx_PyInt_AsShort(PyObject *);

static CYTHON_INLINE int __Pyx_PyInt_AsInt(PyObject *);

static CYTHON_INLINE signed char __Pyx_PyInt_AsSignedChar(PyObject *);

static CYTHON_INLINE signed short __Pyx_PyInt_AsSignedShort(PyObject *);

static CYTHON_INLINE signed int __Pyx_PyInt_AsSignedInt(PyObject *);

static CYTHON_INLINE int __Pyx_PyInt_AsLongDouble(PyObject *);

static CYTHON_INLINE unsigned long __Pyx_PyInt_AsUnsignedLong(PyObject *);

static CYTHON_INLINE unsigned PY_LONG_LONG __Pyx_PyInt_AsUnsignedLongLong(PyObject *);

static CYTHON_INLINE long __Pyx_PyInt_AsLong(PyObject *);

static CYTHON_INLINE PY_LONG_LONG __Pyx_PyInt_AsLongLong(PyObject *);

static CYTHON_INLINE signed long __Pyx_PyInt_AsSignedLong(PyObject *);

static CYTHON_INLINE signed PY_LONG_LONG __Pyx_PyInt_AsSignedLongLong(PyObject *);

static PyTypeObject *__Pyx_ImportType(const char *module_name, const char *class_name, long size, int strict);  /*proto*/

static PyObject *__Pyx_ImportModule(const char *name); /*proto*/

static void __Pyx_AddTraceback(const char *funcname); /*proto*/

static int __Pyx_InitStrings(__Pyx_StringTabEntry *t); /*proto*/
/* Module declarations from numpy */

/* Module declarations from netCDF3 */

static PyTypeObject *__pyx_ptype_7netCDF3_ndarray = 0;
static PyTypeObject *__pyx_ptype_7netCDF3_Dataset = 0;
static PyTypeObject *__pyx_ptype_7netCDF3_Dimension = 0;
static PyTypeObject *__pyx_ptype_7netCDF3_Variable = 0;
static int __pyx_v_7netCDF3_NC_FORMAT_NETCDF4;
static int __pyx_v_7netCDF3_NC_FORMAT_NETCDF4_CLASSIC;
static PyObject *__pyx_f_7netCDF3__get_att_names(int, int); /*proto*/
static PyObject *__pyx_f_7netCDF3__get_att(int, int, PyObject *); /*proto*/
static PyObject *__pyx_f_7netCDF3__get_format(int); /*proto*/
static PyObject *__pyx_f_7netCDF3__set_att(int, int, PyObject *, PyObject *); /*proto*/
static PyObject *__pyx_f_7netCDF3__get_dims(PyObject *); /*proto*/
static PyObject *__pyx_f_7netCDF3__get_vars(PyObject *); /*proto*/
#define __Pyx_MODULE_NAME "netCDF3"
int __pyx_module_is_main_netCDF3 = 0;

/* Implementation of netCDF3 */
static PyObject *__pyx_builtin_ImportError;
static PyObject *__pyx_builtin_object;
static PyObject *__pyx_builtin_RuntimeError;
static PyObject *__pyx_builtin_AttributeError;
static PyObject *__pyx_builtin_ValueError;
static PyObject *__pyx_builtin_KeyError;
static PyObject *__pyx_builtin_TypeError;
static PyObject *__pyx_builtin_zip;
static PyObject *__pyx_builtin_enumerate;
static PyObject *__pyx_builtin_IndexError;
static PyObject *__pyx_builtin_sum;
static PyObject *__pyx_builtin_range;
static PyObject *__pyx_builtin_sorted;
static PyObject *__pyx_builtin_IOError;
static char __pyx_k_1[] = "\000";
static char __pyx_k_2[] = "";
static char __pyx_k_3[] = "unsupported attribute type";
static char __pyx_k_4[] = "attribute %s has unsupported datatype";
static char __pyx_k_6[] = "Switching to 64-bit offset format";
static char __pyx_k_7[] = "Switching to netCDF classic format";
static char __pyx_k_8[] = "format must be 'NETCDF3_64BIT' or 'NETCDF3_CLASSIC', got '%s'";
static char __pyx_k_9[] = "illegal data type for attribute, must be one of %s, got %s";
static char __pyx_k_10[] = "variable %s has unsupported data type";
static char __pyx_k_12[] = "r+";
static char __pyx_k_13[] = "r+s";
static char __pyx_k_14[] = "mode must be 'w', 'r', 'a', 'r+', 'as', 'r+s' or 'ws', got '%s'";
static char __pyx_k_15[] = "%s not a valid variable name";
static char __pyx_k_16[] = "'%s' is one of the reserved attributes %s, cannot delete. Use delncattr instead.";
static char __pyx_k_17[] = "'%s' is one of the reserved attributes %s, cannot rebind. Use setncattr instead.";
static char __pyx_k_18[] = "illegal data type, must be one of %s, got %s";
static char __pyx_k_19[] = "dimension %s not defined in Dataset";
static char __pyx_k_20[] = "shape cannot be altered";
static char __pyx_k_21[] = "dimensions cannot be altered";
static char __pyx_k_22[] = "to assign values to a non-scalar variable, use a slice";
static char __pyx_k_23[] = "to retrieve values from a non-scalar variable, use slicing";
static char __pyx_k_24[] = "size of data array does not conform to slice";
static char __pyx_k_27[] = "cannot using file globbing for remote (OPeNDAP) datasets";
static char __pyx_k_28[] = "master dataset %s does not have an unlimited dimension";
static char __pyx_k_29[] = "master dataset %s does not have any record variable";
static char __pyx_k_30[] = "record variable %s not defined in %s";
static char __pyx_k_31[] = "variable %s is not a record var inside %s";
static char __pyx_k_32[] = "variable %s : dimensions mismatch between master %s (%s) and extension %s (%s)";
static char __pyx_k_33[] = "variable %s : rank mismatch between master %s (%s) and extension %s (%s)";
static char __pyx_k_34[] = "variable %s : shape mismatch between master %s (%s) and extension %s (%s)";
static char __pyx_k_35[] = "variable %s : data type mismatch between master %s (%s) and extension %s (%s)";
static char __pyx_k_36[] = "MFNetCDF4 only works with NETCDF3_CLASSIC, NETCDF3_64BIT and NETCDF4_CLASSIC formatted files, not NETCDF4";
static char __pyx_k_37[] = "set_auto_maskandscale";
static char __pyx_k_38[] = "negative strides not allowed when slicing MFVariable Variable instance";
static char __pyx_k_39[] = "find current sizes of all variable dimensions";
static char __pyx_k_40[] = "Return the number of stored elements.";
static char __pyx_k_41[] = "get variables's dimension names";
static char __pyx_k_42[] = "\nIntroduction\n============\n\nPython interface to the netCDF version 3 library. The API modelled after \nU{Scientific.IO.NetCDF \n<http://dirac.cnrs-orleans.fr/plone/software/scientificpython/>}, and should be \nfamiliar to users of that module. Some new features not found in\nScientific.IO.NetCDF:\n\n - ability to read multi-file netCDF Datasets, making variables\n spanning multiple files appear as if they were in one file\n (see L{MFDataset} for more details).\n - support for masked arrays, automatic packing and unpacking of\n packed integer data (see L{Variable.set_auto_maskandscale} for details).\n - supports more complicated slicing (including numpy 'fancy indexing').\n - includes convenience functions for converting to and from datetime\n objects to numeric time values (see L{num2date} and L{date2num}), using\n all the calendars in the CF standard.\n - convenience functions for converting arrays of characters to arrays\n of strings, and vice-versa (L{stringtochar} and L{chartostring}).\n - can use numpy dtype objects to specify netCDF variable datatype.\n\nDownload \n========\n\n - U{Project page <http://code.google.com/p/netcdf4-python/>}.\n - U{Subversion repository <http://code.google.com/p/netcdf4-python/source>}.\n - U{Source tar.gz <http://code.google.com/p/netcdf4-python/downloads/list>}.\n\nRequires \n======== \n\n - numpy array module U{http://numpy.scipy.org}, version 1.2.1 or later.\n - The netCDF-3 C library (version 3.6 or later), available at\n U{ftp://ftp.unidata.ucar.edu/pub/netcdf}.\n\n\nInstall\n=======\n\n - install the requisite python modules and C libraries (see above).\n Optionally, set the C{NETCDF3_DIR} environment variable to point to where the\n netCDF version 3 library and headers are installed. If C{NETCDF3_DIR} is\n not set, some standard locations will be searched.\n - run C{python setup-nc3.py build}, then C{python setup-nc3.py install} (as root if\n necessary).\n - run some of the tests in the 'test3' directory.\n\nTutorial\n""========\n\n1) Creating/Opening/Closing a netCDF file\n-----------------------------------------\n\nTo create a netCDF file from python, you simply call the L{Dataset}\nconstructor. This is also the method used to open an existing netCDF\nfile.  If the file is open for write access (C{w, r+} or C{a}), you may\nwrite any type of data including new dimensions, variables and\nattributes.  netCDF files come in several flavors (C{NETCDF3_CLASSIC,\nNETCDF3_64BIT, NETCDF4_CLASSIC}, and C{NETCDF4}). The first two flavors\nare supported by version 3 of the netCDF library, and are supported\nin this module. To read or write C{NETCDF4} and C{NETCDF4_CLASSIC}\nfiles use the companion L{netCDF4} python module. The default format\nC{NETCDF3_64BIT}. To see how a given file is formatted, you can examine the\nC{file_format} L{Dataset} attribute.  Closing the netCDF file is\naccomplished via the L{close<Dataset.close>} method of the L{Dataset}\ninstance.\n\nHere's an example:\n\n>>> import netCDF3\n>>> ncfile = netCDF3.Dataset('test.nc', 'w')\n>>> print ncfile.file_format\nNETCDF3_64BIT\n>>>\n>>> ncfile.close()\n            \n2) Dimensions in a netCDF file\n------------------------------\n\nnetCDF defines the sizes of all variables in terms of dimensions, so\nbefore any variables can be created the dimensions they use must be\ncreated first. A special case, not often used in practice, is that of a\nscalar variable, which has no dimensions. A dimension is created using\nthe L{createDimension<Dataset.createDimension>} method of a L{Dataset}\ninstance. A Python string is used to set the name of the\ndimension, and an integer value is used to set the size. To create an\nunlimited dimension (a dimension that can be appended to), the size\nvalue is set to C{None} or 0. netCDF 3 files can only have one unlimited\ndimension, and it must be the first (leftmost) dimension of the variable.\n\n>>> ncfile.createDimension('press', 10)\n>>> ncfile.createDimension('time', None)\n>>> ncfile.createDim""ension('lat', 73)\n>>> ncfile.createDimension('lon', 144)\n            \n\nAll of the L{Dimension} instances are stored in a python dictionary.\n\n>>> print ncfile.dimensions\n{'lat': <netCDF3.Dimension object at 0x24a5f7b0>, \n 'time': <netCDF3.Dimension object at 0x24a5f788>, \n 'lon': <netCDF3.Dimension object at 0x24a5f7d8>, \n 'press': <netCDF3.Dimension object at 0x24a5f760>}\n>>>\n\nCalling the python C{len} function with a L{Dimension} instance returns\nthe current size of that dimension. The\nL{isunlimited<Dimension.isunlimited>} method of a L{Dimension} instance\ncan be used to determine if the dimensions is unlimited, or appendable.\n\n>>> for dimname, dimobj in ncfile.dimensions.iteritems():\n>>>    print dimname, len(dimobj), dimobj.isunlimited()\nlat 73 False\ntime 0 True\nlon 144 False\npress 10 False\n>>>\n\nL{Dimension} names can be changed using the\nL{renameDimension<Dataset.renameDimension>} method of a L{Dataset} instance.\n            \n3) Variables in a netCDF file\n-----------------------------\n\nnetCDF variables behave much like python multidimensional array objects\nsupplied by the U{numpy module <http://numpy.scipy.org>}. However,\nunlike numpy arrays, netCDF3 variables can be appended to along one \n'unlimited' dimension. To create a netCDF variable, use the\nL{createVariable<Dataset.createVariable>} method of a L{Dataset}\ninstance. The L{createVariable<Dataset.createVariable>} method\nhas two mandatory arguments, the variable name (a Python string), and\nthe variable datatype. The variable's dimensions are given by a tuple\ncontaining the dimension names (defined previously with\nL{createDimension<Dataset.createDimension>}). To create a scalar\nvariable, simply leave out the dimensions keyword. The variable\nprimitive datatypes correspond to the dtype attribute of a numpy array. \nYou can specify the datatype as a numpy dtype object, or anything that\ncan be converted to a numpy dtype object.  Valid datatype specifiers\ninclude: C{'f4'""} (32-bit floating point), C{'f8'} (64-bit floating\npoint), C{'i4'} (32-bit signed integer), C{'i2'} (16-bit signed\ninteger), C{'i1'} (8-bit signed integer), or C{'S1'} (single-character string)\nThe old Numeric single-character typecodes (C{'f'},C{'d'},C{'h'},\nC{'s'},C{'b'},C{'B'},C{'c'},C{'i'},C{'l'}), corresponding to\n(C{'f4'},C{'f8'},C{'i2'},C{'i2'},C{'i1'},C{'i1'},C{'S1'},C{'i4'},C{'i4'}),\nwill also work. \n\nThe dimensions themselves are usually also defined as variables, called\ncoordinate variables. The L{createVariable<Dataset.createVariable>}\nmethod returns an instance of the L{Variable} class whose methods can be\nused later to access and set variable data and attributes.\n\n>>> times = ncfile.createVariable('time','f8',('time',))\n>>> pressure = ncfile.createVariable('press','i4',('press',))\n>>> latitudes = ncfile.createVariable('latitude','f4',('lat',))\n>>> longitudes = ncfile.createVariable('longitude','f4',('lon',))\n>>> # two dimensions unlimited.\n>>> temp = ncfile.createVariable('temp','f4',('time','press','lat','lon',))\n\nAll of the variables in the L{Dataset} are stored in a\nPython dictionary, in the same way as the dimensions:\n\n>>> print ncfile.variables\n{'temp': <netCDF3.Variable object at 0x24a61068>,\n 'pressure': <netCDF3.Variable object at 0.35f0f80>, \n 'longitude': <netCDF3.Variable object at 0x24a61030>,\n 'pressure': <netCDF3.Variable object at 0x24a610a0>, \n 'time': <netCDF3.Variable object at 02x45f0.4.58>, \n 'latitude': <netCDF3.Variable object at 0.3f0fb8>}\n>>>\n\nL{Variable} names can be changed using the\nL{renameVariable<Dataset.renameVariable>} method of a L{Dataset}\ninstance.\n            \n\n4) Attributes in a netCDF file\n------------------------------\n\nThere are two types of attributes in a netCDF file, global and variable. \nGlobal attributes provide information about a dataset as a whole.\nL{Variable} attributes provide information about\none of the variables in a dataset. Global attributes are set by as""signing\nvalues to L{Dataset} instance variables. L{Variable}\nattributes are set by assigning values to L{Variable} instance\nvariables. Attributes can be strings, numbers or sequences. Returning to\nour example,\n\n>>> import time\n>>> ncfile.description = 'bogus example script'\n>>> ncfile.history = 'Created ' + time.ctime(time.time())\n>>> ncfile.source = 'netCDF3 python module tutorial'\n>>> latitudes.units = 'degrees north'\n>>> longitudes.units = 'degrees east'\n>>> pressure.units = 'hPa'\n>>> temp.units = 'K'\n>>> times.units = 'hours since 0001-01-01 00:00:00.0'\n>>> times.calendar = 'gregorian'\n\nThe L{ncattrs<Dataset.ncattrs>} method of a L{Dataset} or\nL{Variable} instance can be used to retrieve the names of all the netCDF\nattributes. This method is provided as a convenience, since using the\nbuilt-in C{dir} Python function will return a bunch of private methods\nand attributes that cannot (or should not) be modified by the user.\n\n>>> for name in ncfile.ncattrs():\n>>>     print 'Global attr', name, '=', getattr(ncfile,name)\nGlobal attr description = bogus example script\nGlobal attr history = Created Mon Nov  7 10.30:56 2005\nGlobal attr source = netCDF3 python module tutorial\n\nThe C{__dict__} attribute of a L{Dataset} or L{Variable} \ninstance provides all the netCDF attribute name/value pairs in a python \ndictionary:\n\n>>> print ncfile.__dict__\n{'source': 'netCDF3 python module tutorial',\n'description': 'bogus example script',\n'history': 'Created Mon Nov  7 10.30:56 2005'}\n\nAttributes can be deleted from a netCDF L{Dataset} or\nL{Variable} using the python C{del} statement (i.e. C{del var.foo}\nremoves the attribute C{foo} the the variable C{var}).\n\n6) Writing data to and retrieving data from a netCDF variable\n-------------------------------------------------------------\n\nNow that you have a netCDF L{Variable} instance, how do you put data\ninto it? You can just treat it like an array and assign data to a slice.\n\n>>> import numpy"" \n>>> latitudes[:] = numpy.arange(-90,91,2.5)\n>>> pressure[:] = numpy.arange(1000,90,-100)\n>>> print 'latitudes =\\n',latitudes[:]\nlatitudes =\n[-90.  -87.5 -85.  -82.5 -80.  -77.5 -75.  -72.5 -70.  -67.5 -65.  -62.5\n -60.  -57.5 -55.  -52.5 -50.  -47.5 -45.  -42.5 -40.  -37.5 -35.  -32.5\n -30.  -27.5 -25.  -22.5 -20.  -17.5 -15.  -12.5 -10.   -7.5  -5.   -2.5\n   0.    2.5   5.    7.5  10.   12.5  15.   17.5  20.   22.5  25.   27.5\n  30.   32.5  35.   37.5  40.   42.5  45.   47.5  50.   52.5  55.   57.5\n  60.   62.5  65.   67.5  70.   72.5  75.   77.5  80.   82.5  85.   87.5\n  90. ]\n>>>\n>>> print 'pressure levels =\\n',pressure[:]\n[1000  900  800  700  600  500  400  300  200  100]\n>>>\n\nUnlike numpy array objects, netCDF L{Variable} objects with unlimited\ndimensions will grow along those dimensions if you assign data outside\nthe currently defined range of indices.\n\n>>> # append along two unlimited dimensions by assigning to slice.\n>>> nlats = len(ncfile.dimensions['lat'])\n>>> nlons = len(ncfile.dimensions['lon'])\n>>> nlevs = len(ncfile.dimensions['press'])\n>>> print 'temp shape before adding data = ',temp.shape\ntemp shape before adding data =  (0, 10, 73, 144)\n>>>\n>>> from numpy.random.mtrand import uniform\n>>> temp[0:5,:,:,:] = uniform(size=(5,nlevs,nlats,nlons))\n>>> print 'temp shape after adding data = ',temp.shape\ntemp shape after adding data =  (5, 16, 73, 144)\n>>>\n\nTime coordinate values pose a special challenge to netCDF users.  Most\nmetadata standards (such as CF and COARDS) specify that time should be\nmeasure relative to a fixed date using a certain calendar, with units\nspecified like C{hours since YY:MM:DD hh-mm-ss}.  These units can be\nawkward to deal with, without a utility to convert the values to and\nfrom calendar dates.  The functione called L{num2date} and L{date2num} are\nprovided with this package to do just that.  Here's an example of how they\ncan be used:\n\n>>> # fill in times.\n>>> from datetime import dat""etime, timedelta\n>>> from netCDF3 import num2date, date2num\n>>> dates = [datetime(2001,3,1)+n*timedelta(hours=12) for n in range(temp.shape[0])]\n>>> times[:] = date2num(dates,units=times.units,calendar=times.calendar)\n>>> print 'time values (in units %s): ' % times.units+'\\n',times[:]\ntime values (in units hours since January 1, 0001): \n[ 17533056.  17533068.  17533080.  17533092.  17533104.]\n>>>\n>>> dates = num2date(times[:],units=times.units,calendar=times.calendar)\n>>> print 'dates corresponding to time values:\\n',dates\ndates corresponding to time values:\n[2001-03-01 00:00:00 2001-03-01 12:00:00 2001-03-02 00:00:00\n 2001-03-02 12:00:00 2001-03-03 00:00:00]\n>>>\n\nL{num2date} converts numeric values of time in the specified C{units}\nand C{calendar} to datetime objects, and L{date2num} does the reverse.\nAll the calendars currently defined in the U{CF metadata convention \n<http://cf-pcmdi.llnl.gov/documents/cf-conventions/>} are supported.\nA function called L{date2index} is also provided which returns the indices\nof a netCDF time variable corresponding to a sequence of datetime instances.\n            \nAll of the code in this tutorial is available in C{examples/tutorial-nc3.py},\nUnit tests are in the C{test3} directory.\n\n7) Reading data from a multi-file netCDF dataset.\n-------------------------------------------------\n\nIf you want to read data from a variable that spans multiple netCDF files,\nyou can use the L{MFDataset} class to read the data as if it were \ncontained in a single file. Instead of using a single filename to create\na L{Dataset} instance, create a L{MFDataset} instance with either a list\nof filenames, or a string with a wildcard (which is then converted to\na sorted list of files using the python glob module).\nVariables in the list of files that share the same unlimited \ndimension are aggregated together, and can be sliced across multiple\nfiles.  To illustrate this, let's first create a bunch of netCDF files with\nthe"" same variable (with the same unlimited dimension).\n\n>>> for nfile in range(10):\n>>>     f = Dataset('mftest'+repr(nfile)+'.nc','w')\n>>>     f.createDimension('x',None)\n>>>     x = f.createVariable('x','i',('x',))\n>>>     x[0:10] = numpy.arange(nfile*10,10*(nfile+1))\n>>>     f.close()\n\nNow read all the files back in at once with L{MFDataset}\n\n>>> f = MFDataset('mftest*nc')\n>>> print f.variables['x'][:]\n[ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24\n 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49\n 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74\n 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99]\n>>>\n\nNote that MFDataset can only be used to read, not write, multi-file\ndatasets.\n\n@contact: Jeffrey Whitaker <jeffrey.s.whitaker@noaa.gov>\n\n@copyright: 2008 by Jeffrey Whitaker.\n\n@license: Permission to use, copy, modify, and distribute this software and\nits documentation for any purpose and without fee is hereby granted,\nprovided that the above copyright notice appear in all copies and that\nboth the copyright notice and this permission notice appear in\nsupporting documentation.\nTHE AUTHOR DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE,\nINCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO\nEVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, INDIRECT OR\nCONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF\nUSE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.";
static char __pyx_k_43[] = "0.9.3";
static char __pyx_k_44[] = ".";
static char __pyx_k_45[] = "requires numpy version 1.0rc1 or later";
static char __pyx_k_46[] = "\nMFDataset(self, files, check=False, exclude=[])\n\nClass for reading multi-file netCDF Datasets, making variables\nspanning multiple files appear as if they were in one file.\n\nDatasets must be in C{NETCDF4_CLASSIC, NETCDF3_CLASSIC or NETCDF3_64BIT}\nformat (C{NETCDF4} Datasets won't work).\n\nAdapted from U{pycdf <http://pysclint.sourceforge.net/pycdf>} by Andre Gosselin.\n\nExample usage:\n\n>>> import numpy\n>>> # create a series of netCDF files with a variable sharing\n>>> # the same unlimited dimension.\n>>> for nfile in range(10):\n>>>     f = Dataset('mftest'+repr(nfile)+'.nc','w')\n>>>     f.createDimension('x',None)\n>>>     x = f.createVariable('x','i',('x',))\n>>>     x[0:10] = numpy.arange(nfile*10,10*(nfile+1))\n>>>     f.close()\n>>> # now read all those files in at once, in one Dataset.\n>>> f = MFDataset('mftest*nc')\n>>> print f.variables['x'][:]\n[ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24\n 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49\n 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74\n 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99]\n    ";
static char __pyx_k__1[] = "1";
static char __pyx_k__S[] = "S";
static char __pyx_k__a[] = "a";
static char __pyx_k__i[] = "i";
static char __pyx_k__r[] = "r";
static char __pyx_k__w[] = "w";
static char __pyx_k__S1[] = "S1";
static char __pyx_k____[] = "__";
static char __pyx_k__as[] = "as";
static char __pyx_k__f4[] = "f4";
static char __pyx_k__f8[] = "f8";
static char __pyx_k__i1[] = "i1";
static char __pyx_k__i2[] = "i2";
static char __pyx_k__i4[] = "i4";
static char __pyx_k__i8[] = "i8";
static char __pyx_k__id[] = "id";
static char __pyx_k__ma[] = "ma";
static char __pyx_k__os[] = "os";
static char __pyx_k__ws[] = "ws";
static char __pyx_k__any[] = "any";
static char __pyx_k__dim[] = "dim";
static char __pyx_k__grp[] = "grp";
static char __pyx_k__pop[] = "pop";
static char __pyx_k__str[] = "str";
static char __pyx_k__sum[] = "sum";
static char __pyx_k__val[] = "val";
static char __pyx_k__var[] = "var";
static char __pyx_k__zip[] = "zip";
static char __pyx_k___cdf[] = "_cdf";
static char __pyx_k___get[] = "_get";
static char __pyx_k___grp[] = "_grp";
static char __pyx_k___key[] = "_key";
static char __pyx_k___put[] = "_put";
static char __pyx_k__bool[] = "bool";
static char __pyx_k__char[] = "char";
static char __pyx_k__copy[] = "copy";
static char __pyx_k__data[] = "data";
static char __pyx_k__dset[] = "dset";
static char __pyx_k__elem[] = "elem";
static char __pyx_k__glob[] = "glob";
static char __pyx_k__http[] = "http";
static char __pyx_k__item[] = "item";
static char __pyx_k__keys[] = "keys";
static char __pyx_k__kind[] = "kind";
static char __pyx_k__mask[] = "mask";
static char __pyx_k__mode[] = "mode";
static char __pyx_k__name[] = "name";
static char __pyx_k__ndim[] = "ndim";
static char __pyx_k__prod[] = "prod";
static char __pyx_k__self[] = "self";
static char __pyx_k__size[] = "size";
static char __pyx_k__tile[] = "tile";
static char __pyx_k___dims[] = "_dims";
static char __pyx_k___dset[] = "_dset";
static char __pyx_k___toma[] = "_toma";
static char __pyx_k___vars[] = "_vars";
static char __pyx_k__array[] = "array";
static char __pyx_k__check[] = "check";
static char __pyx_k__close[] = "close";
static char __pyx_k__count[] = "count";
static char __pyx_k__dates[] = "dates";
static char __pyx_k__dtype[] = "dtype";
static char __pyx_k__empty[] = "empty";
static char __pyx_k__exact[] = "exact";
static char __pyx_k__files[] = "files";
static char __pyx_k__float[] = "float";
static char __pyx_k__items[] = "items";
static char __pyx_k__numpy[] = "numpy";
static char __pyx_k__range[] = "range";
static char __pyx_k__ravel[] = "ravel";
static char __pyx_k__shape[] = "shape";
static char __pyx_k__split[] = "split";
static char __pyx_k__start[] = "start";
static char __pyx_k__times[] = "times";
static char __pyx_k__units[] = "units";
static char __pyx_k__utime[] = "utime";
static char __pyx_k__value[] = "value";
static char __pyx_k__zeros[] = "zeros";
static char __pyx_k___dimid[] = "_dimid";
static char __pyx_k___files[] = "_files";
static char __pyx_k___grpid[] = "_grpid";
static char __pyx_k___redef[] = "_redef";
static char __pyx_k___shape[] = "_shape";
static char __pyx_k___value[] = "_value";
static char __pyx_k___varid[] = "_varid";
static char __pyx_k__astype[] = "astype";
static char __pyx_k__extend[] = "extend";
static char __pyx_k__filled[] = "filled";
static char __pyx_k__format[] = "format";
static char __pyx_k__nctime[] = "nctime";
static char __pyx_k__object[] = "object";
static char __pyx_k__select[] = "select";
static char __pyx_k__sorted[] = "sorted";
static char __pyx_k__stride[] = "stride";
static char __pyx_k__string[] = "string";
static char __pyx_k__IOError[] = "IOError";
static char __pyx_k__NETCDF4[] = "NETCDF4";
static char __pyx_k____len__[] = "__len__";
static char __pyx_k___enddef[] = "_enddef";
static char __pyx_k___recLen[] = "_recLen";
static char __pyx_k___recVar[] = "_recVar";
static char __pyx_k__clobber[] = "clobber";
static char __pyx_k__dimlens[] = "dimlens";
static char __pyx_k__dimname[] = "dimname";
static char __pyx_k__exclude[] = "exclude";
static char __pyx_k__has_key[] = "has_key";
static char __pyx_k__ncattrs[] = "ncattrs";
static char __pyx_k__newname[] = "newname";
static char __pyx_k__oldname[] = "oldname";
static char __pyx_k__replace[] = "replace";
static char __pyx_k__reshape[] = "reshape";
static char __pyx_k__squeeze[] = "squeeze";
static char __pyx_k__varname[] = "varname";
static char __pyx_k__verbose[] = "verbose";
static char __pyx_k__KeyError[] = "KeyError";
static char __pyx_k__NUMCHARS[] = "NUMCHARS";
static char __pyx_k____dict__[] = "__dict__";
static char __pyx_k____init__[] = "__init__";
static char __pyx_k____main__[] = "__main__";
static char __pyx_k____test__[] = "__test__";
static char __pyx_k___cdfTLen[] = "_cdfTLen";
static char __pyx_k___cdfVLen[] = "_cdfVLen";
static char __pyx_k__calendar[] = "calendar";
static char __pyx_k__datatype[] = "datatype";
static char __pyx_k__date2num[] = "date2num";
static char __pyx_k__endswith[] = "endswith";
static char __pyx_k__filename[] = "filename";
static char __pyx_k__itemsize[] = "itemsize";
static char __pyx_k__num2date[] = "num2date";
static char __pyx_k__standard[] = "standard";
static char __pyx_k__tostring[] = "tostring";
static char __pyx_k__typecode[] = "typecode";
static char __pyx_k__MFDataset[] = "MFDataset";
static char __pyx_k__TypeError[] = "TypeError";
static char __pyx_k___Variable[] = "_Variable";
static char __pyx_k__datashape[] = "datashape";
static char __pyx_k__delncattr[] = "delncattr";
static char __pyx_k__dimtotlen[] = "dimtotlen";
static char __pyx_k__enumerate[] = "enumerate";
static char __pyx_k__getncattr[] = "getncattr";
static char __pyx_k__iteritems[] = "iteritems";
static char __pyx_k__setncattr[] = "setncattr";
static char __pyx_k__variables[] = "variables";
static char __pyx_k__IndexError[] = "IndexError";
static char __pyx_k__ValueError[] = "ValueError";
static char __pyx_k___Dimension[] = "_Dimension";
static char __pyx_k___FillValue[] = "_FillValue";
static char __pyx_k___cdfRecVar[] = "_cdfRecVar";
static char __pyx_k___mastervar[] = "_mastervar";
static char __pyx_k___npversion[] = "_npversion";
static char __pyx_k___nunlimdim[] = "_nunlimdim";
static char __pyx_k__add_offset[] = "add_offset";
static char __pyx_k__date2index[] = "date2index";
static char __pyx_k__dimensions[] = "dimensions";
static char __pyx_k__fill_value[] = "fill_value";
static char __pyx_k__netcdftime[] = "netcdftime";
static char __pyx_k__recdimname[] = "recdimname";
static char __pyx_k__startswith[] = "startswith";
static char __pyx_k__ImportError[] = "ImportError";
static char __pyx_k__OrderedDict[] = "OrderedDict";
static char __pyx_k____getattr__[] = "__getattr__";
static char __pyx_k____getitem__[] = "__getitem__";
static char __pyx_k____setattr__[] = "__setattr__";
static char __pyx_k____version__[] = "__version__";
static char __pyx_k___nctonptype[] = "_nctonptype";
static char __pyx_k___nptonctype[] = "_nptonctype";
static char __pyx_k___recdimname[] = "_recdimname";
static char __pyx_k__collections[] = "collections";
static char __pyx_k__concatenate[] = "concatenate";
static char __pyx_k__file_format[] = "file_format";
static char __pyx_k__isunlimited[] = "isunlimited";
static char __pyx_k__maskanscale[] = "maskanscale";
static char __pyx_k__RuntimeError[] = "RuntimeError";
static char __pyx_k___file_format[] = "_file_format";
static char __pyx_k__maskandscale[] = "maskandscale";
static char __pyx_k__masked_array[] = "masked_array";
static char __pyx_k__scale_factor[] = "scale_factor";
static char __pyx_k__NETCDF3_64BIT[] = "NETCDF3_64BIT";
static char __pyx_k___private_atts[] = "_private_atts";
static char __pyx_k__missing_value[] = "missing_value";
static char __pyx_k__netCDF4_utils[] = "netCDF4_utils";
static char __pyx_k__AttributeError[] = "AttributeError";
static char __pyx_k__NETCDF3_CLASSIC[] = "NETCDF3_CLASSIC";
static char __pyx_k__NETCDF4_CLASSIC[] = "NETCDF4_CLASSIC";
static char __pyx_k___supportedtypes[] = "_supportedtypes";
static char __pyx_k____getattribute__[] = "__getattribute__";
static char __pyx_k___out_array_shape[] = "_out_array_shape";
static char __pyx_k___StartCountStride[] = "_StartCountStride";
static char __pyx_k___default_fillvals[] = "_default_fillvals";
static char __pyx_k___set_default_format[] = "_set_default_format";
static PyObject *__pyx_kp_s_1;
static PyObject *__pyx_kp_s_10;
static PyObject *__pyx_kp_s_12;
static PyObject *__pyx_kp_s_13;
static PyObject *__pyx_kp_s_14;
static PyObject *__pyx_kp_s_15;
static PyObject *__pyx_kp_s_16;
static PyObject *__pyx_kp_s_17;
static PyObject *__pyx_kp_s_18;
static PyObject *__pyx_kp_s_19;
static PyObject *__pyx_kp_s_2;
static PyObject *__pyx_kp_s_20;
static PyObject *__pyx_kp_s_21;
static PyObject *__pyx_kp_s_22;
static PyObject *__pyx_kp_s_23;
static PyObject *__pyx_kp_s_24;
static PyObject *__pyx_kp_s_27;
static PyObject *__pyx_kp_s_28;
static PyObject *__pyx_kp_s_29;
static PyObject *__pyx_kp_s_3;
static PyObject *__pyx_kp_s_30;
static PyObject *__pyx_kp_s_31;
static PyObject *__pyx_kp_s_32;
static PyObject *__pyx_kp_s_33;
static PyObject *__pyx_kp_s_34;
static PyObject *__pyx_kp_s_35;
static PyObject *__pyx_kp_s_36;
static PyObject *__pyx_n_s_37;
static PyObject *__pyx_kp_s_38;
static PyObject *__pyx_kp_s_4;
static PyObject *__pyx_kp_s_43;
static PyObject *__pyx_kp_s_44;
static PyObject *__pyx_kp_s_45;
static PyObject *__pyx_kp_s_46;
static PyObject *__pyx_kp_s_6;
static PyObject *__pyx_kp_s_7;
static PyObject *__pyx_kp_s_8;
static PyObject *__pyx_kp_s_9;
static PyObject *__pyx_kp_s__1;
static PyObject *__pyx_n_s__AttributeError;
static PyObject *__pyx_n_s__IOError;
static PyObject *__pyx_n_s__ImportError;
static PyObject *__pyx_n_s__IndexError;
static PyObject *__pyx_n_s__KeyError;
static PyObject *__pyx_n_s__MFDataset;
static PyObject *__pyx_n_s__NETCDF3_64BIT;
static PyObject *__pyx_n_s__NETCDF3_CLASSIC;
static PyObject *__pyx_n_s__NETCDF4;
static PyObject *__pyx_n_s__NETCDF4_CLASSIC;
static PyObject *__pyx_n_s__NUMCHARS;
static PyObject *__pyx_n_s__OrderedDict;
static PyObject *__pyx_n_s__RuntimeError;
static PyObject *__pyx_n_s__S;
static PyObject *__pyx_n_s__S1;
static PyObject *__pyx_n_s__TypeError;
static PyObject *__pyx_n_s__ValueError;
static PyObject *__pyx_n_s___Dimension;
static PyObject *__pyx_n_s___FillValue;
static PyObject *__pyx_n_s___StartCountStride;
static PyObject *__pyx_n_s___Variable;
static PyObject *__pyx_n_s____;
static PyObject *__pyx_n_s____dict__;
static PyObject *__pyx_n_s____getattr__;
static PyObject *__pyx_n_s____getattribute__;
static PyObject *__pyx_n_s____getitem__;
static PyObject *__pyx_n_s____init__;
static PyObject *__pyx_n_s____len__;
static PyObject *__pyx_n_s____main__;
static PyObject *__pyx_n_s____setattr__;
static PyObject *__pyx_n_s____test__;
static PyObject *__pyx_n_s____version__;
static PyObject *__pyx_n_s___cdf;
static PyObject *__pyx_n_s___cdfRecVar;
static PyObject *__pyx_n_s___cdfTLen;
static PyObject *__pyx_n_s___cdfVLen;
static PyObject *__pyx_n_s___default_fillvals;
static PyObject *__pyx_n_s___dimid;
static PyObject *__pyx_n_s___dims;
static PyObject *__pyx_n_s___dset;
static PyObject *__pyx_n_s___enddef;
static PyObject *__pyx_n_s___file_format;
static PyObject *__pyx_n_s___files;
static PyObject *__pyx_n_s___get;
static PyObject *__pyx_n_s___grp;
static PyObject *__pyx_n_s___grpid;
static PyObject *__pyx_n_s___key;
static PyObject *__pyx_n_s___mastervar;
static PyObject *__pyx_n_s___nctonptype;
static PyObject *__pyx_n_s___nptonctype;
static PyObject *__pyx_n_s___npversion;
static PyObject *__pyx_n_s___nunlimdim;
static PyObject *__pyx_n_s___out_array_shape;
static PyObject *__pyx_n_s___private_atts;
static PyObject *__pyx_n_s___put;
static PyObject *__pyx_n_s___recLen;
static PyObject *__pyx_n_s___recVar;
static PyObject *__pyx_n_s___recdimname;
static PyObject *__pyx_n_s___redef;
static PyObject *__pyx_n_s___set_default_format;
static PyObject *__pyx_n_s___shape;
static PyObject *__pyx_n_s___supportedtypes;
static PyObject *__pyx_n_s___toma;
static PyObject *__pyx_n_s___value;
static PyObject *__pyx_n_s___varid;
static PyObject *__pyx_n_s___vars;
static PyObject *__pyx_n_s__a;
static PyObject *__pyx_n_s__add_offset;
static PyObject *__pyx_n_s__any;
static PyObject *__pyx_n_s__array;
static PyObject *__pyx_n_s__as;
static PyObject *__pyx_n_s__astype;
static PyObject *__pyx_n_s__bool;
static PyObject *__pyx_n_s__calendar;
static PyObject *__pyx_n_s__char;
static PyObject *__pyx_n_s__check;
static PyObject *__pyx_n_s__clobber;
static PyObject *__pyx_n_s__close;
static PyObject *__pyx_n_s__collections;
static PyObject *__pyx_n_s__concatenate;
static PyObject *__pyx_n_s__copy;
static PyObject *__pyx_n_s__count;
static PyObject *__pyx_n_s__data;
static PyObject *__pyx_n_s__datashape;
static PyObject *__pyx_n_s__datatype;
static PyObject *__pyx_n_s__date2index;
static PyObject *__pyx_n_s__date2num;
static PyObject *__pyx_n_s__dates;
static PyObject *__pyx_n_s__delncattr;
static PyObject *__pyx_n_s__dim;
static PyObject *__pyx_n_s__dimensions;
static PyObject *__pyx_n_s__dimlens;
static PyObject *__pyx_n_s__dimname;
static PyObject *__pyx_n_s__dimtotlen;
static PyObject *__pyx_n_s__dset;
static PyObject *__pyx_n_s__dtype;
static PyObject *__pyx_n_s__elem;
static PyObject *__pyx_n_s__empty;
static PyObject *__pyx_n_s__endswith;
static PyObject *__pyx_n_s__enumerate;
static PyObject *__pyx_n_s__exact;
static PyObject *__pyx_n_s__exclude;
static PyObject *__pyx_n_s__extend;
static PyObject *__pyx_n_s__f4;
static PyObject *__pyx_n_s__f8;
static PyObject *__pyx_n_s__file_format;
static PyObject *__pyx_n_s__filename;
static PyObject *__pyx_n_s__files;
static PyObject *__pyx_n_s__fill_value;
static PyObject *__pyx_n_s__filled;
static PyObject *__pyx_n_s__float;
static PyObject *__pyx_n_s__format;
static PyObject *__pyx_n_s__getncattr;
static PyObject *__pyx_n_s__glob;
static PyObject *__pyx_n_s__grp;
static PyObject *__pyx_n_s__has_key;
static PyObject *__pyx_n_s__http;
static PyObject *__pyx_n_s__i;
static PyObject *__pyx_n_s__i1;
static PyObject *__pyx_n_s__i2;
static PyObject *__pyx_n_s__i4;
static PyObject *__pyx_n_s__i8;
static PyObject *__pyx_n_s__id;
static PyObject *__pyx_n_s__isunlimited;
static PyObject *__pyx_n_s__item;
static PyObject *__pyx_n_s__items;
static PyObject *__pyx_n_s__itemsize;
static PyObject *__pyx_n_s__iteritems;
static PyObject *__pyx_n_s__keys;
static PyObject *__pyx_n_s__kind;
static PyObject *__pyx_n_s__ma;
static PyObject *__pyx_n_s__mask;
static PyObject *__pyx_n_s__maskandscale;
static PyObject *__pyx_n_s__maskanscale;
static PyObject *__pyx_n_s__masked_array;
static PyObject *__pyx_n_s__missing_value;
static PyObject *__pyx_n_s__mode;
static PyObject *__pyx_n_s__name;
static PyObject *__pyx_n_s__ncattrs;
static PyObject *__pyx_n_s__nctime;
static PyObject *__pyx_n_s__ndim;
static PyObject *__pyx_n_s__netCDF4_utils;
static PyObject *__pyx_n_s__netcdftime;
static PyObject *__pyx_n_s__newname;
static PyObject *__pyx_n_s__num2date;
static PyObject *__pyx_n_s__numpy;
static PyObject *__pyx_n_s__object;
static PyObject *__pyx_n_s__oldname;
static PyObject *__pyx_n_s__os;
static PyObject *__pyx_n_s__pop;
static PyObject *__pyx_n_s__prod;
static PyObject *__pyx_n_s__r;
static PyObject *__pyx_n_s__range;
static PyObject *__pyx_n_s__ravel;
static PyObject *__pyx_n_s__recdimname;
static PyObject *__pyx_n_s__replace;
static PyObject *__pyx_n_s__reshape;
static PyObject *__pyx_n_s__scale_factor;
static PyObject *__pyx_n_s__select;
static PyObject *__pyx_n_s__self;
static PyObject *__pyx_n_s__setncattr;
static PyObject *__pyx_n_s__shape;
static PyObject *__pyx_n_s__size;
static PyObject *__pyx_n_s__sorted;
static PyObject *__pyx_n_s__split;
static PyObject *__pyx_n_s__squeeze;
static PyObject *__pyx_n_s__standard;
static PyObject *__pyx_n_s__start;
static PyObject *__pyx_n_s__startswith;
static PyObject *__pyx_n_s__str;
static PyObject *__pyx_n_s__stride;
static PyObject *__pyx_n_s__string;
static PyObject *__pyx_n_s__sum;
static PyObject *__pyx_n_s__tile;
static PyObject *__pyx_n_s__times;
static PyObject *__pyx_n_s__tostring;
static PyObject *__pyx_n_s__typecode;
static PyObject *__pyx_n_s__units;
static PyObject *__pyx_n_s__utime;
static PyObject *__pyx_n_s__val;
static PyObject *__pyx_n_s__value;
static PyObject *__pyx_n_s__var;
static PyObject *__pyx_n_s__variables;
static PyObject *__pyx_n_s__varname;
static PyObject *__pyx_n_s__verbose;
static PyObject *__pyx_n_s__w;
static PyObject *__pyx_n_s__ws;
static PyObject *__pyx_n_s__zeros;
static PyObject *__pyx_n_s__zip;
static PyObject *__pyx_int_0;
static PyObject *__pyx_int_1;
static PyObject *__pyx_int_neg_1;
static PyObject *__pyx_k_5;
static PyObject *__pyx_k_11;
static PyObject *__pyx_k_25;
static PyObject *__pyx_k_26;

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":402
 * # internal C functions.
 * 
 * cdef _get_att_names(int grpid, int varid):             # <<<<<<<<<<<<<<
 *     # Private function to get all the attribute names in a group
 *     cdef int ierr, numatts, n
 */

static  PyObject *__pyx_f_7netCDF3__get_att_names(int __pyx_v_grpid, int __pyx_v_varid) {
  int __pyx_v_ierr;
  int __pyx_v_numatts;
  int __pyx_v_n;
  char __pyx_v_namstring[(NC_MAX_NAME + 1)];
  PyObject *__pyx_v_attslist;
  PyObject *__pyx_r = NULL;
  int __pyx_t_1;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  int __pyx_t_4;
  int __pyx_t_5;
  __Pyx_RefNannySetupContext("_get_att_names");
  __pyx_v_attslist = ((PyObject *)Py_None); __Pyx_INCREF(Py_None);

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":406
 *     cdef int ierr, numatts, n
 *     cdef char namstring[NC_MAX_NAME+1]
 *     if varid == NC_GLOBAL:             # <<<<<<<<<<<<<<
 *         ierr = nc_inq_natts(grpid, &numatts)
 *     else:
 */
  __pyx_t_1 = (__pyx_v_varid == NC_GLOBAL);
  if (__pyx_t_1) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":407
 *     cdef char namstring[NC_MAX_NAME+1]
 *     if varid == NC_GLOBAL:
 *         ierr = nc_inq_natts(grpid, &numatts)             # <<<<<<<<<<<<<<
 *     else:
 *         ierr = nc_inq_varnatts(grpid, varid, &numatts)
 */
    __pyx_v_ierr = nc_inq_natts(__pyx_v_grpid, (&__pyx_v_numatts));
    goto __pyx_L3;
  }
  /*else*/ {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":409
 *         ierr = nc_inq_natts(grpid, &numatts)
 *     else:
 *         ierr = nc_inq_varnatts(grpid, varid, &numatts)             # <<<<<<<<<<<<<<
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))
 */
    __pyx_v_ierr = nc_inq_varnatts(__pyx_v_grpid, __pyx_v_varid, (&__pyx_v_numatts));
  }
  __pyx_L3:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":410
 *     else:
 *         ierr = nc_inq_varnatts(grpid, varid, &numatts)
 *     if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *         raise RuntimeError(nc_strerror(ierr))
 *     attslist = []
 */
  __pyx_t_1 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_t_1) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":411
 *         ierr = nc_inq_varnatts(grpid, varid, &numatts)
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *     attslist = []
 *     for n from 0 <= n < numatts:
 */
    __pyx_t_2 = PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 411; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(((PyObject *)__pyx_t_2));
    __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 411; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    PyTuple_SET_ITEM(__pyx_t_3, 0, ((PyObject *)__pyx_t_2));
    __Pyx_GIVEREF(((PyObject *)__pyx_t_2));
    __pyx_t_2 = 0;
    __pyx_t_2 = PyObject_Call(__pyx_builtin_RuntimeError, __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 411; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_Raise(__pyx_t_2, 0, 0);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 411; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L4;
  }
  __pyx_L4:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":412
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))
 *     attslist = []             # <<<<<<<<<<<<<<
 *     for n from 0 <= n < numatts:
 *         ierr = nc_inq_attname(grpid, varid, n, namstring)
 */
  __pyx_t_2 = PyList_New(0); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 412; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_2));
  __Pyx_DECREF(((PyObject *)__pyx_v_attslist));
  __pyx_v_attslist = __pyx_t_2;
  __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":413
 *         raise RuntimeError(nc_strerror(ierr))
 *     attslist = []
 *     for n from 0 <= n < numatts:             # <<<<<<<<<<<<<<
 *         ierr = nc_inq_attname(grpid, varid, n, namstring)
 *         if ierr != NC_NOERR:
 */
  __pyx_t_4 = __pyx_v_numatts;
  for (__pyx_v_n = 0; __pyx_v_n < __pyx_t_4; __pyx_v_n++) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":414
 *     attslist = []
 *     for n from 0 <= n < numatts:
 *         ierr = nc_inq_attname(grpid, varid, n, namstring)             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
    __pyx_v_ierr = nc_inq_attname(__pyx_v_grpid, __pyx_v_varid, __pyx_v_n, __pyx_v_namstring);

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":415
 *     for n from 0 <= n < numatts:
 *         ierr = nc_inq_attname(grpid, varid, n, namstring)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise RuntimeError(nc_strerror(ierr))
 *         attslist.append(namstring)
 */
    __pyx_t_1 = (__pyx_v_ierr != NC_NOERR);
    if (__pyx_t_1) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":416
 *         ierr = nc_inq_attname(grpid, varid, n, namstring)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *         attslist.append(namstring)
 *     return attslist
 */
      __pyx_t_2 = PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 416; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(((PyObject *)__pyx_t_2));
      __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 416; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      PyTuple_SET_ITEM(__pyx_t_3, 0, ((PyObject *)__pyx_t_2));
      __Pyx_GIVEREF(((PyObject *)__pyx_t_2));
      __pyx_t_2 = 0;
      __pyx_t_2 = PyObject_Call(__pyx_builtin_RuntimeError, __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 416; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_2);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_Raise(__pyx_t_2, 0, 0);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 416; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L7;
    }
    __pyx_L7:;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":417
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 *         attslist.append(namstring)             # <<<<<<<<<<<<<<
 *     return attslist
 * 
 */
    if (unlikely(__pyx_v_attslist == Py_None)) {
      PyErr_SetString(PyExc_AttributeError, "'NoneType' object has no attribute 'append'"); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 417; __pyx_clineno = __LINE__; goto __pyx_L1_error;} 
    }
    __pyx_t_2 = PyBytes_FromString(__pyx_v_namstring); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 417; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(((PyObject *)__pyx_t_2));
    __pyx_t_5 = PyList_Append(((PyObject *)__pyx_v_attslist), ((PyObject *)__pyx_t_2)); if (unlikely(__pyx_t_5 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 417; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(((PyObject *)__pyx_t_2)); __pyx_t_2 = 0;
  }

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":418
 *             raise RuntimeError(nc_strerror(ierr))
 *         attslist.append(namstring)
 *     return attslist             # <<<<<<<<<<<<<<
 * 
 * cdef _get_att(int grpid, int varid, name):
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(((PyObject *)__pyx_v_attslist));
  __pyx_r = ((PyObject *)__pyx_v_attslist);
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("netCDF3._get_att_names");
  __pyx_r = 0;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_attslist);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":420
 *     return attslist
 * 
 * cdef _get_att(int grpid, int varid, name):             # <<<<<<<<<<<<<<
 *     # Private function to get an attribute value given its name
 *     cdef int ierr, n
 */

static  PyObject *__pyx_f_7netCDF3__get_att(int __pyx_v_grpid, int __pyx_v_varid, PyObject *__pyx_v_name) {
  int __pyx_v_ierr;
  size_t __pyx_v_att_len;
  char *__pyx_v_attname;
  nc_type __pyx_v_att_type;
  PyArrayObject *__pyx_v_value_arr;
  PyObject *__pyx_v_pstring;
  PyObject *__pyx_v_type_att;
  PyObject *__pyx_r = NULL;
  int __pyx_t_1;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  PyObject *__pyx_t_6 = NULL;
  __Pyx_RefNannySetupContext("_get_att");
  __pyx_v_value_arr = ((PyArrayObject *)Py_None); __Pyx_INCREF(Py_None);
  __pyx_v_pstring = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_type_att = Py_None; __Pyx_INCREF(Py_None);

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":428
 *     cdef ndarray value_arr
 *     cdef char *strdata
 *     attname = PyString_AsString(name)             # <<<<<<<<<<<<<<
 *     ierr = nc_inq_att(grpid, varid, attname, &att_type, &att_len)
 *     if ierr != NC_NOERR:
 */
  __pyx_v_attname = PyString_AsString(__pyx_v_name);

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":429
 *     cdef char *strdata
 *     attname = PyString_AsString(name)
 *     ierr = nc_inq_att(grpid, varid, attname, &att_type, &att_len)             # <<<<<<<<<<<<<<
 *     if ierr != NC_NOERR:
 *         raise AttributeError(nc_strerror(ierr))
 */
  __pyx_v_ierr = nc_inq_att(__pyx_v_grpid, __pyx_v_varid, __pyx_v_attname, (&__pyx_v_att_type), (&__pyx_v_att_len));

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":430
 *     attname = PyString_AsString(name)
 *     ierr = nc_inq_att(grpid, varid, attname, &att_type, &att_len)
 *     if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *         raise AttributeError(nc_strerror(ierr))
 *     # attribute is a character or string ...
 */
  __pyx_t_1 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_t_1) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":431
 *     ierr = nc_inq_att(grpid, varid, attname, &att_type, &att_len)
 *     if ierr != NC_NOERR:
 *         raise AttributeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *     # attribute is a character or string ...
 *     if att_type == NC_CHAR:
 */
    __pyx_t_2 = PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 431; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(((PyObject *)__pyx_t_2));
    __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 431; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    PyTuple_SET_ITEM(__pyx_t_3, 0, ((PyObject *)__pyx_t_2));
    __Pyx_GIVEREF(((PyObject *)__pyx_t_2));
    __pyx_t_2 = 0;
    __pyx_t_2 = PyObject_Call(__pyx_builtin_AttributeError, __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 431; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_Raise(__pyx_t_2, 0, 0);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 431; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":433
 *         raise AttributeError(nc_strerror(ierr))
 *     # attribute is a character or string ...
 *     if att_type == NC_CHAR:             # <<<<<<<<<<<<<<
 *         value_arr = numpy.empty(att_len,'S1')
 *         ierr = nc_get_att_text(grpid, varid, attname, <char *>value_arr.data)
 */
  __pyx_t_1 = (__pyx_v_att_type == NC_CHAR);
  if (__pyx_t_1) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":434
 *     # attribute is a character or string ...
 *     if att_type == NC_CHAR:
 *         value_arr = numpy.empty(att_len,'S1')             # <<<<<<<<<<<<<<
 *         ierr = nc_get_att_text(grpid, varid, attname, <char *>value_arr.data)
 *         if ierr != NC_NOERR:
 */
    __pyx_t_2 = __Pyx_GetName(__pyx_m, __pyx_n_s__numpy); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 434; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_3 = PyObject_GetAttr(__pyx_t_2, __pyx_n_s__empty); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 434; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = __Pyx_PyInt_FromSize_t(__pyx_v_att_len); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 434; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_4 = PyTuple_New(2); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 434; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_2);
    __Pyx_GIVEREF(__pyx_t_2);
    __Pyx_INCREF(((PyObject *)__pyx_n_s__S1));
    PyTuple_SET_ITEM(__pyx_t_4, 1, ((PyObject *)__pyx_n_s__S1));
    __Pyx_GIVEREF(((PyObject *)__pyx_n_s__S1));
    __pyx_t_2 = 0;
    __pyx_t_2 = PyObject_Call(__pyx_t_3, __pyx_t_4, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 434; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    if (!(likely(((__pyx_t_2) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_2, __pyx_ptype_7netCDF3_ndarray))))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 434; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(((PyObject *)__pyx_v_value_arr));
    __pyx_v_value_arr = ((PyArrayObject *)__pyx_t_2);
    __pyx_t_2 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":435
 *     if att_type == NC_CHAR:
 *         value_arr = numpy.empty(att_len,'S1')
 *         ierr = nc_get_att_text(grpid, varid, attname, <char *>value_arr.data)             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise AttributeError(nc_strerror(ierr))
 */
    __pyx_v_ierr = nc_get_att_text(__pyx_v_grpid, __pyx_v_varid, __pyx_v_attname, __pyx_v_value_arr->data);

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":436
 *         value_arr = numpy.empty(att_len,'S1')
 *         ierr = nc_get_att_text(grpid, varid, attname, <char *>value_arr.data)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise AttributeError(nc_strerror(ierr))
 *         pstring = value_arr.tostring()
 */
    __pyx_t_1 = (__pyx_v_ierr != NC_NOERR);
    if (__pyx_t_1) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":437
 *         ierr = nc_get_att_text(grpid, varid, attname, <char *>value_arr.data)
 *         if ierr != NC_NOERR:
 *             raise AttributeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *         pstring = value_arr.tostring()
 *         # remove NULL characters from python string
 */
      __pyx_t_2 = PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 437; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(((PyObject *)__pyx_t_2));
      __pyx_t_4 = PyTuple_New(1); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 437; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      PyTuple_SET_ITEM(__pyx_t_4, 0, ((PyObject *)__pyx_t_2));
      __Pyx_GIVEREF(((PyObject *)__pyx_t_2));
      __pyx_t_2 = 0;
      __pyx_t_2 = PyObject_Call(__pyx_builtin_AttributeError, __pyx_t_4, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 437; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_2);
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __Pyx_Raise(__pyx_t_2, 0, 0);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 437; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L5;
    }
    __pyx_L5:;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":438
 *         if ierr != NC_NOERR:
 *             raise AttributeError(nc_strerror(ierr))
 *         pstring = value_arr.tostring()             # <<<<<<<<<<<<<<
 *         # remove NULL characters from python string
 *         return pstring.replace('\x00','')
 */
    __pyx_t_2 = PyObject_GetAttr(((PyObject *)__pyx_v_value_arr), __pyx_n_s__tostring); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 438; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_4 = PyObject_Call(__pyx_t_2, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 438; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_DECREF(__pyx_v_pstring);
    __pyx_v_pstring = __pyx_t_4;
    __pyx_t_4 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":440
 *         pstring = value_arr.tostring()
 *         # remove NULL characters from python string
 *         return pstring.replace('\x00','')             # <<<<<<<<<<<<<<
 *     # a regular numeric type.
 *     else:
 */
    __Pyx_XDECREF(__pyx_r);
    __pyx_t_4 = PyObject_GetAttr(__pyx_v_pstring, __pyx_n_s__replace); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 440; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 440; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_INCREF(((PyObject *)__pyx_kp_s_1));
    PyTuple_SET_ITEM(__pyx_t_2, 0, ((PyObject *)__pyx_kp_s_1));
    __Pyx_GIVEREF(((PyObject *)__pyx_kp_s_1));
    __Pyx_INCREF(((PyObject *)__pyx_kp_s_2));
    PyTuple_SET_ITEM(__pyx_t_2, 1, ((PyObject *)__pyx_kp_s_2));
    __Pyx_GIVEREF(((PyObject *)__pyx_kp_s_2));
    __pyx_t_3 = PyObject_Call(__pyx_t_4, __pyx_t_2, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 440; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_r = __pyx_t_3;
    __pyx_t_3 = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  /*else*/ {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":443
 *     # a regular numeric type.
 *     else:
 *         if att_type == NC_LONG:             # <<<<<<<<<<<<<<
 *             att_type = NC_INT
 *         if att_type not in _nctonptype.keys():
 */
    __pyx_t_1 = (__pyx_v_att_type == NC_LONG);
    if (__pyx_t_1) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":444
 *     else:
 *         if att_type == NC_LONG:
 *             att_type = NC_INT             # <<<<<<<<<<<<<<
 *         if att_type not in _nctonptype.keys():
 *             raise ValueError, 'unsupported attribute type'
 */
      __pyx_v_att_type = NC_INT;
      goto __pyx_L6;
    }
    __pyx_L6:;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":445
 *         if att_type == NC_LONG:
 *             att_type = NC_INT
 *         if att_type not in _nctonptype.keys():             # <<<<<<<<<<<<<<
 *             raise ValueError, 'unsupported attribute type'
 *         try:
 */
    __pyx_t_3 = __Pyx_PyInt_to_py_nc_type(__pyx_v_att_type); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 445; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_2 = __Pyx_GetName(__pyx_m, __pyx_n_s___nctonptype); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 445; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_4 = PyObject_GetAttr(__pyx_t_2, __pyx_n_s__keys); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 445; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = PyObject_Call(__pyx_t_4, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 445; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_1 = (__Pyx_NegateNonNeg(PySequence_Contains(__pyx_t_2, __pyx_t_3))); if (unlikely(__pyx_t_1 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 445; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    if (__pyx_t_1) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":446
 *             att_type = NC_INT
 *         if att_type not in _nctonptype.keys():
 *             raise ValueError, 'unsupported attribute type'             # <<<<<<<<<<<<<<
 *         try:
 *             type_att = _nctonptype[att_type]
 */
      __Pyx_Raise(__pyx_builtin_ValueError, ((PyObject *)__pyx_kp_s_3), 0);
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 446; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L7;
    }
    __pyx_L7:;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":447
 *         if att_type not in _nctonptype.keys():
 *             raise ValueError, 'unsupported attribute type'
 *         try:             # <<<<<<<<<<<<<<
 *             type_att = _nctonptype[att_type]
 *         except:
 */
    {
      PyObject *__pyx_save_exc_type, *__pyx_save_exc_value, *__pyx_save_exc_tb;
      __Pyx_ExceptionSave(&__pyx_save_exc_type, &__pyx_save_exc_value, &__pyx_save_exc_tb);
      __Pyx_XGOTREF(__pyx_save_exc_type);
      __Pyx_XGOTREF(__pyx_save_exc_value);
      __Pyx_XGOTREF(__pyx_save_exc_tb);
      /*try:*/ {

        /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":448
 *             raise ValueError, 'unsupported attribute type'
 *         try:
 *             type_att = _nctonptype[att_type]             # <<<<<<<<<<<<<<
 *         except:
 *             raise KeyError('attribute %s has unsupported datatype' % attname)
 */
        __pyx_t_2 = __Pyx_GetName(__pyx_m, __pyx_n_s___nctonptype); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 448; __pyx_clineno = __LINE__; goto __pyx_L8_error;}
        __Pyx_GOTREF(__pyx_t_2);
        __pyx_t_3 = __Pyx_GetItemInt(__pyx_t_2, __pyx_v_att_type, sizeof(nc_type), __Pyx_PyInt_to_py_nc_type); if (!__pyx_t_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 448; __pyx_clineno = __LINE__; goto __pyx_L8_error;}
        __Pyx_GOTREF(__pyx_t_3);
        __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
        __Pyx_DECREF(__pyx_v_type_att);
        __pyx_v_type_att = __pyx_t_3;
        __pyx_t_3 = 0;
      }
      __Pyx_XDECREF(__pyx_save_exc_type); __pyx_save_exc_type = 0;
      __Pyx_XDECREF(__pyx_save_exc_value); __pyx_save_exc_value = 0;
      __Pyx_XDECREF(__pyx_save_exc_tb); __pyx_save_exc_tb = 0;
      goto __pyx_L15_try_end;
      __pyx_L8_error:;
      __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
      __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
      __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":449
 *         try:
 *             type_att = _nctonptype[att_type]
 *         except:             # <<<<<<<<<<<<<<
 *             raise KeyError('attribute %s has unsupported datatype' % attname)
 *         value_arr = numpy.empty(att_len,type_att)
 */
      /*except:*/ {
        __Pyx_AddTraceback("netCDF3._get_att");
        if (__Pyx_GetException(&__pyx_t_3, &__pyx_t_2, &__pyx_t_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 449; __pyx_clineno = __LINE__; goto __pyx_L10_except_error;}
        __Pyx_GOTREF(__pyx_t_3);
        __Pyx_GOTREF(__pyx_t_2);
        __Pyx_GOTREF(__pyx_t_4);

        /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":450
 *             type_att = _nctonptype[att_type]
 *         except:
 *             raise KeyError('attribute %s has unsupported datatype' % attname)             # <<<<<<<<<<<<<<
 *         value_arr = numpy.empty(att_len,type_att)
 *         ierr = nc_get_att(grpid, varid, attname, value_arr.data)
 */
        __pyx_t_5 = PyBytes_FromString(__pyx_v_attname); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 450; __pyx_clineno = __LINE__; goto __pyx_L10_except_error;}
        __Pyx_GOTREF(((PyObject *)__pyx_t_5));
        __pyx_t_6 = PyNumber_Remainder(((PyObject *)__pyx_kp_s_4), ((PyObject *)__pyx_t_5)); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 450; __pyx_clineno = __LINE__; goto __pyx_L10_except_error;}
        __Pyx_GOTREF(((PyObject *)__pyx_t_6));
        __Pyx_DECREF(((PyObject *)__pyx_t_5)); __pyx_t_5 = 0;
        __pyx_t_5 = PyTuple_New(1); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 450; __pyx_clineno = __LINE__; goto __pyx_L10_except_error;}
        __Pyx_GOTREF(__pyx_t_5);
        PyTuple_SET_ITEM(__pyx_t_5, 0, ((PyObject *)__pyx_t_6));
        __Pyx_GIVEREF(((PyObject *)__pyx_t_6));
        __pyx_t_6 = 0;
        __pyx_t_6 = PyObject_Call(__pyx_builtin_KeyError, __pyx_t_5, NULL); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 450; __pyx_clineno = __LINE__; goto __pyx_L10_except_error;}
        __Pyx_GOTREF(__pyx_t_6);
        __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
        __Pyx_Raise(__pyx_t_6, 0, 0);
        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 450; __pyx_clineno = __LINE__; goto __pyx_L10_except_error;}
        __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
        __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
        __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
        goto __pyx_L9_exception_handled;
      }
      __pyx_L10_except_error:;
      __Pyx_XGIVEREF(__pyx_save_exc_type);
      __Pyx_XGIVEREF(__pyx_save_exc_value);
      __Pyx_XGIVEREF(__pyx_save_exc_tb);
      __Pyx_ExceptionReset(__pyx_save_exc_type, __pyx_save_exc_value, __pyx_save_exc_tb);
      goto __pyx_L1_error;
      __pyx_L9_exception_handled:;
      __Pyx_XGIVEREF(__pyx_save_exc_type);
      __Pyx_XGIVEREF(__pyx_save_exc_value);
      __Pyx_XGIVEREF(__pyx_save_exc_tb);
      __Pyx_ExceptionReset(__pyx_save_exc_type, __pyx_save_exc_value, __pyx_save_exc_tb);
      __pyx_L15_try_end:;
    }

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":451
 *         except:
 *             raise KeyError('attribute %s has unsupported datatype' % attname)
 *         value_arr = numpy.empty(att_len,type_att)             # <<<<<<<<<<<<<<
 *         ierr = nc_get_att(grpid, varid, attname, value_arr.data)
 *         if ierr != NC_NOERR:
 */
    __pyx_t_4 = __Pyx_GetName(__pyx_m, __pyx_n_s__numpy); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 451; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_2 = PyObject_GetAttr(__pyx_t_4, __pyx_n_s__empty); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 451; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_4 = __Pyx_PyInt_FromSize_t(__pyx_v_att_len); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 451; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 451; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_4);
    __Pyx_GIVEREF(__pyx_t_4);
    __Pyx_INCREF(__pyx_v_type_att);
    PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_v_type_att);
    __Pyx_GIVEREF(__pyx_v_type_att);
    __pyx_t_4 = 0;
    __pyx_t_4 = PyObject_Call(__pyx_t_2, __pyx_t_3, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 451; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    if (!(likely(((__pyx_t_4) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_4, __pyx_ptype_7netCDF3_ndarray))))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 451; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(((PyObject *)__pyx_v_value_arr));
    __pyx_v_value_arr = ((PyArrayObject *)__pyx_t_4);
    __pyx_t_4 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":452
 *             raise KeyError('attribute %s has unsupported datatype' % attname)
 *         value_arr = numpy.empty(att_len,type_att)
 *         ierr = nc_get_att(grpid, varid, attname, value_arr.data)             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise AttributeError(nc_strerror(ierr))
 */
    __pyx_v_ierr = nc_get_att(__pyx_v_grpid, __pyx_v_varid, __pyx_v_attname, __pyx_v_value_arr->data);

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":453
 *         value_arr = numpy.empty(att_len,type_att)
 *         ierr = nc_get_att(grpid, varid, attname, value_arr.data)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise AttributeError(nc_strerror(ierr))
 *         if value_arr.shape == ():
 */
    __pyx_t_1 = (__pyx_v_ierr != NC_NOERR);
    if (__pyx_t_1) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":454
 *         ierr = nc_get_att(grpid, varid, attname, value_arr.data)
 *         if ierr != NC_NOERR:
 *             raise AttributeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *         if value_arr.shape == ():
 *             # return a scalar for a scalar array
 */
      __pyx_t_4 = PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 454; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(((PyObject *)__pyx_t_4));
      __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 454; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      PyTuple_SET_ITEM(__pyx_t_3, 0, ((PyObject *)__pyx_t_4));
      __Pyx_GIVEREF(((PyObject *)__pyx_t_4));
      __pyx_t_4 = 0;
      __pyx_t_4 = PyObject_Call(__pyx_builtin_AttributeError, __pyx_t_3, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 454; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_Raise(__pyx_t_4, 0, 0);
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 454; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L18;
    }
    __pyx_L18:;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":455
 *         if ierr != NC_NOERR:
 *             raise AttributeError(nc_strerror(ierr))
 *         if value_arr.shape == ():             # <<<<<<<<<<<<<<
 *             # return a scalar for a scalar array
 *             return value_arr.item()
 */
    __pyx_t_4 = PyObject_GetAttr(((PyObject *)__pyx_v_value_arr), __pyx_n_s__shape); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 455; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_3 = PyObject_RichCompare(__pyx_t_4, ((PyObject *)__pyx_empty_tuple), Py_EQ); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 455; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_1 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 455; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    if (__pyx_t_1) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":457
 *         if value_arr.shape == ():
 *             # return a scalar for a scalar array
 *             return value_arr.item()             # <<<<<<<<<<<<<<
 *         elif att_len == 1:
 *             # return a scalar for a single element array
 */
      __Pyx_XDECREF(__pyx_r);
      __pyx_t_3 = PyObject_GetAttr(((PyObject *)__pyx_v_value_arr), __pyx_n_s__item); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 457; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __pyx_t_4 = PyObject_Call(__pyx_t_3, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 457; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_r = __pyx_t_4;
      __pyx_t_4 = 0;
      goto __pyx_L0;
      goto __pyx_L19;
    }

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":458
 *             # return a scalar for a scalar array
 *             return value_arr.item()
 *         elif att_len == 1:             # <<<<<<<<<<<<<<
 *             # return a scalar for a single element array
 *             return value_arr[0]
 */
    __pyx_t_1 = (__pyx_v_att_len == 1);
    if (__pyx_t_1) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":460
 *         elif att_len == 1:
 *             # return a scalar for a single element array
 *             return value_arr[0]             # <<<<<<<<<<<<<<
 *         else:
 *             return value_arr
 */
      __Pyx_XDECREF(__pyx_r);
      __pyx_t_4 = __Pyx_GetItemInt(((PyObject *)__pyx_v_value_arr), 0, sizeof(long), PyInt_FromLong); if (!__pyx_t_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 460; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      __pyx_r = __pyx_t_4;
      __pyx_t_4 = 0;
      goto __pyx_L0;
      goto __pyx_L19;
    }
    /*else*/ {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":462
 *             return value_arr[0]
 *         else:
 *             return value_arr             # <<<<<<<<<<<<<<
 * 
 * def _set_default_format(object format='NETCDF3_64BIT',object verbose=False):
 */
      __Pyx_XDECREF(__pyx_r);
      __Pyx_INCREF(((PyObject *)__pyx_v_value_arr));
      __pyx_r = ((PyObject *)__pyx_v_value_arr);
      goto __pyx_L0;
    }
    __pyx_L19:;
  }
  __pyx_L4:;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_AddTraceback("netCDF3._get_att");
  __pyx_r = 0;
  __pyx_L0:;
  __Pyx_DECREF((PyObject *)__pyx_v_value_arr);
  __Pyx_DECREF(__pyx_v_pstring);
  __Pyx_DECREF(__pyx_v_type_att);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":464
 *             return value_arr
 * 
 * def _set_default_format(object format='NETCDF3_64BIT',object verbose=False):             # <<<<<<<<<<<<<<
 *     # Private function to set the netCDF file format
 *     if format == 'NETCDF3_64BIT':
 */

static PyObject *__pyx_pf_7netCDF3__set_default_format(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_pf_7netCDF3__set_default_format(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_format = 0;
  PyObject *__pyx_v_verbose = 0;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  int __pyx_t_2;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__format,&__pyx_n_s__verbose,0};
  __Pyx_RefNannySetupContext("_set_default_format");
  __pyx_self = __pyx_self;
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[2] = {0,0};
    values[0] = ((PyObject *)__pyx_n_s__NETCDF3_64BIT);
    values[1] = __pyx_k_5;
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      if (kw_args > 0) {
        PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s__format);
        if (value) { values[0] = value; kw_args--; }
      }
      case  1:
      if (kw_args > 0) {
        PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s__verbose);
        if (value) { values[1] = value; kw_args--; }
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "_set_default_format") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 464; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_format = values[0];
    __pyx_v_verbose = values[1];
  } else {
    __pyx_v_format = ((PyObject *)__pyx_n_s__NETCDF3_64BIT);
    __pyx_v_verbose = __pyx_k_5;
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  2: __pyx_v_verbose = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: __pyx_v_format = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_set_default_format", 0, 0, 2, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 464; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF3._set_default_format");
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":466
 * def _set_default_format(object format='NETCDF3_64BIT',object verbose=False):
 *     # Private function to set the netCDF file format
 *     if format == 'NETCDF3_64BIT':             # <<<<<<<<<<<<<<
 *         if verbose:
 *             print "Switching to 64-bit offset format"
 */
  __pyx_t_1 = PyObject_RichCompare(__pyx_v_format, ((PyObject *)__pyx_n_s__NETCDF3_64BIT), Py_EQ); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 466; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 466; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  if (__pyx_t_2) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":467
 *     # Private function to set the netCDF file format
 *     if format == 'NETCDF3_64BIT':
 *         if verbose:             # <<<<<<<<<<<<<<
 *             print "Switching to 64-bit offset format"
 *         nc_set_default_format(NC_FORMAT_64BIT, NULL)
 */
    __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_v_verbose); if (unlikely(__pyx_t_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 467; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (__pyx_t_2) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":468
 *     if format == 'NETCDF3_64BIT':
 *         if verbose:
 *             print "Switching to 64-bit offset format"             # <<<<<<<<<<<<<<
 *         nc_set_default_format(NC_FORMAT_64BIT, NULL)
 *     elif format == 'NETCDF3_CLASSIC':
 */
      if (__Pyx_PrintOne(0, ((PyObject *)__pyx_kp_s_6)) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 468; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L7;
    }
    __pyx_L7:;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":469
 *         if verbose:
 *             print "Switching to 64-bit offset format"
 *         nc_set_default_format(NC_FORMAT_64BIT, NULL)             # <<<<<<<<<<<<<<
 *     elif format == 'NETCDF3_CLASSIC':
 *         if verbose:
 */
    nc_set_default_format(NC_FORMAT_64BIT, NULL);
    goto __pyx_L6;
  }

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":470
 *             print "Switching to 64-bit offset format"
 *         nc_set_default_format(NC_FORMAT_64BIT, NULL)
 *     elif format == 'NETCDF3_CLASSIC':             # <<<<<<<<<<<<<<
 *         if verbose:
 *             print "Switching to netCDF classic format"
 */
  __pyx_t_1 = PyObject_RichCompare(__pyx_v_format, ((PyObject *)__pyx_n_s__NETCDF3_CLASSIC), Py_EQ); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 470; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 470; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  if (__pyx_t_2) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":471
 *         nc_set_default_format(NC_FORMAT_64BIT, NULL)
 *     elif format == 'NETCDF3_CLASSIC':
 *         if verbose:             # <<<<<<<<<<<<<<
 *             print "Switching to netCDF classic format"
 *         nc_set_default_format(NC_FORMAT_CLASSIC, NULL)
 */
    __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_v_verbose); if (unlikely(__pyx_t_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 471; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (__pyx_t_2) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":472
 *     elif format == 'NETCDF3_CLASSIC':
 *         if verbose:
 *             print "Switching to netCDF classic format"             # <<<<<<<<<<<<<<
 *         nc_set_default_format(NC_FORMAT_CLASSIC, NULL)
 *     else:
 */
      if (__Pyx_PrintOne(0, ((PyObject *)__pyx_kp_s_7)) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 472; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L8;
    }
    __pyx_L8:;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":473
 *         if verbose:
 *             print "Switching to netCDF classic format"
 *         nc_set_default_format(NC_FORMAT_CLASSIC, NULL)             # <<<<<<<<<<<<<<
 *     else:
 *         raise ValueError, "format must be 'NETCDF3_64BIT' or 'NETCDF3_CLASSIC', got '%s'" % format
 */
    nc_set_default_format(NC_FORMAT_CLASSIC, NULL);
    goto __pyx_L6;
  }
  /*else*/ {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":475
 *         nc_set_default_format(NC_FORMAT_CLASSIC, NULL)
 *     else:
 *         raise ValueError, "format must be 'NETCDF3_64BIT' or 'NETCDF3_CLASSIC', got '%s'" % format             # <<<<<<<<<<<<<<
 * 
 * cdef _get_format(int grpid):
 */
    __pyx_t_1 = PyNumber_Remainder(((PyObject *)__pyx_kp_s_8), __pyx_v_format); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 475; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(((PyObject *)__pyx_t_1));
    __Pyx_Raise(__pyx_builtin_ValueError, ((PyObject *)__pyx_t_1), 0);
    __Pyx_DECREF(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 475; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  __pyx_L6:;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("netCDF3._set_default_format");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":477
 *         raise ValueError, "format must be 'NETCDF3_64BIT' or 'NETCDF3_CLASSIC', got '%s'" % format
 * 
 * cdef _get_format(int grpid):             # <<<<<<<<<<<<<<
 *     # Private function to get the netCDF file format
 *     cdef int ierr, formatp
 */

static  PyObject *__pyx_f_7netCDF3__get_format(int __pyx_v_grpid) {
  int __pyx_v_ierr;
  int __pyx_v_formatp;
  PyObject *__pyx_r = NULL;
  int __pyx_t_1;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  __Pyx_RefNannySetupContext("_get_format");

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":480
 *     # Private function to get the netCDF file format
 *     cdef int ierr, formatp
 *     ierr = nc_inq_format(grpid, &formatp)             # <<<<<<<<<<<<<<
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_v_ierr = nc_inq_format(__pyx_v_grpid, (&__pyx_v_formatp));

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":481
 *     cdef int ierr, formatp
 *     ierr = nc_inq_format(grpid, &formatp)
 *     if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *         raise RuntimeError(nc_strerror(ierr))
 *     if formatp == NC_FORMAT_NETCDF4:
 */
  __pyx_t_1 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_t_1) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":482
 *     ierr = nc_inq_format(grpid, &formatp)
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *     if formatp == NC_FORMAT_NETCDF4:
 *         return 'NETCDF4'
 */
    __pyx_t_2 = PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 482; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(((PyObject *)__pyx_t_2));
    __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 482; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    PyTuple_SET_ITEM(__pyx_t_3, 0, ((PyObject *)__pyx_t_2));
    __Pyx_GIVEREF(((PyObject *)__pyx_t_2));
    __pyx_t_2 = 0;
    __pyx_t_2 = PyObject_Call(__pyx_builtin_RuntimeError, __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 482; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_Raise(__pyx_t_2, 0, 0);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 482; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":483
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))
 *     if formatp == NC_FORMAT_NETCDF4:             # <<<<<<<<<<<<<<
 *         return 'NETCDF4'
 *     elif formatp == NC_FORMAT_NETCDF4_CLASSIC:
 */
  __pyx_t_1 = (__pyx_v_formatp == __pyx_v_7netCDF3_NC_FORMAT_NETCDF4);
  if (__pyx_t_1) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":484
 *         raise RuntimeError(nc_strerror(ierr))
 *     if formatp == NC_FORMAT_NETCDF4:
 *         return 'NETCDF4'             # <<<<<<<<<<<<<<
 *     elif formatp == NC_FORMAT_NETCDF4_CLASSIC:
 *         return 'NETCDF4_CLASSIC'
 */
    __Pyx_XDECREF(__pyx_r);
    __Pyx_INCREF(((PyObject *)__pyx_n_s__NETCDF4));
    __pyx_r = ((PyObject *)__pyx_n_s__NETCDF4);
    goto __pyx_L0;
    goto __pyx_L4;
  }

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":485
 *     if formatp == NC_FORMAT_NETCDF4:
 *         return 'NETCDF4'
 *     elif formatp == NC_FORMAT_NETCDF4_CLASSIC:             # <<<<<<<<<<<<<<
 *         return 'NETCDF4_CLASSIC'
 *     elif formatp == NC_FORMAT_64BIT:
 */
  __pyx_t_1 = (__pyx_v_formatp == __pyx_v_7netCDF3_NC_FORMAT_NETCDF4_CLASSIC);
  if (__pyx_t_1) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":486
 *         return 'NETCDF4'
 *     elif formatp == NC_FORMAT_NETCDF4_CLASSIC:
 *         return 'NETCDF4_CLASSIC'             # <<<<<<<<<<<<<<
 *     elif formatp == NC_FORMAT_64BIT:
 *         return 'NETCDF3_64BIT'
 */
    __Pyx_XDECREF(__pyx_r);
    __Pyx_INCREF(((PyObject *)__pyx_n_s__NETCDF4_CLASSIC));
    __pyx_r = ((PyObject *)__pyx_n_s__NETCDF4_CLASSIC);
    goto __pyx_L0;
    goto __pyx_L4;
  }

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":487
 *     elif formatp == NC_FORMAT_NETCDF4_CLASSIC:
 *         return 'NETCDF4_CLASSIC'
 *     elif formatp == NC_FORMAT_64BIT:             # <<<<<<<<<<<<<<
 *         return 'NETCDF3_64BIT'
 *     elif formatp == NC_FORMAT_CLASSIC:
 */
  __pyx_t_1 = (__pyx_v_formatp == NC_FORMAT_64BIT);
  if (__pyx_t_1) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":488
 *         return 'NETCDF4_CLASSIC'
 *     elif formatp == NC_FORMAT_64BIT:
 *         return 'NETCDF3_64BIT'             # <<<<<<<<<<<<<<
 *     elif formatp == NC_FORMAT_CLASSIC:
 *         return 'NETCDF3_CLASSIC'
 */
    __Pyx_XDECREF(__pyx_r);
    __Pyx_INCREF(((PyObject *)__pyx_n_s__NETCDF3_64BIT));
    __pyx_r = ((PyObject *)__pyx_n_s__NETCDF3_64BIT);
    goto __pyx_L0;
    goto __pyx_L4;
  }

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":489
 *     elif formatp == NC_FORMAT_64BIT:
 *         return 'NETCDF3_64BIT'
 *     elif formatp == NC_FORMAT_CLASSIC:             # <<<<<<<<<<<<<<
 *         return 'NETCDF3_CLASSIC'
 * 
 */
  __pyx_t_1 = (__pyx_v_formatp == NC_FORMAT_CLASSIC);
  if (__pyx_t_1) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":490
 *         return 'NETCDF3_64BIT'
 *     elif formatp == NC_FORMAT_CLASSIC:
 *         return 'NETCDF3_CLASSIC'             # <<<<<<<<<<<<<<
 * 
 * cdef _set_att(int grpid, int varid, name, value):
 */
    __Pyx_XDECREF(__pyx_r);
    __Pyx_INCREF(((PyObject *)__pyx_n_s__NETCDF3_CLASSIC));
    __pyx_r = ((PyObject *)__pyx_n_s__NETCDF3_CLASSIC);
    goto __pyx_L0;
    goto __pyx_L4;
  }
  __pyx_L4:;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("netCDF3._get_format");
  __pyx_r = 0;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":492
 *         return 'NETCDF3_CLASSIC'
 * 
 * cdef _set_att(int grpid, int varid, name, value):             # <<<<<<<<<<<<<<
 *     # Private function to set an attribute name/value pair
 *     cdef int i, ierr, lenarr, n
 */

static  PyObject *__pyx_f_7netCDF3__set_att(int __pyx_v_grpid, int __pyx_v_varid, PyObject *__pyx_v_name, PyObject *__pyx_v_value) {
  int __pyx_v_ierr;
  int __pyx_v_lenarr;
  char *__pyx_v_attname;
  char *__pyx_v_datstring;
  PyArrayObject *__pyx_v_value_arr;
  PyObject *__pyx_v_dats;
  PyObject *__pyx_v_xtype;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  int __pyx_t_4;
  int __pyx_t_5;
  int __pyx_t_6;
  char *__pyx_t_7;
  Py_ssize_t __pyx_t_8;
  nc_type __pyx_t_9;
  __Pyx_RefNannySetupContext("_set_att");
  __pyx_v_value_arr = ((PyArrayObject *)Py_None); __Pyx_INCREF(Py_None);
  __pyx_v_dats = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_xtype = Py_None; __Pyx_INCREF(Py_None);

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":497
 *     cdef char *attname, *datstring, *strdata
 *     cdef ndarray value_arr
 *     attname = PyString_AsString(name)             # <<<<<<<<<<<<<<
 *     # put attribute value into a numpy array.
 *     value_arr = numpy.array(value)
 */
  __pyx_v_attname = PyString_AsString(__pyx_v_name);

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":499
 *     attname = PyString_AsString(name)
 *     # put attribute value into a numpy array.
 *     value_arr = numpy.array(value)             # <<<<<<<<<<<<<<
 *     # if array is 64 bit integers, cast to 32 bit integers
 *     # if 64-bit datatype not supported.
 */
  __pyx_t_1 = __Pyx_GetName(__pyx_m, __pyx_n_s__numpy); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 499; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyObject_GetAttr(__pyx_t_1, __pyx_n_s__array); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 499; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 499; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_INCREF(__pyx_v_value);
  PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v_value);
  __Pyx_GIVEREF(__pyx_v_value);
  __pyx_t_3 = PyObject_Call(__pyx_t_2, __pyx_t_1, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 499; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  if (!(likely(((__pyx_t_3) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_3, __pyx_ptype_7netCDF3_ndarray))))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 499; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(((PyObject *)__pyx_v_value_arr));
  __pyx_v_value_arr = ((PyArrayObject *)__pyx_t_3);
  __pyx_t_3 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":502
 *     # if array is 64 bit integers, cast to 32 bit integers
 *     # if 64-bit datatype not supported.
 *     if value_arr.dtype.str[1:] == 'i8' and 'i8' not in _supportedtypes:             # <<<<<<<<<<<<<<
 *         value_arr = value_arr.astype('i4')
 *     # if array contains strings, write a text attribute.
 */
  __pyx_t_3 = PyObject_GetAttr(((PyObject *)__pyx_v_value_arr), __pyx_n_s__dtype); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 502; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_1 = PyObject_GetAttr(__pyx_t_3, __pyx_n_s__str); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 502; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = PySequence_GetSlice(__pyx_t_1, 1, PY_SSIZE_T_MAX); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 502; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = PyObject_RichCompare(__pyx_t_3, ((PyObject *)__pyx_n_s__i8), Py_EQ); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 502; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 502; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  if (__pyx_t_4) {
    __pyx_t_1 = __Pyx_GetName(__pyx_m, __pyx_n_s___supportedtypes); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 502; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_5 = (__Pyx_NegateNonNeg(PySequence_Contains(__pyx_t_1, ((PyObject *)__pyx_n_s__i8)))); if (unlikely(__pyx_t_5 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 502; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_6 = __pyx_t_5;
  } else {
    __pyx_t_6 = __pyx_t_4;
  }
  if (__pyx_t_6) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":503
 *     # if 64-bit datatype not supported.
 *     if value_arr.dtype.str[1:] == 'i8' and 'i8' not in _supportedtypes:
 *         value_arr = value_arr.astype('i4')             # <<<<<<<<<<<<<<
 *     # if array contains strings, write a text attribute.
 *     if value_arr.dtype.char == 'S':
 */
    __pyx_t_1 = PyObject_GetAttr(((PyObject *)__pyx_v_value_arr), __pyx_n_s__astype); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 503; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 503; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_INCREF(((PyObject *)__pyx_n_s__i4));
    PyTuple_SET_ITEM(__pyx_t_3, 0, ((PyObject *)__pyx_n_s__i4));
    __Pyx_GIVEREF(((PyObject *)__pyx_n_s__i4));
    __pyx_t_2 = PyObject_Call(__pyx_t_1, __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 503; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    if (!(likely(((__pyx_t_2) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_2, __pyx_ptype_7netCDF3_ndarray))))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 503; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(((PyObject *)__pyx_v_value_arr));
    __pyx_v_value_arr = ((PyArrayObject *)__pyx_t_2);
    __pyx_t_2 = 0;
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":505
 *         value_arr = value_arr.astype('i4')
 *     # if array contains strings, write a text attribute.
 *     if value_arr.dtype.char == 'S':             # <<<<<<<<<<<<<<
 *         dats = value_arr.tostring()
 *         datstring = dats
 */
  __pyx_t_2 = PyObject_GetAttr(((PyObject *)__pyx_v_value_arr), __pyx_n_s__dtype); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 505; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = PyObject_GetAttr(__pyx_t_2, __pyx_n_s__char); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 505; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = PyObject_RichCompare(__pyx_t_3, ((PyObject *)__pyx_n_s__S), Py_EQ); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 505; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely(__pyx_t_6 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 505; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  if (__pyx_t_6) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":506
 *     # if array contains strings, write a text attribute.
 *     if value_arr.dtype.char == 'S':
 *         dats = value_arr.tostring()             # <<<<<<<<<<<<<<
 *         datstring = dats
 *         lenarr = len(dats)
 */
    __pyx_t_2 = PyObject_GetAttr(((PyObject *)__pyx_v_value_arr), __pyx_n_s__tostring); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 506; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_3 = PyObject_Call(__pyx_t_2, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 506; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_DECREF(__pyx_v_dats);
    __pyx_v_dats = __pyx_t_3;
    __pyx_t_3 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":507
 *     if value_arr.dtype.char == 'S':
 *         dats = value_arr.tostring()
 *         datstring = dats             # <<<<<<<<<<<<<<
 *         lenarr = len(dats)
 *         ierr = nc_put_att_text(grpid, varid, attname, lenarr, datstring)
 */
    __pyx_t_7 = PyBytes_AsString(__pyx_v_dats); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 507; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_v_datstring = __pyx_t_7;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":508
 *         dats = value_arr.tostring()
 *         datstring = dats
 *         lenarr = len(dats)             # <<<<<<<<<<<<<<
 *         ierr = nc_put_att_text(grpid, varid, attname, lenarr, datstring)
 *         if ierr != NC_NOERR:
 */
    __pyx_t_8 = PyObject_Length(__pyx_v_dats); if (unlikely(__pyx_t_8 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 508; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_v_lenarr = __pyx_t_8;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":509
 *         datstring = dats
 *         lenarr = len(dats)
 *         ierr = nc_put_att_text(grpid, varid, attname, lenarr, datstring)             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise AttributeError(nc_strerror(ierr))
 */
    __pyx_v_ierr = nc_put_att_text(__pyx_v_grpid, __pyx_v_varid, __pyx_v_attname, __pyx_v_lenarr, __pyx_v_datstring);

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":510
 *         lenarr = len(dats)
 *         ierr = nc_put_att_text(grpid, varid, attname, lenarr, datstring)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise AttributeError(nc_strerror(ierr))
 *     # a 'regular' array type ('f4','i4','f8' etc)
 */
    __pyx_t_6 = (__pyx_v_ierr != NC_NOERR);
    if (__pyx_t_6) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":511
 *         ierr = nc_put_att_text(grpid, varid, attname, lenarr, datstring)
 *         if ierr != NC_NOERR:
 *             raise AttributeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *     # a 'regular' array type ('f4','i4','f8' etc)
 *     else:
 */
      __pyx_t_3 = PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 511; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(((PyObject *)__pyx_t_3));
      __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 511; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_2);
      PyTuple_SET_ITEM(__pyx_t_2, 0, ((PyObject *)__pyx_t_3));
      __Pyx_GIVEREF(((PyObject *)__pyx_t_3));
      __pyx_t_3 = 0;
      __pyx_t_3 = PyObject_Call(__pyx_builtin_AttributeError, __pyx_t_2, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 511; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __Pyx_Raise(__pyx_t_3, 0, 0);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 511; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L5;
    }
    __pyx_L5:;
    goto __pyx_L4;
  }
  /*else*/ {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":514
 *     # a 'regular' array type ('f4','i4','f8' etc)
 *     else:
 *         if value_arr.dtype.str[1:] not in _supportedtypes:             # <<<<<<<<<<<<<<
 *             raise TypeError, 'illegal data type for attribute, must be one of %s, got %s' % (_supportedtypes, value_arr.dtype.str[1:])
 *         xtype = _nptonctype[value_arr.dtype.str[1:]]
 */
    __pyx_t_3 = PyObject_GetAttr(((PyObject *)__pyx_v_value_arr), __pyx_n_s__dtype); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 514; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_2 = PyObject_GetAttr(__pyx_t_3, __pyx_n_s__str); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 514; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = PySequence_GetSlice(__pyx_t_2, 1, PY_SSIZE_T_MAX); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 514; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = __Pyx_GetName(__pyx_m, __pyx_n_s___supportedtypes); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 514; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_6 = (__Pyx_NegateNonNeg(PySequence_Contains(__pyx_t_2, __pyx_t_3))); if (unlikely(__pyx_t_6 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 514; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    if (__pyx_t_6) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":515
 *     else:
 *         if value_arr.dtype.str[1:] not in _supportedtypes:
 *             raise TypeError, 'illegal data type for attribute, must be one of %s, got %s' % (_supportedtypes, value_arr.dtype.str[1:])             # <<<<<<<<<<<<<<
 *         xtype = _nptonctype[value_arr.dtype.str[1:]]
 *         lenarr = PyArray_SIZE(value_arr)
 */
      __pyx_t_2 = __Pyx_GetName(__pyx_m, __pyx_n_s___supportedtypes); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 515; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_2);
      __pyx_t_3 = PyObject_GetAttr(((PyObject *)__pyx_v_value_arr), __pyx_n_s__dtype); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 515; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __pyx_t_1 = PyObject_GetAttr(__pyx_t_3, __pyx_n_s__str); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 515; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_3 = PySequence_GetSlice(__pyx_t_1, 1, PY_SSIZE_T_MAX); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 515; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = PyTuple_New(2); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 515; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_t_2);
      __Pyx_GIVEREF(__pyx_t_2);
      PyTuple_SET_ITEM(__pyx_t_1, 1, __pyx_t_3);
      __Pyx_GIVEREF(__pyx_t_3);
      __pyx_t_2 = 0;
      __pyx_t_3 = 0;
      __pyx_t_3 = PyNumber_Remainder(((PyObject *)__pyx_kp_s_9), __pyx_t_1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 515; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(((PyObject *)__pyx_t_3));
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __Pyx_Raise(__pyx_builtin_TypeError, ((PyObject *)__pyx_t_3), 0);
      __Pyx_DECREF(((PyObject *)__pyx_t_3)); __pyx_t_3 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 515; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L6;
    }
    __pyx_L6:;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":516
 *         if value_arr.dtype.str[1:] not in _supportedtypes:
 *             raise TypeError, 'illegal data type for attribute, must be one of %s, got %s' % (_supportedtypes, value_arr.dtype.str[1:])
 *         xtype = _nptonctype[value_arr.dtype.str[1:]]             # <<<<<<<<<<<<<<
 *         lenarr = PyArray_SIZE(value_arr)
 *         ierr = nc_put_att(grpid, varid, attname, xtype, lenarr, value_arr.data)
 */
    __pyx_t_3 = __Pyx_GetName(__pyx_m, __pyx_n_s___nptonctype); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 516; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_1 = PyObject_GetAttr(((PyObject *)__pyx_v_value_arr), __pyx_n_s__dtype); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 516; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_2 = PyObject_GetAttr(__pyx_t_1, __pyx_n_s__str); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 516; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = PySequence_GetSlice(__pyx_t_2, 1, PY_SSIZE_T_MAX); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 516; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = PyObject_GetItem(__pyx_t_3, __pyx_t_1); if (!__pyx_t_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 516; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_DECREF(__pyx_v_xtype);
    __pyx_v_xtype = __pyx_t_2;
    __pyx_t_2 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":517
 *             raise TypeError, 'illegal data type for attribute, must be one of %s, got %s' % (_supportedtypes, value_arr.dtype.str[1:])
 *         xtype = _nptonctype[value_arr.dtype.str[1:]]
 *         lenarr = PyArray_SIZE(value_arr)             # <<<<<<<<<<<<<<
 *         ierr = nc_put_att(grpid, varid, attname, xtype, lenarr, value_arr.data)
 *         if ierr != NC_NOERR:
 */
    __pyx_v_lenarr = PyArray_SIZE(__pyx_v_value_arr);

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":518
 *         xtype = _nptonctype[value_arr.dtype.str[1:]]
 *         lenarr = PyArray_SIZE(value_arr)
 *         ierr = nc_put_att(grpid, varid, attname, xtype, lenarr, value_arr.data)             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise AttributeError(nc_strerror(ierr))
 */
    __pyx_t_9 = __Pyx_PyInt_from_py_nc_type(__pyx_v_xtype); if (unlikely((__pyx_t_9 == (nc_type)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 518; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_v_ierr = nc_put_att(__pyx_v_grpid, __pyx_v_varid, __pyx_v_attname, __pyx_t_9, __pyx_v_lenarr, __pyx_v_value_arr->data);

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":519
 *         lenarr = PyArray_SIZE(value_arr)
 *         ierr = nc_put_att(grpid, varid, attname, xtype, lenarr, value_arr.data)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise AttributeError(nc_strerror(ierr))
 * 
 */
    __pyx_t_6 = (__pyx_v_ierr != NC_NOERR);
    if (__pyx_t_6) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":520
 *         ierr = nc_put_att(grpid, varid, attname, xtype, lenarr, value_arr.data)
 *         if ierr != NC_NOERR:
 *             raise AttributeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 * 
 * cdef _get_dims(group):
 */
      __pyx_t_2 = PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 520; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(((PyObject *)__pyx_t_2));
      __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 520; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject *)__pyx_t_2));
      __Pyx_GIVEREF(((PyObject *)__pyx_t_2));
      __pyx_t_2 = 0;
      __pyx_t_2 = PyObject_Call(__pyx_builtin_AttributeError, __pyx_t_1, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 520; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_2);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __Pyx_Raise(__pyx_t_2, 0, 0);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 520; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L7;
    }
    __pyx_L7:;
  }
  __pyx_L4:;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("netCDF3._set_att");
  __pyx_r = 0;
  __pyx_L0:;
  __Pyx_DECREF((PyObject *)__pyx_v_value_arr);
  __Pyx_DECREF(__pyx_v_dats);
  __Pyx_DECREF(__pyx_v_xtype);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":522
 *             raise AttributeError(nc_strerror(ierr))
 * 
 * cdef _get_dims(group):             # <<<<<<<<<<<<<<
 *     # Private function to create L{Dimension} instances for all the
 *     # dimensions in a L{Dataset}.
 */

static  PyObject *__pyx_f_7netCDF3__get_dims(PyObject *__pyx_v_group) {
  int __pyx_v_ierr;
  int __pyx_v_numdims;
  int __pyx_v_n;
  char __pyx_v_namstring[(NC_MAX_NAME + 1)];
  PyObject *__pyx_v_dimensions;
  PyObject *__pyx_v_name;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  int __pyx_t_2;
  int __pyx_t_3;
  PyObject *__pyx_t_4 = NULL;
  int __pyx_t_5;
  PyObject *__pyx_t_6 = NULL;
  __Pyx_RefNannySetupContext("_get_dims");
  __pyx_v_dimensions = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_name = Py_None; __Pyx_INCREF(Py_None);

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":528
 *     cdef char namstring[NC_MAX_NAME+1]
 *     # get number of dimensions in this Dataset.
 *     ierr = nc_inq_ndims(group._grpid, &numdims)             # <<<<<<<<<<<<<<
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_t_1 = PyObject_GetAttr(__pyx_v_group, __pyx_n_s___grpid); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 528; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = __Pyx_PyInt_AsInt(__pyx_t_1); if (unlikely((__pyx_t_2 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 528; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_ierr = nc_inq_ndims(__pyx_t_2, (&__pyx_v_numdims));

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":529
 *     # get number of dimensions in this Dataset.
 *     ierr = nc_inq_ndims(group._grpid, &numdims)
 *     if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *         raise RuntimeError(nc_strerror(ierr))
 *     # create empty dictionary for dimensions.
 */
  __pyx_t_3 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_t_3) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":530
 *     ierr = nc_inq_ndims(group._grpid, &numdims)
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *     # create empty dictionary for dimensions.
 *     dimensions = OrderedDict()
 */
    __pyx_t_1 = PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 530; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(((PyObject *)__pyx_t_1));
    __pyx_t_4 = PyTuple_New(1); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 530; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    PyTuple_SET_ITEM(__pyx_t_4, 0, ((PyObject *)__pyx_t_1));
    __Pyx_GIVEREF(((PyObject *)__pyx_t_1));
    __pyx_t_1 = 0;
    __pyx_t_1 = PyObject_Call(__pyx_builtin_RuntimeError, __pyx_t_4, NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 530; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __Pyx_Raise(__pyx_t_1, 0, 0);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 530; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":532
 *         raise RuntimeError(nc_strerror(ierr))
 *     # create empty dictionary for dimensions.
 *     dimensions = OrderedDict()             # <<<<<<<<<<<<<<
 *     if numdims > 0:
 *         for n from 0 <= n < numdims:
 */
  __pyx_t_1 = __Pyx_GetName(__pyx_m, __pyx_n_s__OrderedDict); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 532; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_4 = PyObject_Call(__pyx_t_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 532; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_v_dimensions);
  __pyx_v_dimensions = __pyx_t_4;
  __pyx_t_4 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":533
 *     # create empty dictionary for dimensions.
 *     dimensions = OrderedDict()
 *     if numdims > 0:             # <<<<<<<<<<<<<<
 *         for n from 0 <= n < numdims:
 *             ierr = nc_inq_dimname(group._grpid, n, namstring)
 */
  __pyx_t_3 = (__pyx_v_numdims > 0);
  if (__pyx_t_3) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":534
 *     dimensions = OrderedDict()
 *     if numdims > 0:
 *         for n from 0 <= n < numdims:             # <<<<<<<<<<<<<<
 *             ierr = nc_inq_dimname(group._grpid, n, namstring)
 *             if ierr != NC_NOERR:
 */
    __pyx_t_2 = __pyx_v_numdims;
    for (__pyx_v_n = 0; __pyx_v_n < __pyx_t_2; __pyx_v_n++) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":535
 *     if numdims > 0:
 *         for n from 0 <= n < numdims:
 *             ierr = nc_inq_dimname(group._grpid, n, namstring)             # <<<<<<<<<<<<<<
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))
 */
      __pyx_t_4 = PyObject_GetAttr(__pyx_v_group, __pyx_n_s___grpid); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 535; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      __pyx_t_5 = __Pyx_PyInt_AsInt(__pyx_t_4); if (unlikely((__pyx_t_5 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 535; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_v_ierr = nc_inq_dimname(__pyx_t_5, __pyx_v_n, __pyx_v_namstring);

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":536
 *         for n from 0 <= n < numdims:
 *             ierr = nc_inq_dimname(group._grpid, n, namstring)
 *             if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *                 raise RuntimeError(nc_strerror(ierr))
 *             name = namstring
 */
      __pyx_t_3 = (__pyx_v_ierr != NC_NOERR);
      if (__pyx_t_3) {

        /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":537
 *             ierr = nc_inq_dimname(group._grpid, n, namstring)
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *             name = namstring
 *             dimensions[name] = Dimension(group, name, id=n)
 */
        __pyx_t_4 = PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 537; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(((PyObject *)__pyx_t_4));
        __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 537; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_1);
        PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject *)__pyx_t_4));
        __Pyx_GIVEREF(((PyObject *)__pyx_t_4));
        __pyx_t_4 = 0;
        __pyx_t_4 = PyObject_Call(__pyx_builtin_RuntimeError, __pyx_t_1, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 537; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_4);
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
        __Pyx_Raise(__pyx_t_4, 0, 0);
        __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 537; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        goto __pyx_L7;
      }
      __pyx_L7:;

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":538
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))
 *             name = namstring             # <<<<<<<<<<<<<<
 *             dimensions[name] = Dimension(group, name, id=n)
 *     return dimensions
 */
      __pyx_t_4 = PyBytes_FromString(__pyx_v_namstring); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 538; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(((PyObject *)__pyx_t_4));
      __Pyx_DECREF(__pyx_v_name);
      __pyx_v_name = ((PyObject *)__pyx_t_4);
      __pyx_t_4 = 0;

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":539
 *                 raise RuntimeError(nc_strerror(ierr))
 *             name = namstring
 *             dimensions[name] = Dimension(group, name, id=n)             # <<<<<<<<<<<<<<
 *     return dimensions
 * 
 */
      __pyx_t_4 = PyTuple_New(2); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 539; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_INCREF(__pyx_v_group);
      PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_v_group);
      __Pyx_GIVEREF(__pyx_v_group);
      __Pyx_INCREF(__pyx_v_name);
      PyTuple_SET_ITEM(__pyx_t_4, 1, __pyx_v_name);
      __Pyx_GIVEREF(__pyx_v_name);
      __pyx_t_1 = PyDict_New(); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 539; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(((PyObject *)__pyx_t_1));
      __pyx_t_6 = PyInt_FromLong(__pyx_v_n); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 539; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_6);
      if (PyDict_SetItem(__pyx_t_1, ((PyObject *)__pyx_n_s__id), __pyx_t_6) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 539; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_t_6 = PyEval_CallObjectWithKeywords(((PyObject *)((PyObject*)__pyx_ptype_7netCDF3_Dimension)), __pyx_t_4, ((PyObject *)__pyx_t_1)); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 539; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_6);
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __Pyx_DECREF(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;
      if (PyObject_SetItem(__pyx_v_dimensions, __pyx_v_name, __pyx_t_6) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 539; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    }
    goto __pyx_L4;
  }
  __pyx_L4:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":540
 *             name = namstring
 *             dimensions[name] = Dimension(group, name, id=n)
 *     return dimensions             # <<<<<<<<<<<<<<
 * 
 * cdef _get_vars(group):
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(__pyx_v_dimensions);
  __pyx_r = __pyx_v_dimensions;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_AddTraceback("netCDF3._get_dims");
  __pyx_r = 0;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_dimensions);
  __Pyx_DECREF(__pyx_v_name);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":542
 *     return dimensions
 * 
 * cdef _get_vars(group):             # <<<<<<<<<<<<<<
 *     # Private function to create L{Variable} instances for all the
 *     # variables in a L{Dataset}.
 */

static  PyObject *__pyx_f_7netCDF3__get_vars(PyObject *__pyx_v_group) {
  int __pyx_v_ierr;
  int __pyx_v_numvars;
  int __pyx_v_n;
  int __pyx_v_nn;
  int __pyx_v_numdims;
  int __pyx_v_varid;
  int __pyx_v_dimids[NC_MAX_DIMS];
  nc_type __pyx_v_xtype;
  char __pyx_v_namstring[(NC_MAX_NAME + 1)];
  PyObject *__pyx_v_variables;
  PyObject *__pyx_v_name;
  PyObject *__pyx_v_datatype;
  PyObject *__pyx_v_dimensions;
  PyObject *__pyx_v_key;
  PyObject *__pyx_v_value;
  int __pyx_v_found;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  int __pyx_t_2;
  int __pyx_t_3;
  PyObject *__pyx_t_4 = NULL;
  int __pyx_t_5;
  PyObject *__pyx_t_6 = NULL;
  PyObject *__pyx_t_7 = NULL;
  PyObject *__pyx_t_8 = NULL;
  Py_ssize_t __pyx_t_9;
  int __pyx_t_10;
  __Pyx_RefNannySetupContext("_get_vars");
  __pyx_v_variables = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_name = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_datatype = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_dimensions = ((PyObject *)Py_None); __Pyx_INCREF(Py_None);
  __pyx_v_key = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_value = Py_None; __Pyx_INCREF(Py_None);

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":551
 *     cdef char namstring[NC_MAX_NAME+1]
 *     # get number of variables in this Dataset.
 *     ierr = nc_inq_nvars(group._grpid, &numvars)             # <<<<<<<<<<<<<<
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_t_1 = PyObject_GetAttr(__pyx_v_group, __pyx_n_s___grpid); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 551; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = __Pyx_PyInt_AsInt(__pyx_t_1); if (unlikely((__pyx_t_2 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 551; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_ierr = nc_inq_nvars(__pyx_t_2, (&__pyx_v_numvars));

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":552
 *     # get number of variables in this Dataset.
 *     ierr = nc_inq_nvars(group._grpid, &numvars)
 *     if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *         raise RuntimeError(nc_strerror(ierr))
 *     # create empty dictionary for variables.
 */
  __pyx_t_3 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_t_3) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":553
 *     ierr = nc_inq_nvars(group._grpid, &numvars)
 *     if ierr != NC_NOERR:
 *         raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *     # create empty dictionary for variables.
 *     variables = OrderedDict()
 */
    __pyx_t_1 = PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 553; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(((PyObject *)__pyx_t_1));
    __pyx_t_4 = PyTuple_New(1); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 553; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    PyTuple_SET_ITEM(__pyx_t_4, 0, ((PyObject *)__pyx_t_1));
    __Pyx_GIVEREF(((PyObject *)__pyx_t_1));
    __pyx_t_1 = 0;
    __pyx_t_1 = PyObject_Call(__pyx_builtin_RuntimeError, __pyx_t_4, NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 553; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __Pyx_Raise(__pyx_t_1, 0, 0);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 553; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":555
 *         raise RuntimeError(nc_strerror(ierr))
 *     # create empty dictionary for variables.
 *     variables = OrderedDict()             # <<<<<<<<<<<<<<
 *     if numvars > 0:
 *         # loop over variables.
 */
  __pyx_t_1 = __Pyx_GetName(__pyx_m, __pyx_n_s__OrderedDict); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 555; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_4 = PyObject_Call(__pyx_t_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 555; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_v_variables);
  __pyx_v_variables = __pyx_t_4;
  __pyx_t_4 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":556
 *     # create empty dictionary for variables.
 *     variables = OrderedDict()
 *     if numvars > 0:             # <<<<<<<<<<<<<<
 *         # loop over variables.
 *         for n from 0 <= n < numvars:
 */
  __pyx_t_3 = (__pyx_v_numvars > 0);
  if (__pyx_t_3) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":558
 *     if numvars > 0:
 *         # loop over variables.
 *         for n from 0 <= n < numvars:             # <<<<<<<<<<<<<<
 *              varid = n
 *              # get variable name.
 */
    __pyx_t_2 = __pyx_v_numvars;
    for (__pyx_v_n = 0; __pyx_v_n < __pyx_t_2; __pyx_v_n++) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":559
 *         # loop over variables.
 *         for n from 0 <= n < numvars:
 *              varid = n             # <<<<<<<<<<<<<<
 *              # get variable name.
 *              ierr = nc_inq_varname(group._grpid, varid, namstring)
 */
      __pyx_v_varid = __pyx_v_n;

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":561
 *              varid = n
 *              # get variable name.
 *              ierr = nc_inq_varname(group._grpid, varid, namstring)             # <<<<<<<<<<<<<<
 *              if ierr != NC_NOERR:
 *                  raise RuntimeError(nc_strerror(ierr))
 */
      __pyx_t_4 = PyObject_GetAttr(__pyx_v_group, __pyx_n_s___grpid); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 561; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      __pyx_t_5 = __Pyx_PyInt_AsInt(__pyx_t_4); if (unlikely((__pyx_t_5 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 561; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_v_ierr = nc_inq_varname(__pyx_t_5, __pyx_v_varid, __pyx_v_namstring);

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":562
 *              # get variable name.
 *              ierr = nc_inq_varname(group._grpid, varid, namstring)
 *              if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *                  raise RuntimeError(nc_strerror(ierr))
 *              name = namstring
 */
      __pyx_t_3 = (__pyx_v_ierr != NC_NOERR);
      if (__pyx_t_3) {

        /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":563
 *              ierr = nc_inq_varname(group._grpid, varid, namstring)
 *              if ierr != NC_NOERR:
 *                  raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *              name = namstring
 *              # get variable type.
 */
        __pyx_t_4 = PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 563; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(((PyObject *)__pyx_t_4));
        __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 563; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_1);
        PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject *)__pyx_t_4));
        __Pyx_GIVEREF(((PyObject *)__pyx_t_4));
        __pyx_t_4 = 0;
        __pyx_t_4 = PyObject_Call(__pyx_builtin_RuntimeError, __pyx_t_1, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 563; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_4);
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
        __Pyx_Raise(__pyx_t_4, 0, 0);
        __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 563; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        goto __pyx_L7;
      }
      __pyx_L7:;

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":564
 *              if ierr != NC_NOERR:
 *                  raise RuntimeError(nc_strerror(ierr))
 *              name = namstring             # <<<<<<<<<<<<<<
 *              # get variable type.
 *              ierr = nc_inq_vartype(group._grpid, varid, &xtype)
 */
      __pyx_t_4 = PyBytes_FromString(__pyx_v_namstring); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 564; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(((PyObject *)__pyx_t_4));
      __Pyx_DECREF(__pyx_v_name);
      __pyx_v_name = ((PyObject *)__pyx_t_4);
      __pyx_t_4 = 0;

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":566
 *              name = namstring
 *              # get variable type.
 *              ierr = nc_inq_vartype(group._grpid, varid, &xtype)             # <<<<<<<<<<<<<<
 *              if ierr != NC_NOERR:
 *                  raise RuntimeError(nc_strerror(ierr))
 */
      __pyx_t_4 = PyObject_GetAttr(__pyx_v_group, __pyx_n_s___grpid); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 566; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      __pyx_t_5 = __Pyx_PyInt_AsInt(__pyx_t_4); if (unlikely((__pyx_t_5 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 566; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_v_ierr = nc_inq_vartype(__pyx_t_5, __pyx_v_varid, (&__pyx_v_xtype));

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":567
 *              # get variable type.
 *              ierr = nc_inq_vartype(group._grpid, varid, &xtype)
 *              if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *                  raise RuntimeError(nc_strerror(ierr))
 *              try:
 */
      __pyx_t_3 = (__pyx_v_ierr != NC_NOERR);
      if (__pyx_t_3) {

        /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":568
 *              ierr = nc_inq_vartype(group._grpid, varid, &xtype)
 *              if ierr != NC_NOERR:
 *                  raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *              try:
 *                  datatype = _nctonptype[xtype]
 */
        __pyx_t_4 = PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 568; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(((PyObject *)__pyx_t_4));
        __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 568; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_1);
        PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject *)__pyx_t_4));
        __Pyx_GIVEREF(((PyObject *)__pyx_t_4));
        __pyx_t_4 = 0;
        __pyx_t_4 = PyObject_Call(__pyx_builtin_RuntimeError, __pyx_t_1, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 568; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_4);
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
        __Pyx_Raise(__pyx_t_4, 0, 0);
        __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 568; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        goto __pyx_L8;
      }
      __pyx_L8:;

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":569
 *              if ierr != NC_NOERR:
 *                  raise RuntimeError(nc_strerror(ierr))
 *              try:             # <<<<<<<<<<<<<<
 *                  datatype = _nctonptype[xtype]
 *              except:
 */
      {
        PyObject *__pyx_save_exc_type, *__pyx_save_exc_value, *__pyx_save_exc_tb;
        __Pyx_ExceptionSave(&__pyx_save_exc_type, &__pyx_save_exc_value, &__pyx_save_exc_tb);
        __Pyx_XGOTREF(__pyx_save_exc_type);
        __Pyx_XGOTREF(__pyx_save_exc_value);
        __Pyx_XGOTREF(__pyx_save_exc_tb);
        /*try:*/ {

          /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":570
 *                  raise RuntimeError(nc_strerror(ierr))
 *              try:
 *                  datatype = _nctonptype[xtype]             # <<<<<<<<<<<<<<
 *              except:
 *                  raise KeyError('variable %s has unsupported data type' % name)
 */
          __pyx_t_4 = __Pyx_GetName(__pyx_m, __pyx_n_s___nctonptype); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 570; __pyx_clineno = __LINE__; goto __pyx_L9_error;}
          __Pyx_GOTREF(__pyx_t_4);
          __pyx_t_1 = __Pyx_GetItemInt(__pyx_t_4, __pyx_v_xtype, sizeof(nc_type), __Pyx_PyInt_to_py_nc_type); if (!__pyx_t_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 570; __pyx_clineno = __LINE__; goto __pyx_L9_error;}
          __Pyx_GOTREF(__pyx_t_1);
          __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
          __Pyx_DECREF(__pyx_v_datatype);
          __pyx_v_datatype = __pyx_t_1;
          __pyx_t_1 = 0;
        }
        __Pyx_XDECREF(__pyx_save_exc_type); __pyx_save_exc_type = 0;
        __Pyx_XDECREF(__pyx_save_exc_value); __pyx_save_exc_value = 0;
        __Pyx_XDECREF(__pyx_save_exc_tb); __pyx_save_exc_tb = 0;
        goto __pyx_L16_try_end;
        __pyx_L9_error:;
        __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
        __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;

        /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":571
 *              try:
 *                  datatype = _nctonptype[xtype]
 *              except:             # <<<<<<<<<<<<<<
 *                  raise KeyError('variable %s has unsupported data type' % name)
 *                  continue
 */
        /*except:*/ {
          __Pyx_AddTraceback("netCDF3._get_vars");
          if (__Pyx_GetException(&__pyx_t_1, &__pyx_t_4, &__pyx_t_6) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 571; __pyx_clineno = __LINE__; goto __pyx_L11_except_error;}
          __Pyx_GOTREF(__pyx_t_1);
          __Pyx_GOTREF(__pyx_t_4);
          __Pyx_GOTREF(__pyx_t_6);

          /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":572
 *                  datatype = _nctonptype[xtype]
 *              except:
 *                  raise KeyError('variable %s has unsupported data type' % name)             # <<<<<<<<<<<<<<
 *                  continue
 *              # get number of dimensions.
 */
          __pyx_t_7 = PyNumber_Remainder(((PyObject *)__pyx_kp_s_10), __pyx_v_name); if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 572; __pyx_clineno = __LINE__; goto __pyx_L11_except_error;}
          __Pyx_GOTREF(((PyObject *)__pyx_t_7));
          __pyx_t_8 = PyTuple_New(1); if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 572; __pyx_clineno = __LINE__; goto __pyx_L11_except_error;}
          __Pyx_GOTREF(__pyx_t_8);
          PyTuple_SET_ITEM(__pyx_t_8, 0, ((PyObject *)__pyx_t_7));
          __Pyx_GIVEREF(((PyObject *)__pyx_t_7));
          __pyx_t_7 = 0;
          __pyx_t_7 = PyObject_Call(__pyx_builtin_KeyError, __pyx_t_8, NULL); if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 572; __pyx_clineno = __LINE__; goto __pyx_L11_except_error;}
          __Pyx_GOTREF(__pyx_t_7);
          __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
          __Pyx_Raise(__pyx_t_7, 0, 0);
          __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
          {__pyx_filename = __pyx_f[0]; __pyx_lineno = 572; __pyx_clineno = __LINE__; goto __pyx_L11_except_error;}

          /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":573
 *              except:
 *                  raise KeyError('variable %s has unsupported data type' % name)
 *                  continue             # <<<<<<<<<<<<<<
 *              # get number of dimensions.
 *              ierr = nc_inq_varndims(group._grpid, varid, &numdims)
 */
          goto __pyx_L18_except_continue;
          __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
          __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
          __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
          goto __pyx_L10_exception_handled;
          __pyx_L18_except_continue:;
          __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
          __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
          __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
          goto __pyx_L15_try_continue;
        }
        __pyx_L11_except_error:;
        __Pyx_XGIVEREF(__pyx_save_exc_type);
        __Pyx_XGIVEREF(__pyx_save_exc_value);
        __Pyx_XGIVEREF(__pyx_save_exc_tb);
        __Pyx_ExceptionReset(__pyx_save_exc_type, __pyx_save_exc_value, __pyx_save_exc_tb);
        goto __pyx_L1_error;
        __pyx_L15_try_continue:;
        __Pyx_XGIVEREF(__pyx_save_exc_type);
        __Pyx_XGIVEREF(__pyx_save_exc_value);
        __Pyx_XGIVEREF(__pyx_save_exc_tb);
        __Pyx_ExceptionReset(__pyx_save_exc_type, __pyx_save_exc_value, __pyx_save_exc_tb);
        goto __pyx_L5_continue;
        __pyx_L10_exception_handled:;
        __Pyx_XGIVEREF(__pyx_save_exc_type);
        __Pyx_XGIVEREF(__pyx_save_exc_value);
        __Pyx_XGIVEREF(__pyx_save_exc_tb);
        __Pyx_ExceptionReset(__pyx_save_exc_type, __pyx_save_exc_value, __pyx_save_exc_tb);
        __pyx_L16_try_end:;
      }

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":575
 *                  continue
 *              # get number of dimensions.
 *              ierr = nc_inq_varndims(group._grpid, varid, &numdims)             # <<<<<<<<<<<<<<
 *              if ierr != NC_NOERR:
 *                  raise RuntimeError(nc_strerror(ierr))
 */
      __pyx_t_6 = PyObject_GetAttr(__pyx_v_group, __pyx_n_s___grpid); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 575; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_6);
      __pyx_t_5 = __Pyx_PyInt_AsInt(__pyx_t_6); if (unlikely((__pyx_t_5 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 575; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_v_ierr = nc_inq_varndims(__pyx_t_5, __pyx_v_varid, (&__pyx_v_numdims));

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":576
 *              # get number of dimensions.
 *              ierr = nc_inq_varndims(group._grpid, varid, &numdims)
 *              if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *                  raise RuntimeError(nc_strerror(ierr))
 *              # get dimension ids.
 */
      __pyx_t_3 = (__pyx_v_ierr != NC_NOERR);
      if (__pyx_t_3) {

        /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":577
 *              ierr = nc_inq_varndims(group._grpid, varid, &numdims)
 *              if ierr != NC_NOERR:
 *                  raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *              # get dimension ids.
 *              ierr = nc_inq_vardimid(group._grpid, varid, dimids)
 */
        __pyx_t_6 = PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 577; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(((PyObject *)__pyx_t_6));
        __pyx_t_4 = PyTuple_New(1); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 577; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_4);
        PyTuple_SET_ITEM(__pyx_t_4, 0, ((PyObject *)__pyx_t_6));
        __Pyx_GIVEREF(((PyObject *)__pyx_t_6));
        __pyx_t_6 = 0;
        __pyx_t_6 = PyObject_Call(__pyx_builtin_RuntimeError, __pyx_t_4, NULL); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 577; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_6);
        __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
        __Pyx_Raise(__pyx_t_6, 0, 0);
        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 577; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        goto __pyx_L19;
      }
      __pyx_L19:;

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":579
 *                  raise RuntimeError(nc_strerror(ierr))
 *              # get dimension ids.
 *              ierr = nc_inq_vardimid(group._grpid, varid, dimids)             # <<<<<<<<<<<<<<
 *              if ierr != NC_NOERR:
 *                  raise RuntimeError(nc_strerror(ierr))
 */
      __pyx_t_6 = PyObject_GetAttr(__pyx_v_group, __pyx_n_s___grpid); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 579; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_6);
      __pyx_t_5 = __Pyx_PyInt_AsInt(__pyx_t_6); if (unlikely((__pyx_t_5 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 579; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_v_ierr = nc_inq_vardimid(__pyx_t_5, __pyx_v_varid, __pyx_v_dimids);

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":580
 *              # get dimension ids.
 *              ierr = nc_inq_vardimid(group._grpid, varid, dimids)
 *              if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *                  raise RuntimeError(nc_strerror(ierr))
 *              # loop over dimensions, retrieve names.
 */
      __pyx_t_3 = (__pyx_v_ierr != NC_NOERR);
      if (__pyx_t_3) {

        /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":581
 *              ierr = nc_inq_vardimid(group._grpid, varid, dimids)
 *              if ierr != NC_NOERR:
 *                  raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *              # loop over dimensions, retrieve names.
 *              dimensions = []
 */
        __pyx_t_6 = PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 581; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(((PyObject *)__pyx_t_6));
        __pyx_t_4 = PyTuple_New(1); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 581; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_4);
        PyTuple_SET_ITEM(__pyx_t_4, 0, ((PyObject *)__pyx_t_6));
        __Pyx_GIVEREF(((PyObject *)__pyx_t_6));
        __pyx_t_6 = 0;
        __pyx_t_6 = PyObject_Call(__pyx_builtin_RuntimeError, __pyx_t_4, NULL); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 581; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_6);
        __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
        __Pyx_Raise(__pyx_t_6, 0, 0);
        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 581; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        goto __pyx_L20;
      }
      __pyx_L20:;

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":583
 *                  raise RuntimeError(nc_strerror(ierr))
 *              # loop over dimensions, retrieve names.
 *              dimensions = []             # <<<<<<<<<<<<<<
 *              for nn from 0 <= nn < numdims:
 *                  for key, value in group.dimensions.iteritems():
 */
      __pyx_t_6 = PyList_New(0); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 583; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(((PyObject *)__pyx_t_6));
      __Pyx_DECREF(((PyObject *)__pyx_v_dimensions));
      __pyx_v_dimensions = __pyx_t_6;
      __pyx_t_6 = 0;

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":584
 *              # loop over dimensions, retrieve names.
 *              dimensions = []
 *              for nn from 0 <= nn < numdims:             # <<<<<<<<<<<<<<
 *                  for key, value in group.dimensions.iteritems():
 *                      if value._dimid == dimids[nn]:
 */
      __pyx_t_5 = __pyx_v_numdims;
      for (__pyx_v_nn = 0; __pyx_v_nn < __pyx_t_5; __pyx_v_nn++) {

        /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":585
 *              dimensions = []
 *              for nn from 0 <= nn < numdims:
 *                  for key, value in group.dimensions.iteritems():             # <<<<<<<<<<<<<<
 *                      if value._dimid == dimids[nn]:
 *                          dimensions.append(key)
 */
        __pyx_t_6 = PyObject_GetAttr(__pyx_v_group, __pyx_n_s__dimensions); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 585; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_6);
        __pyx_t_4 = PyObject_GetAttr(__pyx_t_6, __pyx_n_s__iteritems); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 585; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_4);
        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
        __pyx_t_6 = PyObject_Call(__pyx_t_4, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 585; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_6);
        __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
        if (PyList_CheckExact(__pyx_t_6) || PyTuple_CheckExact(__pyx_t_6)) {
          __pyx_t_9 = 0; __pyx_t_4 = __pyx_t_6; __Pyx_INCREF(__pyx_t_4);
        } else {
          __pyx_t_9 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_t_6); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 585; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_4);
        }
        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
        for (;;) {
          if (likely(PyList_CheckExact(__pyx_t_4))) {
            if (__pyx_t_9 >= PyList_GET_SIZE(__pyx_t_4)) break;
            __pyx_t_6 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_9); __Pyx_INCREF(__pyx_t_6); __pyx_t_9++;
          } else if (likely(PyTuple_CheckExact(__pyx_t_4))) {
            if (__pyx_t_9 >= PyTuple_GET_SIZE(__pyx_t_4)) break;
            __pyx_t_6 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_9); __Pyx_INCREF(__pyx_t_6); __pyx_t_9++;
          } else {
            __pyx_t_6 = PyIter_Next(__pyx_t_4);
            if (!__pyx_t_6) {
              if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 585; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
              break;
            }
            __Pyx_GOTREF(__pyx_t_6);
          }
          if (PyTuple_CheckExact(__pyx_t_6) && likely(PyTuple_GET_SIZE(__pyx_t_6) == 2)) {
            PyObject* tuple = __pyx_t_6;
            __pyx_t_1 = PyTuple_GET_ITEM(tuple, 0); __Pyx_INCREF(__pyx_t_1);
            __pyx_t_7 = PyTuple_GET_ITEM(tuple, 1); __Pyx_INCREF(__pyx_t_7);
            __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
            __Pyx_DECREF(__pyx_v_key);
            __pyx_v_key = __pyx_t_1;
            __pyx_t_1 = 0;
            __Pyx_DECREF(__pyx_v_value);
            __pyx_v_value = __pyx_t_7;
            __pyx_t_7 = 0;
          } else {
            __pyx_t_8 = PyObject_GetIter(__pyx_t_6); if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 585; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            __Pyx_GOTREF(__pyx_t_8);
            __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
            __pyx_t_1 = __Pyx_UnpackItem(__pyx_t_8, 0); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 585; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            __Pyx_GOTREF(__pyx_t_1);
            __pyx_t_7 = __Pyx_UnpackItem(__pyx_t_8, 1); if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 585; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            __Pyx_GOTREF(__pyx_t_7);
            if (__Pyx_EndUnpack(__pyx_t_8, 2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 585; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
            __Pyx_DECREF(__pyx_v_key);
            __pyx_v_key = __pyx_t_1;
            __pyx_t_1 = 0;
            __Pyx_DECREF(__pyx_v_value);
            __pyx_v_value = __pyx_t_7;
            __pyx_t_7 = 0;
          }

          /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":586
 *              for nn from 0 <= nn < numdims:
 *                  for key, value in group.dimensions.iteritems():
 *                      if value._dimid == dimids[nn]:             # <<<<<<<<<<<<<<
 *                          dimensions.append(key)
 *                          found = True
 */
          __pyx_t_6 = PyObject_GetAttr(__pyx_v_value, __pyx_n_s___dimid); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 586; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_6);
          __pyx_t_7 = PyInt_FromLong((__pyx_v_dimids[__pyx_v_nn])); if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 586; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_7);
          __pyx_t_1 = PyObject_RichCompare(__pyx_t_6, __pyx_t_7, Py_EQ); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 586; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_1);
          __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
          __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
          __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_3 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 586; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
          if (__pyx_t_3) {

            /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":587
 *                  for key, value in group.dimensions.iteritems():
 *                      if value._dimid == dimids[nn]:
 *                          dimensions.append(key)             # <<<<<<<<<<<<<<
 *                          found = True
 *                          break
 */
            if (unlikely(__pyx_v_dimensions == Py_None)) {
              PyErr_SetString(PyExc_AttributeError, "'NoneType' object has no attribute 'append'"); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 587; __pyx_clineno = __LINE__; goto __pyx_L1_error;} 
            }
            __pyx_t_10 = PyList_Append(((PyObject *)__pyx_v_dimensions), __pyx_v_key); if (unlikely(__pyx_t_10 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 587; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

            /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":588
 *                      if value._dimid == dimids[nn]:
 *                          dimensions.append(key)
 *                          found = True             # <<<<<<<<<<<<<<
 *                          break
 *              # create new variable instance.
 */
            __pyx_v_found = 1;

            /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":589
 *                          dimensions.append(key)
 *                          found = True
 *                          break             # <<<<<<<<<<<<<<
 *              # create new variable instance.
 *              variables[name] = Variable(group, name, datatype, dimensions, id=varid)
 */
            goto __pyx_L24_break;
            goto __pyx_L25;
          }
          __pyx_L25:;
        }
        __pyx_L24_break:;
        __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      }

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":591
 *                          break
 *              # create new variable instance.
 *              variables[name] = Variable(group, name, datatype, dimensions, id=varid)             # <<<<<<<<<<<<<<
 *     return variables
 * 
 */
      __pyx_t_4 = PyTuple_New(4); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 591; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_INCREF(__pyx_v_group);
      PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_v_group);
      __Pyx_GIVEREF(__pyx_v_group);
      __Pyx_INCREF(__pyx_v_name);
      PyTuple_SET_ITEM(__pyx_t_4, 1, __pyx_v_name);
      __Pyx_GIVEREF(__pyx_v_name);
      __Pyx_INCREF(__pyx_v_datatype);
      PyTuple_SET_ITEM(__pyx_t_4, 2, __pyx_v_datatype);
      __Pyx_GIVEREF(__pyx_v_datatype);
      __Pyx_INCREF(((PyObject *)__pyx_v_dimensions));
      PyTuple_SET_ITEM(__pyx_t_4, 3, ((PyObject *)__pyx_v_dimensions));
      __Pyx_GIVEREF(((PyObject *)__pyx_v_dimensions));
      __pyx_t_1 = PyDict_New(); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 591; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(((PyObject *)__pyx_t_1));
      __pyx_t_7 = PyInt_FromLong(__pyx_v_varid); if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 591; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_7);
      if (PyDict_SetItem(__pyx_t_1, ((PyObject *)__pyx_n_s__id), __pyx_t_7) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 591; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
      __pyx_t_7 = PyEval_CallObjectWithKeywords(((PyObject *)((PyObject*)__pyx_ptype_7netCDF3_Variable)), __pyx_t_4, ((PyObject *)__pyx_t_1)); if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 591; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_7);
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __Pyx_DECREF(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;
      if (PyObject_SetItem(__pyx_v_variables, __pyx_v_name, __pyx_t_7) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 591; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
      __pyx_L5_continue:;
    }
    goto __pyx_L4;
  }
  __pyx_L4:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":592
 *              # create new variable instance.
 *              variables[name] = Variable(group, name, datatype, dimensions, id=varid)
 *     return variables             # <<<<<<<<<<<<<<
 * 
 * # these are class attributes that
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(__pyx_v_variables);
  __pyx_r = __pyx_v_variables;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_XDECREF(__pyx_t_7);
  __Pyx_XDECREF(__pyx_t_8);
  __Pyx_AddTraceback("netCDF3._get_vars");
  __pyx_r = 0;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_variables);
  __Pyx_DECREF(__pyx_v_name);
  __Pyx_DECREF(__pyx_v_datatype);
  __Pyx_DECREF(__pyx_v_dimensions);
  __Pyx_DECREF(__pyx_v_key);
  __Pyx_DECREF(__pyx_v_value);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":662
 * file format version, either C{NETCDF3_CLASSIC} or
 * or C{NETCDF3_64BIT}."""
 *     cdef public int _grpid             # <<<<<<<<<<<<<<
 *     cdef public dimensions, variables, file_format, maskanscale
 * 
 */

static PyObject *__pyx_pf_7netCDF3_7Dataset_6_grpid___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_7netCDF3_7Dataset_6_grpid___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  __Pyx_RefNannySetupContext("__get__");
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = PyInt_FromLong(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->_grpid); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 662; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("netCDF3.Dataset._grpid.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static int __pyx_pf_7netCDF3_7Dataset_6_grpid___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value); /*proto*/
static int __pyx_pf_7netCDF3_7Dataset_6_grpid___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value) {
  int __pyx_r;
  int __pyx_t_1;
  __Pyx_RefNannySetupContext("__set__");
  __pyx_t_1 = __Pyx_PyInt_AsInt(__pyx_v_value); if (unlikely((__pyx_t_1 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 662; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  ((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->_grpid = __pyx_t_1;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_AddTraceback("netCDF3.Dataset._grpid.__set__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":663
 * or C{NETCDF3_64BIT}."""
 *     cdef public int _grpid
 *     cdef public dimensions, variables, file_format, maskanscale             # <<<<<<<<<<<<<<
 * 
 *     def __init__(self, filename, mode='r', clobber=True, format='NETCDF3_64BIT', **kwargs):
 */

static PyObject *__pyx_pf_7netCDF3_7Dataset_10dimensions___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_7netCDF3_7Dataset_10dimensions___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannySetupContext("__get__");
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->dimensions);
  __pyx_r = ((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->dimensions;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static int __pyx_pf_7netCDF3_7Dataset_10dimensions___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value); /*proto*/
static int __pyx_pf_7netCDF3_7Dataset_10dimensions___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value) {
  int __pyx_r;
  __Pyx_RefNannySetupContext("__set__");
  __Pyx_INCREF(__pyx_v_value);
  __Pyx_GIVEREF(__pyx_v_value);
  __Pyx_GOTREF(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->dimensions);
  __Pyx_DECREF(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->dimensions);
  ((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->dimensions = __pyx_v_value;

  __pyx_r = 0;
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static int __pyx_pf_7netCDF3_7Dataset_10dimensions___del__(PyObject *__pyx_v_self); /*proto*/
static int __pyx_pf_7netCDF3_7Dataset_10dimensions___del__(PyObject *__pyx_v_self) {
  int __pyx_r;
  __Pyx_RefNannySetupContext("__del__");
  __Pyx_INCREF(Py_None);
  __Pyx_GIVEREF(Py_None);
  __Pyx_GOTREF(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->dimensions);
  __Pyx_DECREF(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->dimensions);
  ((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->dimensions = Py_None;

  __pyx_r = 0;
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_7netCDF3_7Dataset_9variables___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_7netCDF3_7Dataset_9variables___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannySetupContext("__get__");
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->variables);
  __pyx_r = ((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->variables;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static int __pyx_pf_7netCDF3_7Dataset_9variables___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value); /*proto*/
static int __pyx_pf_7netCDF3_7Dataset_9variables___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value) {
  int __pyx_r;
  __Pyx_RefNannySetupContext("__set__");
  __Pyx_INCREF(__pyx_v_value);
  __Pyx_GIVEREF(__pyx_v_value);
  __Pyx_GOTREF(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->variables);
  __Pyx_DECREF(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->variables);
  ((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->variables = __pyx_v_value;

  __pyx_r = 0;
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static int __pyx_pf_7netCDF3_7Dataset_9variables___del__(PyObject *__pyx_v_self); /*proto*/
static int __pyx_pf_7netCDF3_7Dataset_9variables___del__(PyObject *__pyx_v_self) {
  int __pyx_r;
  __Pyx_RefNannySetupContext("__del__");
  __Pyx_INCREF(Py_None);
  __Pyx_GIVEREF(Py_None);
  __Pyx_GOTREF(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->variables);
  __Pyx_DECREF(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->variables);
  ((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->variables = Py_None;

  __pyx_r = 0;
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_7netCDF3_7Dataset_11file_format___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_7netCDF3_7Dataset_11file_format___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannySetupContext("__get__");
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->file_format);
  __pyx_r = ((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->file_format;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static int __pyx_pf_7netCDF3_7Dataset_11file_format___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value); /*proto*/
static int __pyx_pf_7netCDF3_7Dataset_11file_format___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value) {
  int __pyx_r;
  __Pyx_RefNannySetupContext("__set__");
  __Pyx_INCREF(__pyx_v_value);
  __Pyx_GIVEREF(__pyx_v_value);
  __Pyx_GOTREF(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->file_format);
  __Pyx_DECREF(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->file_format);
  ((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->file_format = __pyx_v_value;

  __pyx_r = 0;
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static int __pyx_pf_7netCDF3_7Dataset_11file_format___del__(PyObject *__pyx_v_self); /*proto*/
static int __pyx_pf_7netCDF3_7Dataset_11file_format___del__(PyObject *__pyx_v_self) {
  int __pyx_r;
  __Pyx_RefNannySetupContext("__del__");
  __Pyx_INCREF(Py_None);
  __Pyx_GIVEREF(Py_None);
  __Pyx_GOTREF(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->file_format);
  __Pyx_DECREF(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->file_format);
  ((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->file_format = Py_None;

  __pyx_r = 0;
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_7netCDF3_7Dataset_11maskanscale___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_7netCDF3_7Dataset_11maskanscale___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannySetupContext("__get__");
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->maskanscale);
  __pyx_r = ((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->maskanscale;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static int __pyx_pf_7netCDF3_7Dataset_11maskanscale___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value); /*proto*/
static int __pyx_pf_7netCDF3_7Dataset_11maskanscale___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value) {
  int __pyx_r;
  __Pyx_RefNannySetupContext("__set__");
  __Pyx_INCREF(__pyx_v_value);
  __Pyx_GIVEREF(__pyx_v_value);
  __Pyx_GOTREF(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->maskanscale);
  __Pyx_DECREF(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->maskanscale);
  ((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->maskanscale = __pyx_v_value;

  __pyx_r = 0;
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static int __pyx_pf_7netCDF3_7Dataset_11maskanscale___del__(PyObject *__pyx_v_self); /*proto*/
static int __pyx_pf_7netCDF3_7Dataset_11maskanscale___del__(PyObject *__pyx_v_self) {
  int __pyx_r;
  __Pyx_RefNannySetupContext("__del__");
  __Pyx_INCREF(Py_None);
  __Pyx_GIVEREF(Py_None);
  __Pyx_GOTREF(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->maskanscale);
  __Pyx_DECREF(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->maskanscale);
  ((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->maskanscale = Py_None;

  __pyx_r = 0;
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":665
 *     cdef public dimensions, variables, file_format, maskanscale
 * 
 *     def __init__(self, filename, mode='r', clobber=True, format='NETCDF3_64BIT', **kwargs):             # <<<<<<<<<<<<<<
 *         cdef int grpid, ierr, numgrps, numdims, numvars
 *         cdef char *path
 */

static int __pyx_pf_7netCDF3_7Dataset___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_7netCDF3_7Dataset___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_filename = 0;
  PyObject *__pyx_v_mode = 0;
  PyObject *__pyx_v_clobber = 0;
  PyObject *__pyx_v_format = 0;
  PyObject *__pyx_v_kwargs = 0;
  int __pyx_v_grpid;
  int __pyx_v_ierr;
  char *__pyx_v_path;
  int __pyx_r;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  int __pyx_t_3;
  PyObject *__pyx_t_4 = NULL;
  int __pyx_t_5;
  int __pyx_t_6;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__filename,&__pyx_n_s__mode,&__pyx_n_s__clobber,&__pyx_n_s__format,0};
  __Pyx_RefNannySetupContext("__init__");
  __pyx_v_kwargs = PyDict_New(); if (unlikely(!__pyx_v_kwargs)) return -1;
  __Pyx_GOTREF(__pyx_v_kwargs);
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[4] = {0,0,0,0};
    values[1] = ((PyObject *)__pyx_n_s__r);
    values[2] = __pyx_k_11;
    values[3] = ((PyObject *)__pyx_n_s__NETCDF3_64BIT);
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
      case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__filename);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      if (kw_args > 0) {
        PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s__mode);
        if (value) { values[1] = value; kw_args--; }
      }
      case  2:
      if (kw_args > 0) {
        PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s__clobber);
        if (value) { values[2] = value; kw_args--; }
      }
      case  3:
      if (kw_args > 0) {
        PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s__format);
        if (value) { values[3] = value; kw_args--; }
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kwargs, values, PyTuple_GET_SIZE(__pyx_args), "__init__") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 665; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_filename = values[0];
    __pyx_v_mode = values[1];
    __pyx_v_clobber = values[2];
    __pyx_v_format = values[3];
  } else {
    __pyx_v_mode = ((PyObject *)__pyx_n_s__r);
    __pyx_v_clobber = __pyx_k_11;
    __pyx_v_format = ((PyObject *)__pyx_n_s__NETCDF3_64BIT);
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  4: __pyx_v_format = PyTuple_GET_ITEM(__pyx_args, 3);
      case  3: __pyx_v_clobber = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2: __pyx_v_mode = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: __pyx_v_filename = PyTuple_GET_ITEM(__pyx_args, 0);
      break;
      default: goto __pyx_L5_argtuple_error;
    }
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("__init__", 0, 1, 4, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 665; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_DECREF(__pyx_v_kwargs);
  __Pyx_AddTraceback("netCDF3.Dataset.__init__");
  __Pyx_RefNannyFinishContext();
  return -1;
  __pyx_L4_argument_unpacking_done:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":669
 *         cdef char *path
 *         cdef char namstring[NC_MAX_NAME+1]
 *         path = PyString_AsString(str(filename))             # <<<<<<<<<<<<<<
 *         if mode == 'w':
 *             _set_default_format(format=format)
 */
  __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 669; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_INCREF(__pyx_v_filename);
  PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v_filename);
  __Pyx_GIVEREF(__pyx_v_filename);
  __pyx_t_2 = PyObject_Call(((PyObject *)((PyObject*)&PyString_Type)), __pyx_t_1, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 669; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_path = PyString_AsString(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":670
 *         cdef char namstring[NC_MAX_NAME+1]
 *         path = PyString_AsString(str(filename))
 *         if mode == 'w':             # <<<<<<<<<<<<<<
 *             _set_default_format(format=format)
 *             if clobber:
 */
  __pyx_t_2 = PyObject_RichCompare(__pyx_v_mode, ((PyObject *)__pyx_n_s__w), Py_EQ); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 670; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely(__pyx_t_3 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 670; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  if (__pyx_t_3) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":671
 *         path = PyString_AsString(str(filename))
 *         if mode == 'w':
 *             _set_default_format(format=format)             # <<<<<<<<<<<<<<
 *             if clobber:
 *                 ierr = nc_create(path, NC_CLOBBER, &grpid)
 */
    __pyx_t_2 = __Pyx_GetName(__pyx_m, __pyx_n_s___set_default_format); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 671; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_1 = PyDict_New(); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 671; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(((PyObject *)__pyx_t_1));
    if (PyDict_SetItem(__pyx_t_1, ((PyObject *)__pyx_n_s__format), __pyx_v_format) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 671; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_t_4 = PyEval_CallObjectWithKeywords(__pyx_t_2, ((PyObject *)__pyx_empty_tuple), ((PyObject *)__pyx_t_1)); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 671; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_DECREF(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":672
 *         if mode == 'w':
 *             _set_default_format(format=format)
 *             if clobber:             # <<<<<<<<<<<<<<
 *                 ierr = nc_create(path, NC_CLOBBER, &grpid)
 *             else:
 */
    __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_v_clobber); if (unlikely(__pyx_t_3 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 672; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (__pyx_t_3) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":673
 *             _set_default_format(format=format)
 *             if clobber:
 *                 ierr = nc_create(path, NC_CLOBBER, &grpid)             # <<<<<<<<<<<<<<
 *             else:
 *                 ierr = nc_create(path, NC_NOCLOBBER, &grpid)
 */
      __pyx_v_ierr = nc_create(__pyx_v_path, NC_CLOBBER, (&__pyx_v_grpid));
      goto __pyx_L7;
    }
    /*else*/ {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":675
 *                 ierr = nc_create(path, NC_CLOBBER, &grpid)
 *             else:
 *                 ierr = nc_create(path, NC_NOCLOBBER, &grpid)             # <<<<<<<<<<<<<<
 *             # initialize group dict.
 *         elif mode == 'r':
 */
      __pyx_v_ierr = nc_create(__pyx_v_path, NC_NOCLOBBER, (&__pyx_v_grpid));
    }
    __pyx_L7:;
    goto __pyx_L6;
  }

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":677
 *                 ierr = nc_create(path, NC_NOCLOBBER, &grpid)
 *             # initialize group dict.
 *         elif mode == 'r':             # <<<<<<<<<<<<<<
 *             ierr = nc_open(path, NC_NOWRITE, &grpid)
 *         elif mode == 'r+' or mode == 'a':
 */
  __pyx_t_4 = PyObject_RichCompare(__pyx_v_mode, ((PyObject *)__pyx_n_s__r), Py_EQ); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 677; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely(__pyx_t_3 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 677; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  if (__pyx_t_3) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":678
 *             # initialize group dict.
 *         elif mode == 'r':
 *             ierr = nc_open(path, NC_NOWRITE, &grpid)             # <<<<<<<<<<<<<<
 *         elif mode == 'r+' or mode == 'a':
 *             ierr = nc_open(path, NC_WRITE, &grpid)
 */
    __pyx_v_ierr = nc_open(__pyx_v_path, NC_NOWRITE, (&__pyx_v_grpid));
    goto __pyx_L6;
  }

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":679
 *         elif mode == 'r':
 *             ierr = nc_open(path, NC_NOWRITE, &grpid)
 *         elif mode == 'r+' or mode == 'a':             # <<<<<<<<<<<<<<
 *             ierr = nc_open(path, NC_WRITE, &grpid)
 *         elif mode == 'as' or mode == 'r+s':
 */
  __pyx_t_4 = PyObject_RichCompare(__pyx_v_mode, ((PyObject *)__pyx_kp_s_12), Py_EQ); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 679; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely(__pyx_t_3 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 679; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  if (!__pyx_t_3) {
    __pyx_t_4 = PyObject_RichCompare(__pyx_v_mode, ((PyObject *)__pyx_n_s__a), Py_EQ); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 679; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_5 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely(__pyx_t_5 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 679; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_6 = __pyx_t_5;
  } else {
    __pyx_t_6 = __pyx_t_3;
  }
  if (__pyx_t_6) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":680
 *             ierr = nc_open(path, NC_NOWRITE, &grpid)
 *         elif mode == 'r+' or mode == 'a':
 *             ierr = nc_open(path, NC_WRITE, &grpid)             # <<<<<<<<<<<<<<
 *         elif mode == 'as' or mode == 'r+s':
 *             ierr = nc_open(path, NC_SHARE, &grpid)
 */
    __pyx_v_ierr = nc_open(__pyx_v_path, NC_WRITE, (&__pyx_v_grpid));
    goto __pyx_L6;
  }

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":681
 *         elif mode == 'r+' or mode == 'a':
 *             ierr = nc_open(path, NC_WRITE, &grpid)
 *         elif mode == 'as' or mode == 'r+s':             # <<<<<<<<<<<<<<
 *             ierr = nc_open(path, NC_SHARE, &grpid)
 *         elif mode == 'ws':
 */
  __pyx_t_4 = PyObject_RichCompare(__pyx_v_mode, ((PyObject *)__pyx_n_s__as), Py_EQ); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 681; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely(__pyx_t_6 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 681; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  if (!__pyx_t_6) {
    __pyx_t_4 = PyObject_RichCompare(__pyx_v_mode, ((PyObject *)__pyx_kp_s_13), Py_EQ); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 681; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely(__pyx_t_3 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 681; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_5 = __pyx_t_3;
  } else {
    __pyx_t_5 = __pyx_t_6;
  }
  if (__pyx_t_5) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":682
 *             ierr = nc_open(path, NC_WRITE, &grpid)
 *         elif mode == 'as' or mode == 'r+s':
 *             ierr = nc_open(path, NC_SHARE, &grpid)             # <<<<<<<<<<<<<<
 *         elif mode == 'ws':
 *             if clobber:
 */
    __pyx_v_ierr = nc_open(__pyx_v_path, NC_SHARE, (&__pyx_v_grpid));
    goto __pyx_L6;
  }

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":683
 *         elif mode == 'as' or mode == 'r+s':
 *             ierr = nc_open(path, NC_SHARE, &grpid)
 *         elif mode == 'ws':             # <<<<<<<<<<<<<<
 *             if clobber:
 *                 ierr = nc_create(path, NC_SHARE | NC_CLOBBER, &grpid)
 */
  __pyx_t_4 = PyObject_RichCompare(__pyx_v_mode, ((PyObject *)__pyx_n_s__ws), Py_EQ); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 683; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __pyx_t_5 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely(__pyx_t_5 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 683; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  if (__pyx_t_5) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":684
 *             ierr = nc_open(path, NC_SHARE, &grpid)
 *         elif mode == 'ws':
 *             if clobber:             # <<<<<<<<<<<<<<
 *                 ierr = nc_create(path, NC_SHARE | NC_CLOBBER, &grpid)
 *             else:
 */
    __pyx_t_5 = __Pyx_PyObject_IsTrue(__pyx_v_clobber); if (unlikely(__pyx_t_5 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 684; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (__pyx_t_5) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":685
 *         elif mode == 'ws':
 *             if clobber:
 *                 ierr = nc_create(path, NC_SHARE | NC_CLOBBER, &grpid)             # <<<<<<<<<<<<<<
 *             else:
 *                 ierr = nc_create(path, NC_SHARE | NC_NOCLOBBER, &grpid)
 */
      __pyx_v_ierr = nc_create(__pyx_v_path, (NC_SHARE | NC_CLOBBER), (&__pyx_v_grpid));
      goto __pyx_L8;
    }
    /*else*/ {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":687
 *                 ierr = nc_create(path, NC_SHARE | NC_CLOBBER, &grpid)
 *             else:
 *                 ierr = nc_create(path, NC_SHARE | NC_NOCLOBBER, &grpid)             # <<<<<<<<<<<<<<
 *         else:
 *             raise ValueError("mode must be 'w', 'r', 'a', 'r+', 'as', 'r+s' or 'ws', got '%s'" % mode)
 */
      __pyx_v_ierr = nc_create(__pyx_v_path, (NC_SHARE | NC_NOCLOBBER), (&__pyx_v_grpid));
    }
    __pyx_L8:;
    goto __pyx_L6;
  }
  /*else*/ {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":689
 *                 ierr = nc_create(path, NC_SHARE | NC_NOCLOBBER, &grpid)
 *         else:
 *             raise ValueError("mode must be 'w', 'r', 'a', 'r+', 'as', 'r+s' or 'ws', got '%s'" % mode)             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
    __pyx_t_4 = PyNumber_Remainder(((PyObject *)__pyx_kp_s_14), __pyx_v_mode); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 689; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(((PyObject *)__pyx_t_4));
    __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 689; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject *)__pyx_t_4));
    __Pyx_GIVEREF(((PyObject *)__pyx_t_4));
    __pyx_t_4 = 0;
    __pyx_t_4 = PyObject_Call(__pyx_builtin_ValueError, __pyx_t_1, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 689; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_Raise(__pyx_t_4, 0, 0);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 689; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  __pyx_L6:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":690
 *         else:
 *             raise ValueError("mode must be 'w', 'r', 'a', 'r+', 'as', 'r+s' or 'ws', got '%s'" % mode)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise RuntimeError(nc_strerror(ierr))
 *         # file format attribute.
 */
  __pyx_t_5 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_t_5) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":691
 *             raise ValueError("mode must be 'w', 'r', 'a', 'r+', 'as', 'r+s' or 'ws', got '%s'" % mode)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *         # file format attribute.
 *         self.file_format = _get_format(grpid)
 */
    __pyx_t_4 = PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 691; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(((PyObject *)__pyx_t_4));
    __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 691; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject *)__pyx_t_4));
    __Pyx_GIVEREF(((PyObject *)__pyx_t_4));
    __pyx_t_4 = 0;
    __pyx_t_4 = PyObject_Call(__pyx_builtin_RuntimeError, __pyx_t_1, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 691; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_Raise(__pyx_t_4, 0, 0);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 691; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L9;
  }
  __pyx_L9:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":693
 *             raise RuntimeError(nc_strerror(ierr))
 *         # file format attribute.
 *         self.file_format = _get_format(grpid)             # <<<<<<<<<<<<<<
 *         self._grpid = grpid
 *         # get dimensions in the root group.
 */
  __pyx_t_4 = __pyx_f_7netCDF3__get_format(__pyx_v_grpid); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 693; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_GIVEREF(__pyx_t_4);
  __Pyx_GOTREF(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->file_format);
  __Pyx_DECREF(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->file_format);
  ((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->file_format = __pyx_t_4;
  __pyx_t_4 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":694
 *         # file format attribute.
 *         self.file_format = _get_format(grpid)
 *         self._grpid = grpid             # <<<<<<<<<<<<<<
 *         # get dimensions in the root group.
 *         self.dimensions = _get_dims(self)
 */
  ((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->_grpid = __pyx_v_grpid;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":696
 *         self._grpid = grpid
 *         # get dimensions in the root group.
 *         self.dimensions = _get_dims(self)             # <<<<<<<<<<<<<<
 *         # get variables in the Dataset.
 *         self.variables = _get_vars(self)
 */
  __pyx_t_4 = __pyx_f_7netCDF3__get_dims(__pyx_v_self); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 696; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_GIVEREF(__pyx_t_4);
  __Pyx_GOTREF(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->dimensions);
  __Pyx_DECREF(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->dimensions);
  ((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->dimensions = __pyx_t_4;
  __pyx_t_4 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":698
 *         self.dimensions = _get_dims(self)
 *         # get variables in the Dataset.
 *         self.variables = _get_vars(self)             # <<<<<<<<<<<<<<
 * 
 *     def close(self):
 */
  __pyx_t_4 = __pyx_f_7netCDF3__get_vars(__pyx_v_self); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 698; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_GIVEREF(__pyx_t_4);
  __Pyx_GOTREF(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->variables);
  __Pyx_DECREF(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->variables);
  ((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->variables = __pyx_t_4;
  __pyx_t_4 = 0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("netCDF3.Dataset.__init__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_kwargs);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":700
 *         self.variables = _get_vars(self)
 * 
 *     def close(self):             # <<<<<<<<<<<<<<
 *         """
 * close(self)
 */

static PyObject *__pyx_pf_7netCDF3_7Dataset_close(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
static char __pyx_doc_7netCDF3_7Dataset_close[] = "\nclose(self)\n\nClose the Dataset.";
static PyObject *__pyx_pf_7netCDF3_7Dataset_close(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
  int __pyx_v_ierr;
  PyObject *__pyx_r = NULL;
  int __pyx_t_1;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  __Pyx_RefNannySetupContext("close");

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":706
 * Close the Dataset."""
 *         cdef int ierr
 *         ierr = nc_close(self._grpid)             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_v_ierr = nc_close(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->_grpid);

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":707
 *         cdef int ierr
 *         ierr = nc_close(self._grpid)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise RuntimeError(nc_strerror(ierr))
 * 
 */
  __pyx_t_1 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_t_1) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":708
 *         ierr = nc_close(self._grpid)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 * 
 *     def sync(self):
 */
    __pyx_t_2 = PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 708; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(((PyObject *)__pyx_t_2));
    __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 708; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    PyTuple_SET_ITEM(__pyx_t_3, 0, ((PyObject *)__pyx_t_2));
    __Pyx_GIVEREF(((PyObject *)__pyx_t_2));
    __pyx_t_2 = 0;
    __pyx_t_2 = PyObject_Call(__pyx_builtin_RuntimeError, __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 708; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_Raise(__pyx_t_2, 0, 0);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 708; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L5;
  }
  __pyx_L5:;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("netCDF3.Dataset.close");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":710
 *             raise RuntimeError(nc_strerror(ierr))
 * 
 *     def sync(self):             # <<<<<<<<<<<<<<
 *         """
 * sync(self)
 */

static PyObject *__pyx_pf_7netCDF3_7Dataset_sync(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
static char __pyx_doc_7netCDF3_7Dataset_sync[] = "\nsync(self)\n\nWrites all buffered data in the L{Dataset} to the disk file.";
static PyObject *__pyx_pf_7netCDF3_7Dataset_sync(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
  int __pyx_v_ierr;
  PyObject *__pyx_r = NULL;
  int __pyx_t_1;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  __Pyx_RefNannySetupContext("sync");

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":716
 * Writes all buffered data in the L{Dataset} to the disk file."""
 *         cdef int ierr
 *         ierr = nc_sync(self._grpid)             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_v_ierr = nc_sync(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->_grpid);

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":717
 *         cdef int ierr
 *         ierr = nc_sync(self._grpid)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise RuntimeError(nc_strerror(ierr))
 * 
 */
  __pyx_t_1 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_t_1) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":718
 *         ierr = nc_sync(self._grpid)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 * 
 *     def _redef(self):
 */
    __pyx_t_2 = PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 718; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(((PyObject *)__pyx_t_2));
    __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 718; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    PyTuple_SET_ITEM(__pyx_t_3, 0, ((PyObject *)__pyx_t_2));
    __Pyx_GIVEREF(((PyObject *)__pyx_t_2));
    __pyx_t_2 = 0;
    __pyx_t_2 = PyObject_Call(__pyx_builtin_RuntimeError, __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 718; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_Raise(__pyx_t_2, 0, 0);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 718; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L5;
  }
  __pyx_L5:;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("netCDF3.Dataset.sync");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":720
 *             raise RuntimeError(nc_strerror(ierr))
 * 
 *     def _redef(self):             # <<<<<<<<<<<<<<
 *         cdef int ierr
 *         ierr = nc_redef(self._grpid)
 */

static PyObject *__pyx_pf_7netCDF3_7Dataset__redef(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
static PyObject *__pyx_pf_7netCDF3_7Dataset__redef(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
  int __pyx_v_ierr;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannySetupContext("_redef");

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":722
 *     def _redef(self):
 *         cdef int ierr
 *         ierr = nc_redef(self._grpid)             # <<<<<<<<<<<<<<
 * 
 *     def _enddef(self):
 */
  __pyx_v_ierr = nc_redef(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->_grpid);

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":724
 *         ierr = nc_redef(self._grpid)
 * 
 *     def _enddef(self):             # <<<<<<<<<<<<<<
 *         cdef int ierr
 *         ierr = nc_enddef(self._grpid)
 */

static PyObject *__pyx_pf_7netCDF3_7Dataset__enddef(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
static PyObject *__pyx_pf_7netCDF3_7Dataset__enddef(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
  int __pyx_v_ierr;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannySetupContext("_enddef");

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":726
 *     def _enddef(self):
 *         cdef int ierr
 *         ierr = nc_enddef(self._grpid)             # <<<<<<<<<<<<<<
 * 
 *     def set_fill_on(self):
 */
  __pyx_v_ierr = nc_enddef(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->_grpid);

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":728
 *         ierr = nc_enddef(self._grpid)
 * 
 *     def set_fill_on(self):             # <<<<<<<<<<<<<<
 *         """
 * set_fill_on(self)
 */

static PyObject *__pyx_pf_7netCDF3_7Dataset_set_fill_on(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
static char __pyx_doc_7netCDF3_7Dataset_set_fill_on[] = "\nset_fill_on(self)\n\nSets the fill mode for a L{Dataset} open for writing to C{on}.\n\nThis causes data to be pre-filled with fill values. The fill values can be \ncontrolled by the variable's C{_Fill_Value} attribute, but is usually \nsufficient to the use the netCDF default C{_Fill_Value} (defined \nseparately for each variable type). The default behavior of the netCDF \nlibrary correspongs to C{set_fill_on}.  Data which are equal to the \nC{_Fill_Value} indicate that the variable was created, but never written \nto.";
static PyObject *__pyx_pf_7netCDF3_7Dataset_set_fill_on(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
  int __pyx_v_ierr;
  int __pyx_v_oldmode;
  PyObject *__pyx_r = NULL;
  int __pyx_t_1;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  __Pyx_RefNannySetupContext("set_fill_on");

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":742
 * to."""
 *         cdef int ierr, oldmode
 *         ierr = nc_set_fill (self._grpid, NC_FILL, &oldmode)             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_v_ierr = nc_set_fill(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->_grpid, NC_FILL, (&__pyx_v_oldmode));

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":743
 *         cdef int ierr, oldmode
 *         ierr = nc_set_fill (self._grpid, NC_FILL, &oldmode)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise RuntimeError(nc_strerror(ierr))
 * 
 */
  __pyx_t_1 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_t_1) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":744
 *         ierr = nc_set_fill (self._grpid, NC_FILL, &oldmode)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 * 
 *     def set_fill_off(self):
 */
    __pyx_t_2 = PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 744; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(((PyObject *)__pyx_t_2));
    __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 744; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    PyTuple_SET_ITEM(__pyx_t_3, 0, ((PyObject *)__pyx_t_2));
    __Pyx_GIVEREF(((PyObject *)__pyx_t_2));
    __pyx_t_2 = 0;
    __pyx_t_2 = PyObject_Call(__pyx_builtin_RuntimeError, __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 744; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_Raise(__pyx_t_2, 0, 0);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 744; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L5;
  }
  __pyx_L5:;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("netCDF3.Dataset.set_fill_on");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":746
 *             raise RuntimeError(nc_strerror(ierr))
 * 
 *     def set_fill_off(self):             # <<<<<<<<<<<<<<
 *         """
 * set_fill_off(self)
 */

static PyObject *__pyx_pf_7netCDF3_7Dataset_set_fill_off(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
static char __pyx_doc_7netCDF3_7Dataset_set_fill_off[] = "\nset_fill_off(self)\n\nSets the fill mode for a L{Dataset} open for writing to C{off}. \n\nThis will prevent the data from being pre-filled with fill values, which \nmay result in some performance improvements. However, you must then make \nsure the data is actually written before being read.";
static PyObject *__pyx_pf_7netCDF3_7Dataset_set_fill_off(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
  int __pyx_v_ierr;
  int __pyx_v_oldmode;
  PyObject *__pyx_r = NULL;
  int __pyx_t_1;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  __Pyx_RefNannySetupContext("set_fill_off");

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":756
 * sure the data is actually written before being read."""
 *         cdef int ierr, oldmode
 *         ierr = nc_set_fill (self._grpid, NC_NOFILL, &oldmode)             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_v_ierr = nc_set_fill(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->_grpid, NC_NOFILL, (&__pyx_v_oldmode));

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":757
 *         cdef int ierr, oldmode
 *         ierr = nc_set_fill (self._grpid, NC_NOFILL, &oldmode)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise RuntimeError(nc_strerror(ierr))
 * 
 */
  __pyx_t_1 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_t_1) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":758
 *         ierr = nc_set_fill (self._grpid, NC_NOFILL, &oldmode)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 * 
 *     def createDimension(self, dimname, size=None):
 */
    __pyx_t_2 = PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 758; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(((PyObject *)__pyx_t_2));
    __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 758; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    PyTuple_SET_ITEM(__pyx_t_3, 0, ((PyObject *)__pyx_t_2));
    __Pyx_GIVEREF(((PyObject *)__pyx_t_2));
    __pyx_t_2 = 0;
    __pyx_t_2 = PyObject_Call(__pyx_builtin_RuntimeError, __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 758; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_Raise(__pyx_t_2, 0, 0);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 758; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L5;
  }
  __pyx_L5:;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("netCDF3.Dataset.set_fill_off");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":760
 *             raise RuntimeError(nc_strerror(ierr))
 * 
 *     def createDimension(self, dimname, size=None):             # <<<<<<<<<<<<<<
 *         """
 * createDimension(self, dimname, size=None)
 */

static PyObject *__pyx_pf_7netCDF3_7Dataset_createDimension(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7netCDF3_7Dataset_createDimension[] = "\ncreateDimension(self, dimname, size=None)\n\nCreates a new dimension with the given C{dimname} and C{size}. \n\nC{size} must be a positive integer or C{None}, which stands for \n\"unlimited\" (default is C{None}). Specifying a size of 0 also\nresults in an unlimited dimension. The return value is the L{Dimension} \nclass instance describing the new dimension.  To determine the current \nmaximum size of the dimension, use the C{len} function on the L{Dimension} \ninstance. To determine if a dimension is 'unlimited', use the \nC{isunlimited()} method of the L{Dimension} instance.";
static PyObject *__pyx_pf_7netCDF3_7Dataset_createDimension(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_dimname = 0;
  PyObject *__pyx_v_size = 0;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__dimname,&__pyx_n_s__size,0};
  __Pyx_RefNannySetupContext("createDimension");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[2] = {0,0};
    values[1] = ((PyObject *)Py_None);
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__dimname);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      if (kw_args > 0) {
        PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s__size);
        if (value) { values[1] = value; kw_args--; }
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "createDimension") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 760; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_dimname = values[0];
    __pyx_v_size = values[1];
  } else {
    __pyx_v_size = ((PyObject *)Py_None);
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  2: __pyx_v_size = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: __pyx_v_dimname = PyTuple_GET_ITEM(__pyx_args, 0);
      break;
      default: goto __pyx_L5_argtuple_error;
    }
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("createDimension", 0, 1, 2, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 760; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF3.Dataset.createDimension");
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":773
 * instance. To determine if a dimension is 'unlimited', use the
 * C{isunlimited()} method of the L{Dimension} instance."""
 *         self.dimensions[dimname] = Dimension(self, dimname, size=size)             # <<<<<<<<<<<<<<
 *         return self.dimensions[dimname]
 * 
 */
  __pyx_t_1 = PyTuple_New(2); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 773; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_INCREF(__pyx_v_self);
  PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v_self);
  __Pyx_GIVEREF(__pyx_v_self);
  __Pyx_INCREF(__pyx_v_dimname);
  PyTuple_SET_ITEM(__pyx_t_1, 1, __pyx_v_dimname);
  __Pyx_GIVEREF(__pyx_v_dimname);
  __pyx_t_2 = PyDict_New(); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 773; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_2));
  if (PyDict_SetItem(__pyx_t_2, ((PyObject *)__pyx_n_s__size), __pyx_v_size) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 773; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_t_3 = PyEval_CallObjectWithKeywords(((PyObject *)((PyObject*)__pyx_ptype_7netCDF3_Dimension)), __pyx_t_1, ((PyObject *)__pyx_t_2)); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 773; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(((PyObject *)__pyx_t_2)); __pyx_t_2 = 0;
  if (PyObject_SetItem(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->dimensions, __pyx_v_dimname, __pyx_t_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 773; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":774
 * C{isunlimited()} method of the L{Dimension} instance."""
 *         self.dimensions[dimname] = Dimension(self, dimname, size=size)
 *         return self.dimensions[dimname]             # <<<<<<<<<<<<<<
 * 
 *     def renameDimension(self, oldname, newname):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_3 = PyObject_GetItem(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->dimensions, __pyx_v_dimname); if (!__pyx_t_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 774; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_r = __pyx_t_3;
  __pyx_t_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("netCDF3.Dataset.createDimension");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":776
 *         return self.dimensions[dimname]
 * 
 *     def renameDimension(self, oldname, newname):             # <<<<<<<<<<<<<<
 *         """
 * renameDimension(self, oldname, newname)
 */

static PyObject *__pyx_pf_7netCDF3_7Dataset_renameDimension(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7netCDF3_7Dataset_renameDimension[] = "\nrenameDimension(self, oldname, newname)\n\nrename a L{Dimension} named C{oldname} to C{newname}.";
static PyObject *__pyx_pf_7netCDF3_7Dataset_renameDimension(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_oldname = 0;
  PyObject *__pyx_v_newname = 0;
  char *__pyx_v_namstring;
  PyObject *__pyx_v_dim;
  int __pyx_v_ierr;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  int __pyx_t_3;
  int __pyx_t_4;
  PyObject *__pyx_t_5 = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__oldname,&__pyx_n_s__newname,0};
  __Pyx_RefNannySetupContext("renameDimension");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[2] = {0,0};
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__oldname);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__newname);
      if (likely(values[1])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("renameDimension", 1, 2, 2, 1); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 776; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "renameDimension") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 776; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_oldname = values[0];
    __pyx_v_newname = values[1];
  } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_oldname = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_newname = PyTuple_GET_ITEM(__pyx_args, 1);
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("renameDimension", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 776; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF3.Dataset.renameDimension");
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_v_dim = Py_None; __Pyx_INCREF(Py_None);

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":782
 * rename a L{Dimension} named C{oldname} to C{newname}."""
 *         cdef char *namstring
 *         dim = self.dimensions[oldname]             # <<<<<<<<<<<<<<
 *         namstring = PyString_AsString(str(newname))
 *         self._redef()
 */
  __pyx_t_1 = PyObject_GetItem(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->dimensions, __pyx_v_oldname); if (!__pyx_t_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 782; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_v_dim);
  __pyx_v_dim = __pyx_t_1;
  __pyx_t_1 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":783
 *         cdef char *namstring
 *         dim = self.dimensions[oldname]
 *         namstring = PyString_AsString(str(newname))             # <<<<<<<<<<<<<<
 *         self._redef()
 *         ierr = nc_rename_dim(self._grpid, dim._dimid, namstring)
 */
  __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 783; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_INCREF(__pyx_v_newname);
  PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v_newname);
  __Pyx_GIVEREF(__pyx_v_newname);
  __pyx_t_2 = PyObject_Call(((PyObject *)((PyObject*)&PyString_Type)), __pyx_t_1, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 783; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_namstring = PyString_AsString(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":784
 *         dim = self.dimensions[oldname]
 *         namstring = PyString_AsString(str(newname))
 *         self._redef()             # <<<<<<<<<<<<<<
 *         ierr = nc_rename_dim(self._grpid, dim._dimid, namstring)
 *         self._enddef()
 */
  __pyx_t_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___redef); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 784; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_1 = PyObject_Call(__pyx_t_2, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 784; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":785
 *         namstring = PyString_AsString(str(newname))
 *         self._redef()
 *         ierr = nc_rename_dim(self._grpid, dim._dimid, namstring)             # <<<<<<<<<<<<<<
 *         self._enddef()
 *         if ierr != NC_NOERR:
 */
  __pyx_t_1 = PyObject_GetAttr(__pyx_v_dim, __pyx_n_s___dimid); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 785; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_3 = __Pyx_PyInt_AsInt(__pyx_t_1); if (unlikely((__pyx_t_3 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 785; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_ierr = nc_rename_dim(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->_grpid, __pyx_t_3, __pyx_v_namstring);

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":786
 *         self._redef()
 *         ierr = nc_rename_dim(self._grpid, dim._dimid, namstring)
 *         self._enddef()             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_t_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___enddef); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 786; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyObject_Call(__pyx_t_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 786; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":787
 *         ierr = nc_rename_dim(self._grpid, dim._dimid, namstring)
 *         self._enddef()
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise RuntimeError(nc_strerror(ierr))
 *         # remove old key from dimensions dict.
 */
  __pyx_t_4 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_t_4) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":788
 *         self._enddef()
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *         # remove old key from dimensions dict.
 *         self.dimensions.pop(oldname)
 */
    __pyx_t_2 = PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 788; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(((PyObject *)__pyx_t_2));
    __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 788; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject *)__pyx_t_2));
    __Pyx_GIVEREF(((PyObject *)__pyx_t_2));
    __pyx_t_2 = 0;
    __pyx_t_2 = PyObject_Call(__pyx_builtin_RuntimeError, __pyx_t_1, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 788; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_Raise(__pyx_t_2, 0, 0);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 788; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L6;
  }
  __pyx_L6:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":790
 *             raise RuntimeError(nc_strerror(ierr))
 *         # remove old key from dimensions dict.
 *         self.dimensions.pop(oldname)             # <<<<<<<<<<<<<<
 *         # add new key.
 *         self.dimensions[newname] = dim
 */
  __pyx_t_2 = PyObject_GetAttr(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->dimensions, __pyx_n_s__pop); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 790; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 790; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_INCREF(__pyx_v_oldname);
  PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v_oldname);
  __Pyx_GIVEREF(__pyx_v_oldname);
  __pyx_t_5 = PyObject_Call(__pyx_t_2, __pyx_t_1, NULL); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 790; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":792
 *         self.dimensions.pop(oldname)
 *         # add new key.
 *         self.dimensions[newname] = dim             # <<<<<<<<<<<<<<
 *         # Variable.dimensions is determined by a method that
 *         # looks in the file, so no need to manually update.
 */
  if (PyObject_SetItem(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->dimensions, __pyx_v_newname, __pyx_v_dim) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 792; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_AddTraceback("netCDF3.Dataset.renameDimension");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_dim);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":797
 * 
 * 
 *     def createVariable(self, varname, datatype, dimensions=(), fill_value=None):             # <<<<<<<<<<<<<<
 *         """
 * createVariable(self, varname, datatype, dimensions=(), fill_value=None)
 */

static PyObject *__pyx_pf_7netCDF3_7Dataset_createVariable(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7netCDF3_7Dataset_createVariable[] = "\ncreateVariable(self, varname, datatype, dimensions=(), fill_value=None)\n\nCreates a new variable with the given C{varname}, C{datatype}, and \nC{dimensions}. If dimensions are not given, the variable is assumed to be \na scalar.\n\nThe C{datatype} can be a numpy datatype object, or a string that describes \na numpy dtype object (like the C{dtype.str} attribue of a numpy array). \nSupported specifiers include: C{'S1' or 'c' (NC_CHAR), 'i1' or 'b' or 'B' \n(NC_BYTE), 'i2' or 'h' or 's' (NC_SHORT), 'u2' \n(NC_USHORT), 'i4' or 'i' or 'l' (NC_INT), \n'f4' or 'f' (NC_FLOAT), 'f8' or 'd' (NC_DOUBLE)}.\n\nData from netCDF variables is presented to python as numpy arrays with\nthe corresponding data type. \n\nC{dimensions} must be a tuple containing dimension names (strings) that \nhave been defined previously using C{createDimension}. The default value \nis an empty tuple, which means the variable is a scalar.\n\nThe optional keyword C{fill_value} can be used to override the default \nnetCDF C{_FillValue} (the value that the variable gets filled with before \nany data is written to it).\n\nThe return value is the L{Variable} class instance describing the new \nvariable.\n\nA list of names corresponding to netCDF variable attributes can be \nobtained with the L{Variable} method C{ncattrs()}. A dictionary\ncontaining all the netCDF attribute name/value pairs is provided by\nthe C{__dict__} attribute of a L{Variable} instance.\n\nL{Variable} instances behave much like array objects. Data can be\nassigned to or retrieved from a variable with indexing and slicing\noperations on the L{Variable} instance. A L{Variable} instance has four\nstandard attributes: C{dimensions, dtype, shape, ndim}.\nApplication programs should never modify\nthese attributes. The C{dimensions} attribute is a tuple containing the\nnames of the dimensions associated with this variable. The C{dtype}\nattribute is a string describing the variable's data type (C{i4, f8,\nS1,} etc). The C{shape} attribute i""s a tuple describing the current\nsizes of all the variable's dimensions.  The C{ndim} attribute\nis the number of variable dimensions.";
static PyObject *__pyx_pf_7netCDF3_7Dataset_createVariable(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_varname = 0;
  PyObject *__pyx_v_datatype = 0;
  PyObject *__pyx_v_dimensions = 0;
  PyObject *__pyx_v_fill_value = 0;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__varname,&__pyx_n_s__datatype,&__pyx_n_s__dimensions,&__pyx_n_s__fill_value,0};
  __Pyx_RefNannySetupContext("createVariable");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[4] = {0,0,0,0};
    values[2] = ((PyObject *)__pyx_empty_tuple);
    values[3] = ((PyObject *)Py_None);
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
      case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__varname);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__datatype);
      if (likely(values[1])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("createVariable", 0, 2, 4, 1); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 797; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
      case  2:
      if (kw_args > 0) {
        PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s__dimensions);
        if (value) { values[2] = value; kw_args--; }
      }
      case  3:
      if (kw_args > 0) {
        PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s__fill_value);
        if (value) { values[3] = value; kw_args--; }
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "createVariable") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 797; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_varname = values[0];
    __pyx_v_datatype = values[1];
    __pyx_v_dimensions = values[2];
    __pyx_v_fill_value = values[3];
  } else {
    __pyx_v_dimensions = ((PyObject *)__pyx_empty_tuple);
    __pyx_v_fill_value = ((PyObject *)Py_None);
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  4:
      __pyx_v_fill_value = PyTuple_GET_ITEM(__pyx_args, 3);
      case  3:
      __pyx_v_dimensions = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2:
      __pyx_v_datatype = PyTuple_GET_ITEM(__pyx_args, 1);
      __pyx_v_varname = PyTuple_GET_ITEM(__pyx_args, 0);
      break;
      default: goto __pyx_L5_argtuple_error;
    }
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("createVariable", 0, 2, 4, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 797; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF3.Dataset.createVariable");
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":842
 * sizes of all the variable's dimensions.  The C{ndim} attribute
 * is the number of variable dimensions."""
 *         self.variables[varname] = Variable(self, varname, datatype, dimensions=dimensions, fill_value=fill_value)             # <<<<<<<<<<<<<<
 *         return self.variables[varname]
 * 
 */
  __pyx_t_1 = PyTuple_New(3); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 842; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_INCREF(__pyx_v_self);
  PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v_self);
  __Pyx_GIVEREF(__pyx_v_self);
  __Pyx_INCREF(__pyx_v_varname);
  PyTuple_SET_ITEM(__pyx_t_1, 1, __pyx_v_varname);
  __Pyx_GIVEREF(__pyx_v_varname);
  __Pyx_INCREF(__pyx_v_datatype);
  PyTuple_SET_ITEM(__pyx_t_1, 2, __pyx_v_datatype);
  __Pyx_GIVEREF(__pyx_v_datatype);
  __pyx_t_2 = PyDict_New(); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 842; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_2));
  if (PyDict_SetItem(__pyx_t_2, ((PyObject *)__pyx_n_s__dimensions), __pyx_v_dimensions) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 842; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyDict_SetItem(__pyx_t_2, ((PyObject *)__pyx_n_s__fill_value), __pyx_v_fill_value) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 842; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_t_3 = PyEval_CallObjectWithKeywords(((PyObject *)((PyObject*)__pyx_ptype_7netCDF3_Variable)), __pyx_t_1, ((PyObject *)__pyx_t_2)); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 842; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(((PyObject *)__pyx_t_2)); __pyx_t_2 = 0;
  if (PyObject_SetItem(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->variables, __pyx_v_varname, __pyx_t_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 842; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":843
 * is the number of variable dimensions."""
 *         self.variables[varname] = Variable(self, varname, datatype, dimensions=dimensions, fill_value=fill_value)
 *         return self.variables[varname]             # <<<<<<<<<<<<<<
 * 
 *     def renameVariable(self, oldname, newname):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_3 = PyObject_GetItem(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->variables, __pyx_v_varname); if (!__pyx_t_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 843; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_r = __pyx_t_3;
  __pyx_t_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("netCDF3.Dataset.createVariable");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":845
 *         return self.variables[varname]
 * 
 *     def renameVariable(self, oldname, newname):             # <<<<<<<<<<<<<<
 *         """
 * renameVariable(self, oldname, newname)
 */

static PyObject *__pyx_pf_7netCDF3_7Dataset_renameVariable(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7netCDF3_7Dataset_renameVariable[] = "\nrenameVariable(self, oldname, newname)\n\nrename a L{Variable} named C{oldname} to C{newname}";
static PyObject *__pyx_pf_7netCDF3_7Dataset_renameVariable(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_oldname = 0;
  PyObject *__pyx_v_newname = 0;
  char *__pyx_v_namstring;
  PyObject *__pyx_v_var;
  int __pyx_v_ierr;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  int __pyx_t_6;
  int __pyx_t_7;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__oldname,&__pyx_n_s__newname,0};
  __Pyx_RefNannySetupContext("renameVariable");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[2] = {0,0};
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__oldname);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__newname);
      if (likely(values[1])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("renameVariable", 1, 2, 2, 1); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 845; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "renameVariable") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 845; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_oldname = values[0];
    __pyx_v_newname = values[1];
  } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_oldname = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_newname = PyTuple_GET_ITEM(__pyx_args, 1);
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("renameVariable", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 845; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF3.Dataset.renameVariable");
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_v_var = Py_None; __Pyx_INCREF(Py_None);

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":851
 * rename a L{Variable} named C{oldname} to C{newname}"""
 *         cdef char *namstring
 *         try:             # <<<<<<<<<<<<<<
 *             var = self.variables[oldname]
 *         except:
 */
  {
    PyObject *__pyx_save_exc_type, *__pyx_save_exc_value, *__pyx_save_exc_tb;
    __Pyx_ExceptionSave(&__pyx_save_exc_type, &__pyx_save_exc_value, &__pyx_save_exc_tb);
    __Pyx_XGOTREF(__pyx_save_exc_type);
    __Pyx_XGOTREF(__pyx_save_exc_value);
    __Pyx_XGOTREF(__pyx_save_exc_tb);
    /*try:*/ {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":852
 *         cdef char *namstring
 *         try:
 *             var = self.variables[oldname]             # <<<<<<<<<<<<<<
 *         except:
 *             raise KeyError('%s not a valid variable name' % oldname)
 */
      __pyx_t_1 = PyObject_GetItem(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->variables, __pyx_v_oldname); if (!__pyx_t_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 852; __pyx_clineno = __LINE__; goto __pyx_L6_error;}
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_DECREF(__pyx_v_var);
      __pyx_v_var = __pyx_t_1;
      __pyx_t_1 = 0;
    }
    __Pyx_XDECREF(__pyx_save_exc_type); __pyx_save_exc_type = 0;
    __Pyx_XDECREF(__pyx_save_exc_value); __pyx_save_exc_value = 0;
    __Pyx_XDECREF(__pyx_save_exc_tb); __pyx_save_exc_tb = 0;
    goto __pyx_L13_try_end;
    __pyx_L6_error:;
    __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":853
 *         try:
 *             var = self.variables[oldname]
 *         except:             # <<<<<<<<<<<<<<
 *             raise KeyError('%s not a valid variable name' % oldname)
 *         namstring = PyString_AsString(str(newname))
 */
    /*except:*/ {
      __Pyx_AddTraceback("netCDF3.Dataset.renameVariable");
      if (__Pyx_GetException(&__pyx_t_1, &__pyx_t_2, &__pyx_t_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 853; __pyx_clineno = __LINE__; goto __pyx_L8_except_error;}
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_GOTREF(__pyx_t_2);
      __Pyx_GOTREF(__pyx_t_3);

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":854
 *             var = self.variables[oldname]
 *         except:
 *             raise KeyError('%s not a valid variable name' % oldname)             # <<<<<<<<<<<<<<
 *         namstring = PyString_AsString(str(newname))
 *         self._redef()
 */
      __pyx_t_4 = PyNumber_Remainder(((PyObject *)__pyx_kp_s_15), __pyx_v_oldname); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 854; __pyx_clineno = __LINE__; goto __pyx_L8_except_error;}
      __Pyx_GOTREF(((PyObject *)__pyx_t_4));
      __pyx_t_5 = PyTuple_New(1); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 854; __pyx_clineno = __LINE__; goto __pyx_L8_except_error;}
      __Pyx_GOTREF(__pyx_t_5);
      PyTuple_SET_ITEM(__pyx_t_5, 0, ((PyObject *)__pyx_t_4));
      __Pyx_GIVEREF(((PyObject *)__pyx_t_4));
      __pyx_t_4 = 0;
      __pyx_t_4 = PyObject_Call(__pyx_builtin_KeyError, __pyx_t_5, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 854; __pyx_clineno = __LINE__; goto __pyx_L8_except_error;}
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __Pyx_Raise(__pyx_t_4, 0, 0);
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 854; __pyx_clineno = __LINE__; goto __pyx_L8_except_error;}
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      goto __pyx_L7_exception_handled;
    }
    __pyx_L8_except_error:;
    __Pyx_XGIVEREF(__pyx_save_exc_type);
    __Pyx_XGIVEREF(__pyx_save_exc_value);
    __Pyx_XGIVEREF(__pyx_save_exc_tb);
    __Pyx_ExceptionReset(__pyx_save_exc_type, __pyx_save_exc_value, __pyx_save_exc_tb);
    goto __pyx_L1_error;
    __pyx_L7_exception_handled:;
    __Pyx_XGIVEREF(__pyx_save_exc_type);
    __Pyx_XGIVEREF(__pyx_save_exc_value);
    __Pyx_XGIVEREF(__pyx_save_exc_tb);
    __Pyx_ExceptionReset(__pyx_save_exc_type, __pyx_save_exc_value, __pyx_save_exc_tb);
    __pyx_L13_try_end:;
  }

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":855
 *         except:
 *             raise KeyError('%s not a valid variable name' % oldname)
 *         namstring = PyString_AsString(str(newname))             # <<<<<<<<<<<<<<
 *         self._redef()
 *         ierr = nc_rename_var(self._grpid, var._varid, namstring)
 */
  __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 855; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_INCREF(__pyx_v_newname);
  PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_v_newname);
  __Pyx_GIVEREF(__pyx_v_newname);
  __pyx_t_2 = PyObject_Call(((PyObject *)((PyObject*)&PyString_Type)), __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 855; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_v_namstring = PyString_AsString(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":856
 *             raise KeyError('%s not a valid variable name' % oldname)
 *         namstring = PyString_AsString(str(newname))
 *         self._redef()             # <<<<<<<<<<<<<<
 *         ierr = nc_rename_var(self._grpid, var._varid, namstring)
 *         self._enddef()
 */
  __pyx_t_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___redef); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 856; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = PyObject_Call(__pyx_t_2, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 856; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":857
 *         namstring = PyString_AsString(str(newname))
 *         self._redef()
 *         ierr = nc_rename_var(self._grpid, var._varid, namstring)             # <<<<<<<<<<<<<<
 *         self._enddef()
 *         if ierr != NC_NOERR:
 */
  __pyx_t_3 = PyObject_GetAttr(__pyx_v_var, __pyx_n_s___varid); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 857; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_6 = __Pyx_PyInt_AsInt(__pyx_t_3); if (unlikely((__pyx_t_6 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 857; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_v_ierr = nc_rename_var(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->_grpid, __pyx_t_6, __pyx_v_namstring);

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":858
 *         self._redef()
 *         ierr = nc_rename_var(self._grpid, var._varid, namstring)
 *         self._enddef()             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_t_3 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___enddef); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 858; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_2 = PyObject_Call(__pyx_t_3, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 858; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":859
 *         ierr = nc_rename_var(self._grpid, var._varid, namstring)
 *         self._enddef()
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise RuntimeError(nc_strerror(ierr))
 *         # remove old key from dimensions dict.
 */
  __pyx_t_7 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_t_7) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":860
 *         self._enddef()
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *         # remove old key from dimensions dict.
 *         self.variables.pop(oldname)
 */
    __pyx_t_2 = PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 860; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(((PyObject *)__pyx_t_2));
    __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 860; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    PyTuple_SET_ITEM(__pyx_t_3, 0, ((PyObject *)__pyx_t_2));
    __Pyx_GIVEREF(((PyObject *)__pyx_t_2));
    __pyx_t_2 = 0;
    __pyx_t_2 = PyObject_Call(__pyx_builtin_RuntimeError, __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 860; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_Raise(__pyx_t_2, 0, 0);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 860; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L16;
  }
  __pyx_L16:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":862
 *             raise RuntimeError(nc_strerror(ierr))
 *         # remove old key from dimensions dict.
 *         self.variables.pop(oldname)             # <<<<<<<<<<<<<<
 *         # add new key.
 *         self.variables[newname] = var
 */
  __pyx_t_2 = PyObject_GetAttr(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->variables, __pyx_n_s__pop); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 862; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 862; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_INCREF(__pyx_v_oldname);
  PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_v_oldname);
  __Pyx_GIVEREF(__pyx_v_oldname);
  __pyx_t_1 = PyObject_Call(__pyx_t_2, __pyx_t_3, NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 862; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":864
 *         self.variables.pop(oldname)
 *         # add new key.
 *         self.variables[newname] = var             # <<<<<<<<<<<<<<
 * 
 *     def ncattrs(self):
 */
  if (PyObject_SetItem(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->variables, __pyx_v_newname, __pyx_v_var) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 864; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_AddTraceback("netCDF3.Dataset.renameVariable");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_var);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":866
 *         self.variables[newname] = var
 * 
 *     def ncattrs(self):             # <<<<<<<<<<<<<<
 *         """
 * ncattrs(self)
 */

static PyObject *__pyx_pf_7netCDF3_7Dataset_ncattrs(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
static char __pyx_doc_7netCDF3_7Dataset_ncattrs[] = "\nncattrs(self)\n\nreturn netCDF global attribute names for this L{Dataset} in a list.";
static PyObject *__pyx_pf_7netCDF3_7Dataset_ncattrs(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  __Pyx_RefNannySetupContext("ncattrs");

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":871
 * 
 * return netCDF global attribute names for this L{Dataset} in a list."""
 *         return _get_att_names(self._grpid, NC_GLOBAL)             # <<<<<<<<<<<<<<
 * 
 *     def setncattr(self,name,value):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = __pyx_f_7netCDF3__get_att_names(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->_grpid, NC_GLOBAL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 871; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("netCDF3.Dataset.ncattrs");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":873
 *         return _get_att_names(self._grpid, NC_GLOBAL)
 * 
 *     def setncattr(self,name,value):             # <<<<<<<<<<<<<<
 *         """
 * setncattr(self,name,value)
 */

static PyObject *__pyx_pf_7netCDF3_7Dataset_setncattr(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7netCDF3_7Dataset_setncattr[] = "\nsetncattr(self,name,value)\n\nset a netCDF dataset attribute using name,value pair.  Only use if you need to set a\nnetCDF attribute with the same name as one of the reserved python\nattributes.";
static PyObject *__pyx_pf_7netCDF3_7Dataset_setncattr(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_name = 0;
  PyObject *__pyx_v_value = 0;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__name,&__pyx_n_s__value,0};
  __Pyx_RefNannySetupContext("setncattr");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[2] = {0,0};
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__name);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__value);
      if (likely(values[1])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("setncattr", 1, 2, 2, 1); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 873; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "setncattr") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 873; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_name = values[0];
    __pyx_v_value = values[1];
  } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_name = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_value = PyTuple_GET_ITEM(__pyx_args, 1);
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("setncattr", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 873; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF3.Dataset.setncattr");
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":880
 * netCDF attribute with the same name as one of the reserved python
 * attributes."""
 *         self._redef()             # <<<<<<<<<<<<<<
 *         _set_att(self._grpid, NC_GLOBAL, name, value)
 *         self._enddef()
 */
  __pyx_t_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___redef); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 880; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyObject_Call(__pyx_t_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 880; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":881
 * attributes."""
 *         self._redef()
 *         _set_att(self._grpid, NC_GLOBAL, name, value)             # <<<<<<<<<<<<<<
 *         self._enddef()
 * 
 */
  __pyx_t_2 = __pyx_f_7netCDF3__set_att(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->_grpid, NC_GLOBAL, __pyx_v_name, __pyx_v_value); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 881; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":882
 *         self._redef()
 *         _set_att(self._grpid, NC_GLOBAL, name, value)
 *         self._enddef()             # <<<<<<<<<<<<<<
 * 
 *     def getncattr(self,name):
 */
  __pyx_t_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___enddef); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 882; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_1 = PyObject_Call(__pyx_t_2, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 882; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_AddTraceback("netCDF3.Dataset.setncattr");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":884
 *         self._enddef()
 * 
 *     def getncattr(self,name):             # <<<<<<<<<<<<<<
 *         """
 * getncattr(self,name)
 */

static PyObject *__pyx_pf_7netCDF3_7Dataset_getncattr(PyObject *__pyx_v_self, PyObject *__pyx_v_name); /*proto*/
static char __pyx_doc_7netCDF3_7Dataset_getncattr[] = "\ngetncattr(self,name)\n\nretrievel a netCDF dataset attribute.  Only use if you need to set a\nnetCDF attribute with the same name as one of the reserved python\nattributes.";
static PyObject *__pyx_pf_7netCDF3_7Dataset_getncattr(PyObject *__pyx_v_self, PyObject *__pyx_v_name) {
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  __Pyx_RefNannySetupContext("getncattr");

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":891
 * netCDF attribute with the same name as one of the reserved python
 * attributes."""
 *         return _get_att(self._grpid, NC_GLOBAL, name)             # <<<<<<<<<<<<<<
 * 
 *     def delncattr(self, name):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = __pyx_f_7netCDF3__get_att(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->_grpid, NC_GLOBAL, __pyx_v_name); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 891; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("netCDF3.Dataset.getncattr");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":893
 *         return _get_att(self._grpid, NC_GLOBAL, name)
 * 
 *     def delncattr(self, name):             # <<<<<<<<<<<<<<
 *         """
 * delncattr(self,name,value)
 */

static PyObject *__pyx_pf_7netCDF3_7Dataset_delncattr(PyObject *__pyx_v_self, PyObject *__pyx_v_name); /*proto*/
static char __pyx_doc_7netCDF3_7Dataset_delncattr[] = "\ndelncattr(self,name,value)\n\ndelete a netCDF dataset or group attribute.  Only use if you need to delete a\nnetCDF attribute with the same name as one of the reserved python\nattributes.";
static PyObject *__pyx_pf_7netCDF3_7Dataset_delncattr(PyObject *__pyx_v_self, PyObject *__pyx_v_name) {
  char *__pyx_v_attname;
  int __pyx_v_ierr;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  int __pyx_t_3;
  __Pyx_RefNannySetupContext("delncattr");

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":901
 * attributes."""
 *         cdef char *attname
 *         attname = PyString_AsString(str(name))             # <<<<<<<<<<<<<<
 *         self._redef()
 *         ierr = nc_del_att(self._grpid, NC_GLOBAL, attname)
 */
  __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 901; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_INCREF(__pyx_v_name);
  PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v_name);
  __Pyx_GIVEREF(__pyx_v_name);
  __pyx_t_2 = PyObject_Call(((PyObject *)((PyObject*)&PyString_Type)), __pyx_t_1, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 901; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_attname = PyString_AsString(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":902
 *         cdef char *attname
 *         attname = PyString_AsString(str(name))
 *         self._redef()             # <<<<<<<<<<<<<<
 *         ierr = nc_del_att(self._grpid, NC_GLOBAL, attname)
 *         self._enddef()
 */
  __pyx_t_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___redef); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 902; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_1 = PyObject_Call(__pyx_t_2, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 902; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":903
 *         attname = PyString_AsString(str(name))
 *         self._redef()
 *         ierr = nc_del_att(self._grpid, NC_GLOBAL, attname)             # <<<<<<<<<<<<<<
 *         self._enddef()
 *         if ierr != NC_NOERR:
 */
  __pyx_v_ierr = nc_del_att(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->_grpid, NC_GLOBAL, __pyx_v_attname);

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":904
 *         self._redef()
 *         ierr = nc_del_att(self._grpid, NC_GLOBAL, attname)
 *         self._enddef()             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_t_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___enddef); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 904; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyObject_Call(__pyx_t_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 904; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":905
 *         ierr = nc_del_att(self._grpid, NC_GLOBAL, attname)
 *         self._enddef()
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise RuntimeError(nc_strerror(ierr))
 * 
 */
  __pyx_t_3 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_t_3) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":906
 *         self._enddef()
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 * 
 *     def __delattr__(self,name):
 */
    __pyx_t_2 = PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 906; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(((PyObject *)__pyx_t_2));
    __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 906; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject *)__pyx_t_2));
    __Pyx_GIVEREF(((PyObject *)__pyx_t_2));
    __pyx_t_2 = 0;
    __pyx_t_2 = PyObject_Call(__pyx_builtin_RuntimeError, __pyx_t_1, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 906; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_Raise(__pyx_t_2, 0, 0);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 906; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L5;
  }
  __pyx_L5:;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_AddTraceback("netCDF3.Dataset.delncattr");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":908
 *             raise RuntimeError(nc_strerror(ierr))
 * 
 *     def __delattr__(self,name):             # <<<<<<<<<<<<<<
 *         # if it's a netCDF attribute, remove it
 *         if name not in _private_atts:
 */

static int __pyx_pf_7netCDF3_7Dataset___delattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name); /*proto*/
static int __pyx_pf_7netCDF3_7Dataset___delattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name) {
  int __pyx_r;
  PyObject *__pyx_t_1 = NULL;
  int __pyx_t_2;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  __Pyx_RefNannySetupContext("__delattr__");

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":910
 *     def __delattr__(self,name):
 *         # if it's a netCDF attribute, remove it
 *         if name not in _private_atts:             # <<<<<<<<<<<<<<
 *             self.delncattr(name)
 *         else:
 */
  __pyx_t_1 = __Pyx_GetName(__pyx_m, __pyx_n_s___private_atts); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 910; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = (__Pyx_NegateNonNeg(PySequence_Contains(__pyx_t_1, __pyx_v_name))); if (unlikely(__pyx_t_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 910; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  if (__pyx_t_2) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":911
 *         # if it's a netCDF attribute, remove it
 *         if name not in _private_atts:
 *             self.delncattr(name)             # <<<<<<<<<<<<<<
 *         else:
 *             raise AttributeError(
 */
    __pyx_t_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s__delncattr); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 911; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 911; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_INCREF(__pyx_v_name);
    PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_v_name);
    __Pyx_GIVEREF(__pyx_v_name);
    __pyx_t_4 = PyObject_Call(__pyx_t_1, __pyx_t_3, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 911; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    goto __pyx_L5;
  }
  /*else*/ {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":914
 *         else:
 *             raise AttributeError(
 *             "'%s' is one of the reserved attributes %s, cannot delete. Use delncattr instead." % (name, tuple(_private_atts)))             # <<<<<<<<<<<<<<
 * 
 *     def __setattr__(self,name,value):
 */
    __pyx_t_4 = __Pyx_GetName(__pyx_m, __pyx_n_s___private_atts); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 914; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 914; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_4);
    __Pyx_GIVEREF(__pyx_t_4);
    __pyx_t_4 = 0;
    __pyx_t_4 = PyObject_Call(((PyObject *)((PyObject*)&PyTuple_Type)), __pyx_t_3, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 914; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 914; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_INCREF(__pyx_v_name);
    PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_v_name);
    __Pyx_GIVEREF(__pyx_v_name);
    PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_t_4);
    __Pyx_GIVEREF(__pyx_t_4);
    __pyx_t_4 = 0;
    __pyx_t_4 = PyNumber_Remainder(((PyObject *)__pyx_kp_s_16), __pyx_t_3); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 914; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(((PyObject *)__pyx_t_4));
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 913; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    PyTuple_SET_ITEM(__pyx_t_3, 0, ((PyObject *)__pyx_t_4));
    __Pyx_GIVEREF(((PyObject *)__pyx_t_4));
    __pyx_t_4 = 0;
    __pyx_t_4 = PyObject_Call(__pyx_builtin_AttributeError, __pyx_t_3, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 913; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_Raise(__pyx_t_4, 0, 0);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 913; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  __pyx_L5:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("netCDF3.Dataset.__delattr__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":916
 *             "'%s' is one of the reserved attributes %s, cannot delete. Use delncattr instead." % (name, tuple(_private_atts)))
 * 
 *     def __setattr__(self,name,value):             # <<<<<<<<<<<<<<
 *         # if name in _private_atts, it is stored at the python
 *         # level and not in the netCDF file.
 */

static int __pyx_pf_7netCDF3_7Dataset___setattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name, PyObject *__pyx_v_value); /*proto*/
static int __pyx_pf_7netCDF3_7Dataset___setattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name, PyObject *__pyx_v_value) {
  int __pyx_r;
  PyObject *__pyx_t_1 = NULL;
  int __pyx_t_2;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  int __pyx_t_5;
  __Pyx_RefNannySetupContext("__setattr__");

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":919
 *         # if name in _private_atts, it is stored at the python
 *         # level and not in the netCDF file.
 *         if name not in _private_atts:             # <<<<<<<<<<<<<<
 *             self.setncattr(name, value)
 *         elif not name.endswith('__'):
 */
  __pyx_t_1 = __Pyx_GetName(__pyx_m, __pyx_n_s___private_atts); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 919; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = (__Pyx_NegateNonNeg(PySequence_Contains(__pyx_t_1, __pyx_v_name))); if (unlikely(__pyx_t_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 919; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  if (__pyx_t_2) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":920
 *         # level and not in the netCDF file.
 *         if name not in _private_atts:
 *             self.setncattr(name, value)             # <<<<<<<<<<<<<<
 *         elif not name.endswith('__'):
 *             if hasattr(self,name):
 */
    __pyx_t_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s__setncattr); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 920; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 920; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_INCREF(__pyx_v_name);
    PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_v_name);
    __Pyx_GIVEREF(__pyx_v_name);
    __Pyx_INCREF(__pyx_v_value);
    PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_v_value);
    __Pyx_GIVEREF(__pyx_v_value);
    __pyx_t_4 = PyObject_Call(__pyx_t_1, __pyx_t_3, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 920; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    goto __pyx_L5;
  }

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":921
 *         if name not in _private_atts:
 *             self.setncattr(name, value)
 *         elif not name.endswith('__'):             # <<<<<<<<<<<<<<
 *             if hasattr(self,name):
 *                 raise AttributeError(
 */
  __pyx_t_4 = PyObject_GetAttr(__pyx_v_name, __pyx_n_s__endswith); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 921; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 921; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_INCREF(((PyObject *)__pyx_n_s____));
  PyTuple_SET_ITEM(__pyx_t_3, 0, ((PyObject *)__pyx_n_s____));
  __Pyx_GIVEREF(((PyObject *)__pyx_n_s____));
  __pyx_t_1 = PyObject_Call(__pyx_t_4, __pyx_t_3, NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 921; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 921; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_5 = (!__pyx_t_2);
  if (__pyx_t_5) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":922
 *             self.setncattr(name, value)
 *         elif not name.endswith('__'):
 *             if hasattr(self,name):             # <<<<<<<<<<<<<<
 *                 raise AttributeError(
 *             "'%s' is one of the reserved attributes %s, cannot rebind. Use setncattr instead." % (name, tuple(_private_atts)))
 */
    __pyx_t_5 = PyObject_HasAttr(__pyx_v_self, __pyx_v_name); if (unlikely(__pyx_t_5 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 922; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (__pyx_t_5) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":924
 *             if hasattr(self,name):
 *                 raise AttributeError(
 *             "'%s' is one of the reserved attributes %s, cannot rebind. Use setncattr instead." % (name, tuple(_private_atts)))             # <<<<<<<<<<<<<<
 *             else:
 *                 self.__dict__[name]=value
 */
      __pyx_t_1 = __Pyx_GetName(__pyx_m, __pyx_n_s___private_atts); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 924; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 924; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_1);
      __Pyx_GIVEREF(__pyx_t_1);
      __pyx_t_1 = 0;
      __pyx_t_1 = PyObject_Call(((PyObject *)((PyObject*)&PyTuple_Type)), __pyx_t_3, NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 924; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 924; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_INCREF(__pyx_v_name);
      PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_v_name);
      __Pyx_GIVEREF(__pyx_v_name);
      PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_t_1);
      __Pyx_GIVEREF(__pyx_t_1);
      __pyx_t_1 = 0;
      __pyx_t_1 = PyNumber_Remainder(((PyObject *)__pyx_kp_s_17), __pyx_t_3); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 924; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(((PyObject *)__pyx_t_1));
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 923; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      PyTuple_SET_ITEM(__pyx_t_3, 0, ((PyObject *)__pyx_t_1));
      __Pyx_GIVEREF(((PyObject *)__pyx_t_1));
      __pyx_t_1 = 0;
      __pyx_t_1 = PyObject_Call(__pyx_builtin_AttributeError, __pyx_t_3, NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 923; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_Raise(__pyx_t_1, 0, 0);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 923; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L6;
    }
    /*else*/ {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":926
 *             "'%s' is one of the reserved attributes %s, cannot rebind. Use setncattr instead." % (name, tuple(_private_atts)))
 *             else:
 *                 self.__dict__[name]=value             # <<<<<<<<<<<<<<
 * 
 *     def __getattr__(self,name):
 */
      __pyx_t_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s____dict__); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 926; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      if (PyObject_SetItem(__pyx_t_1, __pyx_v_name, __pyx_v_value) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 926; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    }
    __pyx_L6:;
    goto __pyx_L5;
  }
  __pyx_L5:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("netCDF3.Dataset.__setattr__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":928
 *                 self.__dict__[name]=value
 * 
 *     def __getattr__(self,name):             # <<<<<<<<<<<<<<
 *         # if name in _private_atts, it is stored at the python
 *         # level and not in the netCDF file.
 */

static PyObject *__pyx_pf_7netCDF3_7Dataset___getattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name); /*proto*/
static PyObject *__pyx_pf_7netCDF3_7Dataset___getattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name) {
  PyObject *__pyx_v_names;
  PyObject *__pyx_v_values;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  int __pyx_t_4;
  int __pyx_t_5;
  int __pyx_t_6;
  Py_ssize_t __pyx_t_7;
  int __pyx_t_8;
  __Pyx_RefNannySetupContext("__getattr__");
  __Pyx_INCREF(__pyx_v_name);
  __pyx_v_names = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_values = ((PyObject *)Py_None); __Pyx_INCREF(Py_None);

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":931
 *         # if name in _private_atts, it is stored at the python
 *         # level and not in the netCDF file.
 *         if name.startswith('__') and name.endswith('__'):             # <<<<<<<<<<<<<<
 *             # if __dict__ requested, return a dict with netCDF attributes.
 *             if name == '__dict__':
 */
  __pyx_t_1 = PyObject_GetAttr(__pyx_v_name, __pyx_n_s__startswith); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 931; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 931; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_INCREF(((PyObject *)__pyx_n_s____));
  PyTuple_SET_ITEM(__pyx_t_2, 0, ((PyObject *)__pyx_n_s____));
  __Pyx_GIVEREF(((PyObject *)__pyx_n_s____));
  __pyx_t_3 = PyObject_Call(__pyx_t_1, __pyx_t_2, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 931; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 931; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  if (__pyx_t_4) {
    __pyx_t_3 = PyObject_GetAttr(__pyx_v_name, __pyx_n_s__endswith); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 931; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 931; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_INCREF(((PyObject *)__pyx_n_s____));
    PyTuple_SET_ITEM(__pyx_t_2, 0, ((PyObject *)__pyx_n_s____));
    __Pyx_GIVEREF(((PyObject *)__pyx_n_s____));
    __pyx_t_1 = PyObject_Call(__pyx_t_3, __pyx_t_2, NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 931; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_5 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_5 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 931; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_6 = __pyx_t_5;
  } else {
    __pyx_t_6 = __pyx_t_4;
  }
  if (__pyx_t_6) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":933
 *         if name.startswith('__') and name.endswith('__'):
 *             # if __dict__ requested, return a dict with netCDF attributes.
 *             if name == '__dict__':             # <<<<<<<<<<<<<<
 *                 names = self.ncattrs()
 *                 values = []
 */
    __pyx_t_1 = PyObject_RichCompare(__pyx_v_name, ((PyObject *)__pyx_n_s____dict__), Py_EQ); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 933; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_6 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 933; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    if (__pyx_t_6) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":934
 *             # if __dict__ requested, return a dict with netCDF attributes.
 *             if name == '__dict__':
 *                 names = self.ncattrs()             # <<<<<<<<<<<<<<
 *                 values = []
 *                 for name in names:
 */
      __pyx_t_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s__ncattrs); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 934; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      __pyx_t_2 = PyObject_Call(__pyx_t_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 934; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_2);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __Pyx_DECREF(__pyx_v_names);
      __pyx_v_names = __pyx_t_2;
      __pyx_t_2 = 0;

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":935
 *             if name == '__dict__':
 *                 names = self.ncattrs()
 *                 values = []             # <<<<<<<<<<<<<<
 *                 for name in names:
 *                     values.append(_get_att(self._grpid, NC_GLOBAL, name))
 */
      __pyx_t_2 = PyList_New(0); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 935; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(((PyObject *)__pyx_t_2));
      __Pyx_DECREF(((PyObject *)__pyx_v_values));
      __pyx_v_values = __pyx_t_2;
      __pyx_t_2 = 0;

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":936
 *                 names = self.ncattrs()
 *                 values = []
 *                 for name in names:             # <<<<<<<<<<<<<<
 *                     values.append(_get_att(self._grpid, NC_GLOBAL, name))
 *                 return OrderedDict(zip(names,values))
 */
      if (PyList_CheckExact(__pyx_v_names) || PyTuple_CheckExact(__pyx_v_names)) {
        __pyx_t_7 = 0; __pyx_t_2 = __pyx_v_names; __Pyx_INCREF(__pyx_t_2);
      } else {
        __pyx_t_7 = -1; __pyx_t_2 = PyObject_GetIter(__pyx_v_names); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 936; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_2);
      }
      for (;;) {
        if (likely(PyList_CheckExact(__pyx_t_2))) {
          if (__pyx_t_7 >= PyList_GET_SIZE(__pyx_t_2)) break;
          __pyx_t_1 = PyList_GET_ITEM(__pyx_t_2, __pyx_t_7); __Pyx_INCREF(__pyx_t_1); __pyx_t_7++;
        } else if (likely(PyTuple_CheckExact(__pyx_t_2))) {
          if (__pyx_t_7 >= PyTuple_GET_SIZE(__pyx_t_2)) break;
          __pyx_t_1 = PyTuple_GET_ITEM(__pyx_t_2, __pyx_t_7); __Pyx_INCREF(__pyx_t_1); __pyx_t_7++;
        } else {
          __pyx_t_1 = PyIter_Next(__pyx_t_2);
          if (!__pyx_t_1) {
            if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 936; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            break;
          }
          __Pyx_GOTREF(__pyx_t_1);
        }
        __Pyx_DECREF(__pyx_v_name);
        __pyx_v_name = __pyx_t_1;
        __pyx_t_1 = 0;

        /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":937
 *                 values = []
 *                 for name in names:
 *                     values.append(_get_att(self._grpid, NC_GLOBAL, name))             # <<<<<<<<<<<<<<
 *                 return OrderedDict(zip(names,values))
 *             else:
 */
        if (unlikely(__pyx_v_values == Py_None)) {
          PyErr_SetString(PyExc_AttributeError, "'NoneType' object has no attribute 'append'"); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 937; __pyx_clineno = __LINE__; goto __pyx_L1_error;} 
        }
        __pyx_t_1 = __pyx_f_7netCDF3__get_att(((struct __pyx_obj_7netCDF3_Dataset *)__pyx_v_self)->_grpid, NC_GLOBAL, __pyx_v_name); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 937; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_1);
        __pyx_t_8 = PyList_Append(((PyObject *)__pyx_v_values), __pyx_t_1); if (unlikely(__pyx_t_8 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 937; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      }
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":938
 *                 for name in names:
 *                     values.append(_get_att(self._grpid, NC_GLOBAL, name))
 *                 return OrderedDict(zip(names,values))             # <<<<<<<<<<<<<<
 *             else:
 *                 raise AttributeError
 */
      __Pyx_XDECREF(__pyx_r);
      __pyx_t_2 = __Pyx_GetName(__pyx_m, __pyx_n_s__OrderedDict); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 938; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_2);
      __pyx_t_1 = PyTuple_New(2); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 938; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_INCREF(__pyx_v_names);
      PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v_names);
      __Pyx_GIVEREF(__pyx_v_names);
      __Pyx_INCREF(((PyObject *)__pyx_v_values));
      PyTuple_SET_ITEM(__pyx_t_1, 1, ((PyObject *)__pyx_v_values));
      __Pyx_GIVEREF(((PyObject *)__pyx_v_values));
      __pyx_t_3 = PyObject_Call(__pyx_builtin_zip, __pyx_t_1, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 938; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 938; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_t_3);
      __Pyx_GIVEREF(__pyx_t_3);
      __pyx_t_3 = 0;
      __pyx_t_3 = PyObject_Call(__pyx_t_2, __pyx_t_1, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 938; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_r = __pyx_t_3;
      __pyx_t_3 = 0;
      goto __pyx_L0;
      goto __pyx_L6;
    }
    /*else*/ {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":940
 *                 return OrderedDict(zip(names,values))
 *             else:
 *                 raise AttributeError             # <<<<<<<<<<<<<<
 *         elif name in _private_atts:
 *             return self.__dict__[name]
 */
      __Pyx_Raise(__pyx_builtin_AttributeError, 0, 0);
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 940; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    }
    __pyx_L6:;
    goto __pyx_L5;
  }

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":941
 *             else:
 *                 raise AttributeError
 *         elif name in _private_atts:             # <<<<<<<<<<<<<<
 *             return self.__dict__[name]
 *         else:
 */
  __pyx_t_3 = __Pyx_GetName(__pyx_m, __pyx_n_s___private_atts); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 941; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_6 = ((PySequence_Contains(__pyx_t_3, __pyx_v_name))); if (unlikely(__pyx_t_6 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 941; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  if (__pyx_t_6) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":942
 *                 raise AttributeError
 *         elif name in _private_atts:
 *             return self.__dict__[name]             # <<<<<<<<<<<<<<
 *         else:
 *             return self.getncattr(name)
 */
    __Pyx_XDECREF(__pyx_r);
    __pyx_t_3 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s____dict__); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 942; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_1 = PyObject_GetItem(__pyx_t_3, __pyx_v_name); if (!__pyx_t_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 942; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_r = __pyx_t_1;
    __pyx_t_1 = 0;
    goto __pyx_L0;
    goto __pyx_L5;
  }
  /*else*/ {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":944
 *             return self.__dict__[name]
 *         else:
 *             return self.getncattr(name)             # <<<<<<<<<<<<<<
 * 
 * cdef class Dimension:
 */
    __Pyx_XDECREF(__pyx_r);
    __pyx_t_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s__getncattr); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 944; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 944; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_INCREF(__pyx_v_name);
    PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_v_name);
    __Pyx_GIVEREF(__pyx_v_name);
    __pyx_t_2 = PyObject_Call(__pyx_t_1, __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 944; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_r = __pyx_t_2;
    __pyx_t_2 = 0;
    goto __pyx_L0;
  }
  __pyx_L5:;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("netCDF3.Dataset.__getattr__");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_names);
  __Pyx_DECREF(__pyx_v_values);
  __Pyx_DECREF(__pyx_v_name);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":975
 * C{isunlimited()} method of a L{Dimension} instance can be used to
 * determine if the dimension is unlimited"""
 *     cdef public int _dimid, _grpid             # <<<<<<<<<<<<<<
 *     cdef public _file_format
 * 
 */

static PyObject *__pyx_pf_7netCDF3_9Dimension_6_dimid___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_7netCDF3_9Dimension_6_dimid___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  __Pyx_RefNannySetupContext("__get__");
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = PyInt_FromLong(((struct __pyx_obj_7netCDF3_Dimension *)__pyx_v_self)->_dimid); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 975; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("netCDF3.Dimension._dimid.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static int __pyx_pf_7netCDF3_9Dimension_6_dimid___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value); /*proto*/
static int __pyx_pf_7netCDF3_9Dimension_6_dimid___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value) {
  int __pyx_r;
  int __pyx_t_1;
  __Pyx_RefNannySetupContext("__set__");
  __pyx_t_1 = __Pyx_PyInt_AsInt(__pyx_v_value); if (unlikely((__pyx_t_1 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 975; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  ((struct __pyx_obj_7netCDF3_Dimension *)__pyx_v_self)->_dimid = __pyx_t_1;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_AddTraceback("netCDF3.Dimension._dimid.__set__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_7netCDF3_9Dimension_6_grpid___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_7netCDF3_9Dimension_6_grpid___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  __Pyx_RefNannySetupContext("__get__");
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = PyInt_FromLong(((struct __pyx_obj_7netCDF3_Dimension *)__pyx_v_self)->_grpid); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 975; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("netCDF3.Dimension._grpid.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static int __pyx_pf_7netCDF3_9Dimension_6_grpid___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value); /*proto*/
static int __pyx_pf_7netCDF3_9Dimension_6_grpid___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value) {
  int __pyx_r;
  int __pyx_t_1;
  __Pyx_RefNannySetupContext("__set__");
  __pyx_t_1 = __Pyx_PyInt_AsInt(__pyx_v_value); if (unlikely((__pyx_t_1 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 975; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  ((struct __pyx_obj_7netCDF3_Dimension *)__pyx_v_self)->_grpid = __pyx_t_1;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_AddTraceback("netCDF3.Dimension._grpid.__set__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":976
 * determine if the dimension is unlimited"""
 *     cdef public int _dimid, _grpid
 *     cdef public _file_format             # <<<<<<<<<<<<<<
 * 
 *     def __init__(self, grp, name, size=None, **kwargs):
 */

static PyObject *__pyx_pf_7netCDF3_9Dimension_12_file_format___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_7netCDF3_9Dimension_12_file_format___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannySetupContext("__get__");
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(((struct __pyx_obj_7netCDF3_Dimension *)__pyx_v_self)->_file_format);
  __pyx_r = ((struct __pyx_obj_7netCDF3_Dimension *)__pyx_v_self)->_file_format;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static int __pyx_pf_7netCDF3_9Dimension_12_file_format___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value); /*proto*/
static int __pyx_pf_7netCDF3_9Dimension_12_file_format___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value) {
  int __pyx_r;
  __Pyx_RefNannySetupContext("__set__");
  __Pyx_INCREF(__pyx_v_value);
  __Pyx_GIVEREF(__pyx_v_value);
  __Pyx_GOTREF(((struct __pyx_obj_7netCDF3_Dimension *)__pyx_v_self)->_file_format);
  __Pyx_DECREF(((struct __pyx_obj_7netCDF3_Dimension *)__pyx_v_self)->_file_format);
  ((struct __pyx_obj_7netCDF3_Dimension *)__pyx_v_self)->_file_format = __pyx_v_value;

  __pyx_r = 0;
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static int __pyx_pf_7netCDF3_9Dimension_12_file_format___del__(PyObject *__pyx_v_self); /*proto*/
static int __pyx_pf_7netCDF3_9Dimension_12_file_format___del__(PyObject *__pyx_v_self) {
  int __pyx_r;
  __Pyx_RefNannySetupContext("__del__");
  __Pyx_INCREF(Py_None);
  __Pyx_GIVEREF(Py_None);
  __Pyx_GOTREF(((struct __pyx_obj_7netCDF3_Dimension *)__pyx_v_self)->_file_format);
  __Pyx_DECREF(((struct __pyx_obj_7netCDF3_Dimension *)__pyx_v_self)->_file_format);
  ((struct __pyx_obj_7netCDF3_Dimension *)__pyx_v_self)->_file_format = Py_None;

  __pyx_r = 0;
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":978
 *     cdef public _file_format
 * 
 *     def __init__(self, grp, name, size=None, **kwargs):             # <<<<<<<<<<<<<<
 *         cdef int ierr
 *         cdef char *dimname
 */

static int __pyx_pf_7netCDF3_9Dimension___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_7netCDF3_9Dimension___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_grp = 0;
  PyObject *__pyx_v_name = 0;
  PyObject *__pyx_v_size = 0;
  PyObject *__pyx_v_kwargs = 0;
  int __pyx_v_ierr;
  char *__pyx_v_dimname;
  size_t __pyx_v_lendim;
  int __pyx_r;
  PyObject *__pyx_t_1 = NULL;
  int __pyx_t_2;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  int __pyx_t_5;
  size_t __pyx_t_6;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__grp,&__pyx_n_s__name,&__pyx_n_s__size,0};
  __Pyx_RefNannySetupContext("__init__");
  __pyx_v_kwargs = PyDict_New(); if (unlikely(!__pyx_v_kwargs)) return -1;
  __Pyx_GOTREF(__pyx_v_kwargs);
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[3] = {0,0,0};
    values[2] = ((PyObject *)Py_None);
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__grp);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__name);
      if (likely(values[1])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("__init__", 0, 2, 3, 1); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 978; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
      case  2:
      if (kw_args > 0) {
        PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s__size);
        if (value) { values[2] = value; kw_args--; }
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kwargs, values, PyTuple_GET_SIZE(__pyx_args), "__init__") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 978; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_grp = values[0];
    __pyx_v_name = values[1];
    __pyx_v_size = values[2];
  } else {
    __pyx_v_size = ((PyObject *)Py_None);
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  3:
      __pyx_v_size = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2:
      __pyx_v_name = PyTuple_GET_ITEM(__pyx_args, 1);
      __pyx_v_grp = PyTuple_GET_ITEM(__pyx_args, 0);
      break;
      default: goto __pyx_L5_argtuple_error;
    }
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("__init__", 0, 2, 3, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 978; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_DECREF(__pyx_v_kwargs);
  __Pyx_AddTraceback("netCDF3.Dimension.__init__");
  __Pyx_RefNannyFinishContext();
  return -1;
  __pyx_L4_argument_unpacking_done:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":982
 *         cdef char *dimname
 *         cdef size_t lendim
 *         self._grpid = grp._grpid             # <<<<<<<<<<<<<<
 *         self._file_format = grp.file_format
 *         if kwargs.has_key('id'):
 */
  __pyx_t_1 = PyObject_GetAttr(__pyx_v_grp, __pyx_n_s___grpid); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 982; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = __Pyx_PyInt_AsInt(__pyx_t_1); if (unlikely((__pyx_t_2 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 982; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  ((struct __pyx_obj_7netCDF3_Dimension *)__pyx_v_self)->_grpid = __pyx_t_2;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":983
 *         cdef size_t lendim
 *         self._grpid = grp._grpid
 *         self._file_format = grp.file_format             # <<<<<<<<<<<<<<
 *         if kwargs.has_key('id'):
 *             self._dimid = kwargs['id']
 */
  __pyx_t_1 = PyObject_GetAttr(__pyx_v_grp, __pyx_n_s__file_format); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 983; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_GIVEREF(__pyx_t_1);
  __Pyx_GOTREF(((struct __pyx_obj_7netCDF3_Dimension *)__pyx_v_self)->_file_format);
  __Pyx_DECREF(((struct __pyx_obj_7netCDF3_Dimension *)__pyx_v_self)->_file_format);
  ((struct __pyx_obj_7netCDF3_Dimension *)__pyx_v_self)->_file_format = __pyx_t_1;
  __pyx_t_1 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":984
 *         self._grpid = grp._grpid
 *         self._file_format = grp.file_format
 *         if kwargs.has_key('id'):             # <<<<<<<<<<<<<<
 *             self._dimid = kwargs['id']
 *         else:
 */
  __pyx_t_1 = PyObject_GetAttr(((PyObject *)__pyx_v_kwargs), __pyx_n_s__has_key); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 984; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 984; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_INCREF(((PyObject *)__pyx_n_s__id));
  PyTuple_SET_ITEM(__pyx_t_3, 0, ((PyObject *)__pyx_n_s__id));
  __Pyx_GIVEREF(((PyObject *)__pyx_n_s__id));
  __pyx_t_4 = PyObject_Call(__pyx_t_1, __pyx_t_3, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 984; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_5 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely(__pyx_t_5 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 984; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  if (__pyx_t_5) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":985
 *         self._file_format = grp.file_format
 *         if kwargs.has_key('id'):
 *             self._dimid = kwargs['id']             # <<<<<<<<<<<<<<
 *         else:
 *             dimname = PyString_AsString(str(name))
 */
    __pyx_t_4 = __Pyx_PyDict_GetItem(((PyObject *)__pyx_v_kwargs), ((PyObject *)__pyx_n_s__id)); if (!__pyx_t_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 985; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_2 = __Pyx_PyInt_AsInt(__pyx_t_4); if (unlikely((__pyx_t_2 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 985; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    ((struct __pyx_obj_7netCDF3_Dimension *)__pyx_v_self)->_dimid = __pyx_t_2;
    goto __pyx_L6;
  }
  /*else*/ {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":987
 *             self._dimid = kwargs['id']
 *         else:
 *             dimname = PyString_AsString(str(name))             # <<<<<<<<<<<<<<
 *             if size is not None:
 *                 lendim = size
 */
    __pyx_t_4 = PyTuple_New(1); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 987; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_INCREF(__pyx_v_name);
    PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_v_name);
    __Pyx_GIVEREF(__pyx_v_name);
    __pyx_t_3 = PyObject_Call(((PyObject *)((PyObject*)&PyString_Type)), __pyx_t_4, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 987; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_v_dimname = PyString_AsString(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":988
 *         else:
 *             dimname = PyString_AsString(str(name))
 *             if size is not None:             # <<<<<<<<<<<<<<
 *                 lendim = size
 *             else:
 */
    __pyx_t_5 = (__pyx_v_size != Py_None);
    if (__pyx_t_5) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":989
 *             dimname = PyString_AsString(str(name))
 *             if size is not None:
 *                 lendim = size             # <<<<<<<<<<<<<<
 *             else:
 *                 lendim = NC_UNLIMITED
 */
      __pyx_t_6 = __Pyx_PyInt_AsSize_t(__pyx_v_size); if (unlikely((__pyx_t_6 == (size_t)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 989; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_v_lendim = __pyx_t_6;
      goto __pyx_L7;
    }
    /*else*/ {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":991
 *                 lendim = size
 *             else:
 *                 lendim = NC_UNLIMITED             # <<<<<<<<<<<<<<
 *             grp._redef()
 *             ierr = nc_def_dim(self._grpid, dimname, lendim, &self._dimid)
 */
      __pyx_v_lendim = NC_UNLIMITED;
    }
    __pyx_L7:;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":992
 *             else:
 *                 lendim = NC_UNLIMITED
 *             grp._redef()             # <<<<<<<<<<<<<<
 *             ierr = nc_def_dim(self._grpid, dimname, lendim, &self._dimid)
 *             grp._enddef()
 */
    __pyx_t_3 = PyObject_GetAttr(__pyx_v_grp, __pyx_n_s___redef); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 992; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_4 = PyObject_Call(__pyx_t_3, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 992; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":993
 *                 lendim = NC_UNLIMITED
 *             grp._redef()
 *             ierr = nc_def_dim(self._grpid, dimname, lendim, &self._dimid)             # <<<<<<<<<<<<<<
 *             grp._enddef()
 *             if ierr != NC_NOERR:
 */
    __pyx_v_ierr = nc_def_dim(((struct __pyx_obj_7netCDF3_Dimension *)__pyx_v_self)->_grpid, __pyx_v_dimname, __pyx_v_lendim, (&((struct __pyx_obj_7netCDF3_Dimension *)__pyx_v_self)->_dimid));

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":994
 *             grp._redef()
 *             ierr = nc_def_dim(self._grpid, dimname, lendim, &self._dimid)
 *             grp._enddef()             # <<<<<<<<<<<<<<
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))
 */
    __pyx_t_4 = PyObject_GetAttr(__pyx_v_grp, __pyx_n_s___enddef); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 994; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_3 = PyObject_Call(__pyx_t_4, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 994; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":995
 *             ierr = nc_def_dim(self._grpid, dimname, lendim, &self._dimid)
 *             grp._enddef()
 *             if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *                 raise RuntimeError(nc_strerror(ierr))
 * 
 */
    __pyx_t_5 = (__pyx_v_ierr != NC_NOERR);
    if (__pyx_t_5) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":996
 *             grp._enddef()
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 * 
 *     def __len__(self):
 */
      __pyx_t_3 = PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 996; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(((PyObject *)__pyx_t_3));
      __pyx_t_4 = PyTuple_New(1); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 996; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      PyTuple_SET_ITEM(__pyx_t_4, 0, ((PyObject *)__pyx_t_3));
      __Pyx_GIVEREF(((PyObject *)__pyx_t_3));
      __pyx_t_3 = 0;
      __pyx_t_3 = PyObject_Call(__pyx_builtin_RuntimeError, __pyx_t_4, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 996; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __Pyx_Raise(__pyx_t_3, 0, 0);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 996; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L8;
    }
    __pyx_L8:;
  }
  __pyx_L6:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("netCDF3.Dimension.__init__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_kwargs);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":998
 *                 raise RuntimeError(nc_strerror(ierr))
 * 
 *     def __len__(self):             # <<<<<<<<<<<<<<
 *         # len(L{Dimension} instance) returns current size of dimension
 *         cdef int ierr
 */

static Py_ssize_t __pyx_pf_7netCDF3_9Dimension___len__(PyObject *__pyx_v_self); /*proto*/
static Py_ssize_t __pyx_pf_7netCDF3_9Dimension___len__(PyObject *__pyx_v_self) {
  int __pyx_v_ierr;
  size_t __pyx_v_lengthp;
  Py_ssize_t __pyx_r;
  int __pyx_t_1;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  __Pyx_RefNannySetupContext("__len__");

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1002
 *         cdef int ierr
 *         cdef size_t lengthp
 *         ierr = nc_inq_dimlen(self._grpid, self._dimid, &lengthp)             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_v_ierr = nc_inq_dimlen(((struct __pyx_obj_7netCDF3_Dimension *)__pyx_v_self)->_grpid, ((struct __pyx_obj_7netCDF3_Dimension *)__pyx_v_self)->_dimid, (&__pyx_v_lengthp));

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1003
 *         cdef size_t lengthp
 *         ierr = nc_inq_dimlen(self._grpid, self._dimid, &lengthp)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise RuntimeError(nc_strerror(ierr))
 *         return lengthp
 */
  __pyx_t_1 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_t_1) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1004
 *         ierr = nc_inq_dimlen(self._grpid, self._dimid, &lengthp)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *         return lengthp
 * 
 */
    __pyx_t_2 = PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1004; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(((PyObject *)__pyx_t_2));
    __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1004; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    PyTuple_SET_ITEM(__pyx_t_3, 0, ((PyObject *)__pyx_t_2));
    __Pyx_GIVEREF(((PyObject *)__pyx_t_2));
    __pyx_t_2 = 0;
    __pyx_t_2 = PyObject_Call(__pyx_builtin_RuntimeError, __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1004; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_Raise(__pyx_t_2, 0, 0);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1004; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L5;
  }
  __pyx_L5:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1005
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 *         return lengthp             # <<<<<<<<<<<<<<
 * 
 *     def isunlimited(self):
 */
  __pyx_r = __pyx_v_lengthp;
  goto __pyx_L0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("netCDF3.Dimension.__len__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1007
 *         return lengthp
 * 
 *     def isunlimited(self):             # <<<<<<<<<<<<<<
 *         """
 * isunlimited(self)
 */

static PyObject *__pyx_pf_7netCDF3_9Dimension_isunlimited(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
static char __pyx_doc_7netCDF3_9Dimension_isunlimited[] = "\nisunlimited(self)\n\nreturns C{True} if the L{Dimension} instance is unlimited, C{False} otherwise.";
static PyObject *__pyx_pf_7netCDF3_9Dimension_isunlimited(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
  int __pyx_v_ierr;
  int __pyx_v_ndims;
  int __pyx_v_nvars;
  int __pyx_v_ngatts;
  int __pyx_v_xdimid;
  PyObject *__pyx_r = NULL;
  int __pyx_t_1;
  PyObject *__pyx_t_2 = NULL;
  __Pyx_RefNannySetupContext("isunlimited");

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1014
 *         cdef int ierr, n, numunlimdims, ndims, nvars, ngatts, xdimid
 *         cdef int unlimdimids[NC_MAX_DIMS]
 *         ierr = nc_inq(self._grpid, &ndims, &nvars, &ngatts, &xdimid)             # <<<<<<<<<<<<<<
 *         if self._dimid == xdimid:
 *             return True
 */
  __pyx_v_ierr = nc_inq(((struct __pyx_obj_7netCDF3_Dimension *)__pyx_v_self)->_grpid, (&__pyx_v_ndims), (&__pyx_v_nvars), (&__pyx_v_ngatts), (&__pyx_v_xdimid));

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1015
 *         cdef int unlimdimids[NC_MAX_DIMS]
 *         ierr = nc_inq(self._grpid, &ndims, &nvars, &ngatts, &xdimid)
 *         if self._dimid == xdimid:             # <<<<<<<<<<<<<<
 *             return True
 *         else:
 */
  __pyx_t_1 = (((struct __pyx_obj_7netCDF3_Dimension *)__pyx_v_self)->_dimid == __pyx_v_xdimid);
  if (__pyx_t_1) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1016
 *         ierr = nc_inq(self._grpid, &ndims, &nvars, &ngatts, &xdimid)
 *         if self._dimid == xdimid:
 *             return True             # <<<<<<<<<<<<<<
 *         else:
 *             return False
 */
    __Pyx_XDECREF(__pyx_r);
    __pyx_t_2 = __Pyx_PyBool_FromLong(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1016; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_r = __pyx_t_2;
    __pyx_t_2 = 0;
    goto __pyx_L0;
    goto __pyx_L5;
  }
  /*else*/ {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1018
 *             return True
 *         else:
 *             return False             # <<<<<<<<<<<<<<
 * 
 * cdef class Variable:
 */
    __Pyx_XDECREF(__pyx_r);
    __pyx_t_2 = __Pyx_PyBool_FromLong(0); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1018; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_r = __pyx_t_2;
    __pyx_t_2 = 0;
    goto __pyx_L0;
  }
  __pyx_L5:;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_AddTraceback("netCDF3.Dimension.isunlimited");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1084
 * @ivar shape: a tuple describing the current size of all the variable's
 * dimensions."""
 *     cdef public int _varid, _grpid, _nunlimdim             # <<<<<<<<<<<<<<
 *     cdef object _grp
 *     cdef public ndim, dtype, maskandscale
 */

static PyObject *__pyx_pf_7netCDF3_8Variable_6_varid___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_7netCDF3_8Variable_6_varid___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  __Pyx_RefNannySetupContext("__get__");
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = PyInt_FromLong(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_varid); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1084; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("netCDF3.Variable._varid.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static int __pyx_pf_7netCDF3_8Variable_6_varid___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value); /*proto*/
static int __pyx_pf_7netCDF3_8Variable_6_varid___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value) {
  int __pyx_r;
  int __pyx_t_1;
  __Pyx_RefNannySetupContext("__set__");
  __pyx_t_1 = __Pyx_PyInt_AsInt(__pyx_v_value); if (unlikely((__pyx_t_1 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1084; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_varid = __pyx_t_1;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_AddTraceback("netCDF3.Variable._varid.__set__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_7netCDF3_8Variable_6_grpid___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_7netCDF3_8Variable_6_grpid___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  __Pyx_RefNannySetupContext("__get__");
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = PyInt_FromLong(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grpid); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1084; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("netCDF3.Variable._grpid.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static int __pyx_pf_7netCDF3_8Variable_6_grpid___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value); /*proto*/
static int __pyx_pf_7netCDF3_8Variable_6_grpid___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value) {
  int __pyx_r;
  int __pyx_t_1;
  __Pyx_RefNannySetupContext("__set__");
  __pyx_t_1 = __Pyx_PyInt_AsInt(__pyx_v_value); if (unlikely((__pyx_t_1 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1084; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grpid = __pyx_t_1;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_AddTraceback("netCDF3.Variable._grpid.__set__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_7netCDF3_8Variable_10_nunlimdim___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_7netCDF3_8Variable_10_nunlimdim___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  __Pyx_RefNannySetupContext("__get__");
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = PyInt_FromLong(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_nunlimdim); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1084; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("netCDF3.Variable._nunlimdim.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static int __pyx_pf_7netCDF3_8Variable_10_nunlimdim___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value); /*proto*/
static int __pyx_pf_7netCDF3_8Variable_10_nunlimdim___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value) {
  int __pyx_r;
  int __pyx_t_1;
  __Pyx_RefNannySetupContext("__set__");
  __pyx_t_1 = __Pyx_PyInt_AsInt(__pyx_v_value); if (unlikely((__pyx_t_1 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1084; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_nunlimdim = __pyx_t_1;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_AddTraceback("netCDF3.Variable._nunlimdim.__set__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1086
 *     cdef public int _varid, _grpid, _nunlimdim
 *     cdef object _grp
 *     cdef public ndim, dtype, maskandscale             # <<<<<<<<<<<<<<
 * 
 *     def __init__(self, grp, name, datatype, dimensions=(), fill_value=None, **kwargs):
 */

static PyObject *__pyx_pf_7netCDF3_8Variable_4ndim___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_7netCDF3_8Variable_4ndim___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannySetupContext("__get__");
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->ndim);
  __pyx_r = ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->ndim;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static int __pyx_pf_7netCDF3_8Variable_4ndim___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value); /*proto*/
static int __pyx_pf_7netCDF3_8Variable_4ndim___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value) {
  int __pyx_r;
  __Pyx_RefNannySetupContext("__set__");
  __Pyx_INCREF(__pyx_v_value);
  __Pyx_GIVEREF(__pyx_v_value);
  __Pyx_GOTREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->ndim);
  __Pyx_DECREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->ndim);
  ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->ndim = __pyx_v_value;

  __pyx_r = 0;
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static int __pyx_pf_7netCDF3_8Variable_4ndim___del__(PyObject *__pyx_v_self); /*proto*/
static int __pyx_pf_7netCDF3_8Variable_4ndim___del__(PyObject *__pyx_v_self) {
  int __pyx_r;
  __Pyx_RefNannySetupContext("__del__");
  __Pyx_INCREF(Py_None);
  __Pyx_GIVEREF(Py_None);
  __Pyx_GOTREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->ndim);
  __Pyx_DECREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->ndim);
  ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->ndim = Py_None;

  __pyx_r = 0;
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_7netCDF3_8Variable_5dtype___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_7netCDF3_8Variable_5dtype___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannySetupContext("__get__");
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype);
  __pyx_r = ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static int __pyx_pf_7netCDF3_8Variable_5dtype___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value); /*proto*/
static int __pyx_pf_7netCDF3_8Variable_5dtype___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value) {
  int __pyx_r;
  __Pyx_RefNannySetupContext("__set__");
  __Pyx_INCREF(__pyx_v_value);
  __Pyx_GIVEREF(__pyx_v_value);
  __Pyx_GOTREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype);
  __Pyx_DECREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype);
  ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype = __pyx_v_value;

  __pyx_r = 0;
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static int __pyx_pf_7netCDF3_8Variable_5dtype___del__(PyObject *__pyx_v_self); /*proto*/
static int __pyx_pf_7netCDF3_8Variable_5dtype___del__(PyObject *__pyx_v_self) {
  int __pyx_r;
  __Pyx_RefNannySetupContext("__del__");
  __Pyx_INCREF(Py_None);
  __Pyx_GIVEREF(Py_None);
  __Pyx_GOTREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype);
  __Pyx_DECREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype);
  ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype = Py_None;

  __pyx_r = 0;
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_pf_7netCDF3_8Variable_12maskandscale___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_7netCDF3_8Variable_12maskandscale___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannySetupContext("__get__");
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->maskandscale);
  __pyx_r = ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->maskandscale;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static int __pyx_pf_7netCDF3_8Variable_12maskandscale___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value); /*proto*/
static int __pyx_pf_7netCDF3_8Variable_12maskandscale___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value) {
  int __pyx_r;
  __Pyx_RefNannySetupContext("__set__");
  __Pyx_INCREF(__pyx_v_value);
  __Pyx_GIVEREF(__pyx_v_value);
  __Pyx_GOTREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->maskandscale);
  __Pyx_DECREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->maskandscale);
  ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->maskandscale = __pyx_v_value;

  __pyx_r = 0;
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static int __pyx_pf_7netCDF3_8Variable_12maskandscale___del__(PyObject *__pyx_v_self); /*proto*/
static int __pyx_pf_7netCDF3_8Variable_12maskandscale___del__(PyObject *__pyx_v_self) {
  int __pyx_r;
  __Pyx_RefNannySetupContext("__del__");
  __Pyx_INCREF(Py_None);
  __Pyx_GIVEREF(Py_None);
  __Pyx_GOTREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->maskandscale);
  __Pyx_DECREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->maskandscale);
  ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->maskandscale = Py_None;

  __pyx_r = 0;
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1088
 *     cdef public ndim, dtype, maskandscale
 * 
 *     def __init__(self, grp, name, datatype, dimensions=(), fill_value=None, **kwargs):             # <<<<<<<<<<<<<<
 *         cdef int ierr, ndims, ichunkalg, ideflate_level, numdims
 *         cdef char *varname
 */

static int __pyx_pf_7netCDF3_8Variable___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_7netCDF3_8Variable___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_grp = 0;
  PyObject *__pyx_v_name = 0;
  PyObject *__pyx_v_datatype = 0;
  PyObject *__pyx_v_dimensions = 0;
  PyObject *__pyx_v_fill_value = 0;
  PyObject *__pyx_v_kwargs = 0;
  int __pyx_v_ierr;
  int __pyx_v_ndims;
  int __pyx_v_numdims;
  char *__pyx_v_varname;
  nc_type __pyx_v_xtype;
  int __pyx_v_dimids[NC_MAX_DIMS];
  long __pyx_v_n;
  PyObject *__pyx_v_dimname;
  PyObject *__pyx_v_dim;
  PyObject *__pyx_v_fillval;
  int __pyx_r;
  PyObject *__pyx_t_1 = NULL;
  int __pyx_t_2;
  int __pyx_t_3;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  char *__pyx_t_6;
  Py_ssize_t __pyx_t_7;
  nc_type __pyx_t_8;
  int __pyx_t_9;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__grp,&__pyx_n_s__name,&__pyx_n_s__datatype,&__pyx_n_s__dimensions,&__pyx_n_s__fill_value,0};
  __Pyx_RefNannySetupContext("__init__");
  __pyx_v_kwargs = PyDict_New(); if (unlikely(!__pyx_v_kwargs)) return -1;
  __Pyx_GOTREF(__pyx_v_kwargs);
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[5] = {0,0,0,0,0};
    values[3] = ((PyObject *)__pyx_empty_tuple);
    values[4] = ((PyObject *)Py_None);
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
      case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
      case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__grp);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__name);
      if (likely(values[1])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("__init__", 0, 3, 5, 1); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1088; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
      case  2:
      values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__datatype);
      if (likely(values[2])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("__init__", 0, 3, 5, 2); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1088; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
      case  3:
      if (kw_args > 0) {
        PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s__dimensions);
        if (value) { values[3] = value; kw_args--; }
      }
      case  4:
      if (kw_args > 0) {
        PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s__fill_value);
        if (value) { values[4] = value; kw_args--; }
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kwargs, values, PyTuple_GET_SIZE(__pyx_args), "__init__") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1088; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_grp = values[0];
    __pyx_v_name = values[1];
    __pyx_v_datatype = values[2];
    __pyx_v_dimensions = values[3];
    __pyx_v_fill_value = values[4];
  } else {
    __pyx_v_dimensions = ((PyObject *)__pyx_empty_tuple);
    __pyx_v_fill_value = ((PyObject *)Py_None);
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  5:
      __pyx_v_fill_value = PyTuple_GET_ITEM(__pyx_args, 4);
      case  4:
      __pyx_v_dimensions = PyTuple_GET_ITEM(__pyx_args, 3);
      case  3:
      __pyx_v_datatype = PyTuple_GET_ITEM(__pyx_args, 2);
      __pyx_v_name = PyTuple_GET_ITEM(__pyx_args, 1);
      __pyx_v_grp = PyTuple_GET_ITEM(__pyx_args, 0);
      break;
      default: goto __pyx_L5_argtuple_error;
    }
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("__init__", 0, 3, 5, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1088; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_DECREF(__pyx_v_kwargs);
  __Pyx_AddTraceback("netCDF3.Variable.__init__");
  __Pyx_RefNannyFinishContext();
  return -1;
  __pyx_L4_argument_unpacking_done:;
  __Pyx_INCREF(__pyx_v_datatype);
  __Pyx_INCREF(__pyx_v_dimensions);
  __pyx_v_dimname = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_dim = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_fillval = Py_None; __Pyx_INCREF(Py_None);

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1097
 *         # this prevents a common error that occurs when
 *         # dimensions = ('lat') instead of ('lat',)
 *         if type(dimensions) == type(''):             # <<<<<<<<<<<<<<
 *             dimensions = dimensions,
 *         self._grpid = grp._grpid
 */
  __pyx_t_1 = PyObject_RichCompare(((PyObject *)Py_TYPE(__pyx_v_dimensions)), ((PyObject *)Py_TYPE(((PyObject *)__pyx_kp_s_2))), Py_EQ); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1097; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1097; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  if (__pyx_t_2) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1098
 *         # dimensions = ('lat') instead of ('lat',)
 *         if type(dimensions) == type(''):
 *             dimensions = dimensions,             # <<<<<<<<<<<<<<
 *         self._grpid = grp._grpid
 *         self._grp = grp
 */
    __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1098; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_INCREF(__pyx_v_dimensions);
    PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v_dimensions);
    __Pyx_GIVEREF(__pyx_v_dimensions);
    __Pyx_DECREF(__pyx_v_dimensions);
    __pyx_v_dimensions = __pyx_t_1;
    __pyx_t_1 = 0;
    goto __pyx_L6;
  }
  __pyx_L6:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1099
 *         if type(dimensions) == type(''):
 *             dimensions = dimensions,
 *         self._grpid = grp._grpid             # <<<<<<<<<<<<<<
 *         self._grp = grp
 *         # convert to a real numpy datatype object if necessary.
 */
  __pyx_t_1 = PyObject_GetAttr(__pyx_v_grp, __pyx_n_s___grpid); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1099; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_3 = __Pyx_PyInt_AsInt(__pyx_t_1); if (unlikely((__pyx_t_3 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1099; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grpid = __pyx_t_3;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1100
 *             dimensions = dimensions,
 *         self._grpid = grp._grpid
 *         self._grp = grp             # <<<<<<<<<<<<<<
 *         # convert to a real numpy datatype object if necessary.
 *         if type(datatype) != numpy.dtype:
 */
  __Pyx_INCREF(__pyx_v_grp);
  __Pyx_GIVEREF(__pyx_v_grp);
  __Pyx_GOTREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grp);
  __Pyx_DECREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grp);
  ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grp = __pyx_v_grp;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1102
 *         self._grp = grp
 *         # convert to a real numpy datatype object if necessary.
 *         if type(datatype) != numpy.dtype:             # <<<<<<<<<<<<<<
 *             datatype = numpy.dtype(datatype)
 *         # check validity of datatype.
 */
  __pyx_t_1 = __Pyx_GetName(__pyx_m, __pyx_n_s__numpy); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1102; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_4 = PyObject_GetAttr(__pyx_t_1, __pyx_n_s__dtype); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1102; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = PyObject_RichCompare(((PyObject *)Py_TYPE(__pyx_v_datatype)), __pyx_t_4, Py_NE); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1102; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1102; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  if (__pyx_t_2) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1103
 *         # convert to a real numpy datatype object if necessary.
 *         if type(datatype) != numpy.dtype:
 *             datatype = numpy.dtype(datatype)             # <<<<<<<<<<<<<<
 *         # check validity of datatype.
 *         if datatype.str[1:] not in _supportedtypes:
 */
    __pyx_t_1 = __Pyx_GetName(__pyx_m, __pyx_n_s__numpy); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1103; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_4 = PyObject_GetAttr(__pyx_t_1, __pyx_n_s__dtype); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1103; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1103; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_INCREF(__pyx_v_datatype);
    PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v_datatype);
    __Pyx_GIVEREF(__pyx_v_datatype);
    __pyx_t_5 = PyObject_Call(__pyx_t_4, __pyx_t_1, NULL); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1103; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_DECREF(__pyx_v_datatype);
    __pyx_v_datatype = __pyx_t_5;
    __pyx_t_5 = 0;
    goto __pyx_L7;
  }
  __pyx_L7:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1105
 *             datatype = numpy.dtype(datatype)
 *         # check validity of datatype.
 *         if datatype.str[1:] not in _supportedtypes:             # <<<<<<<<<<<<<<
 *             raise TypeError('illegal data type, must be one of %s, got %s' % (_supportedtypes,datatype))
 *         # dtype variable attribute is a numpy datatype object.
 */
  __pyx_t_5 = PyObject_GetAttr(__pyx_v_datatype, __pyx_n_s__str); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1105; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __pyx_t_1 = PySequence_GetSlice(__pyx_t_5, 1, PY_SSIZE_T_MAX); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1105; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_t_5 = __Pyx_GetName(__pyx_m, __pyx_n_s___supportedtypes); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1105; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __pyx_t_2 = (__Pyx_NegateNonNeg(PySequence_Contains(__pyx_t_5, __pyx_t_1))); if (unlikely(__pyx_t_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1105; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  if (__pyx_t_2) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1106
 *         # check validity of datatype.
 *         if datatype.str[1:] not in _supportedtypes:
 *             raise TypeError('illegal data type, must be one of %s, got %s' % (_supportedtypes,datatype))             # <<<<<<<<<<<<<<
 *         # dtype variable attribute is a numpy datatype object.
 *         self.dtype = datatype
 */
    __pyx_t_5 = __Pyx_GetName(__pyx_m, __pyx_n_s___supportedtypes); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1106; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_5);
    __pyx_t_1 = PyTuple_New(2); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1106; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_t_5);
    __Pyx_GIVEREF(__pyx_t_5);
    __Pyx_INCREF(__pyx_v_datatype);
    PyTuple_SET_ITEM(__pyx_t_1, 1, __pyx_v_datatype);
    __Pyx_GIVEREF(__pyx_v_datatype);
    __pyx_t_5 = 0;
    __pyx_t_5 = PyNumber_Remainder(((PyObject *)__pyx_kp_s_18), __pyx_t_1); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1106; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(((PyObject *)__pyx_t_5));
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1106; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject *)__pyx_t_5));
    __Pyx_GIVEREF(((PyObject *)__pyx_t_5));
    __pyx_t_5 = 0;
    __pyx_t_5 = PyObject_Call(__pyx_builtin_TypeError, __pyx_t_1, NULL); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1106; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_Raise(__pyx_t_5, 0, 0);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1106; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L8;
  }
  __pyx_L8:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1108
 *             raise TypeError('illegal data type, must be one of %s, got %s' % (_supportedtypes,datatype))
 *         # dtype variable attribute is a numpy datatype object.
 *         self.dtype = datatype             # <<<<<<<<<<<<<<
 *         if kwargs.has_key('id'):
 *             self._varid = kwargs['id']
 */
  __Pyx_INCREF(__pyx_v_datatype);
  __Pyx_GIVEREF(__pyx_v_datatype);
  __Pyx_GOTREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype);
  __Pyx_DECREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype);
  ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype = __pyx_v_datatype;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1109
 *         # dtype variable attribute is a numpy datatype object.
 *         self.dtype = datatype
 *         if kwargs.has_key('id'):             # <<<<<<<<<<<<<<
 *             self._varid = kwargs['id']
 *         else:
 */
  __pyx_t_5 = PyObject_GetAttr(((PyObject *)__pyx_v_kwargs), __pyx_n_s__has_key); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1109; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1109; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_INCREF(((PyObject *)__pyx_n_s__id));
  PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject *)__pyx_n_s__id));
  __Pyx_GIVEREF(((PyObject *)__pyx_n_s__id));
  __pyx_t_4 = PyObject_Call(__pyx_t_5, __pyx_t_1, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1109; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely(__pyx_t_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1109; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  if (__pyx_t_2) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1110
 *         self.dtype = datatype
 *         if kwargs.has_key('id'):
 *             self._varid = kwargs['id']             # <<<<<<<<<<<<<<
 *         else:
 *             varname = name
 */
    __pyx_t_4 = __Pyx_PyDict_GetItem(((PyObject *)__pyx_v_kwargs), ((PyObject *)__pyx_n_s__id)); if (!__pyx_t_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1110; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_3 = __Pyx_PyInt_AsInt(__pyx_t_4); if (unlikely((__pyx_t_3 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1110; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_varid = __pyx_t_3;
    goto __pyx_L9;
  }
  /*else*/ {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1112
 *             self._varid = kwargs['id']
 *         else:
 *             varname = name             # <<<<<<<<<<<<<<
 *             ndims = len(dimensions)
 *             # find netCDF primitive data type corresponding to
 */
    __pyx_t_6 = PyBytes_AsString(__pyx_v_name); if (unlikely((!__pyx_t_6) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1112; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_v_varname = __pyx_t_6;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1113
 *         else:
 *             varname = name
 *             ndims = len(dimensions)             # <<<<<<<<<<<<<<
 *             # find netCDF primitive data type corresponding to
 *             # specified numpy data type.
 */
    __pyx_t_7 = PyObject_Length(__pyx_v_dimensions); if (unlikely(__pyx_t_7 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1113; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_v_ndims = __pyx_t_7;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1116
 *             # find netCDF primitive data type corresponding to
 *             # specified numpy data type.
 *             xtype = _nptonctype[datatype.str[1:]]             # <<<<<<<<<<<<<<
 *             # find dimension ids.
 *             if ndims:
 */
    __pyx_t_4 = __Pyx_GetName(__pyx_m, __pyx_n_s___nptonctype); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1116; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_1 = PyObject_GetAttr(__pyx_v_datatype, __pyx_n_s__str); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1116; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_5 = PySequence_GetSlice(__pyx_t_1, 1, PY_SSIZE_T_MAX); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1116; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = PyObject_GetItem(__pyx_t_4, __pyx_t_5); if (!__pyx_t_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1116; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_8 = __Pyx_PyInt_from_py_nc_type(__pyx_t_1); if (unlikely((__pyx_t_8 == (nc_type)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1116; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_v_xtype = __pyx_t_8;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1118
 *             xtype = _nptonctype[datatype.str[1:]]
 *             # find dimension ids.
 *             if ndims:             # <<<<<<<<<<<<<<
 *                 for n from 0 <= n < ndims:
 *                     dimname = dimensions[n]
 */
    if (__pyx_v_ndims) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1119
 *             # find dimension ids.
 *             if ndims:
 *                 for n from 0 <= n < ndims:             # <<<<<<<<<<<<<<
 *                     dimname = dimensions[n]
 *                     dim = grp.dimensions[dimname]
 */
      __pyx_t_3 = __pyx_v_ndims;
      for (__pyx_v_n = 0; __pyx_v_n < __pyx_t_3; __pyx_v_n++) {

        /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1120
 *             if ndims:
 *                 for n from 0 <= n < ndims:
 *                     dimname = dimensions[n]             # <<<<<<<<<<<<<<
 *                     dim = grp.dimensions[dimname]
 *                     if dim is None:
 */
        __pyx_t_1 = __Pyx_GetItemInt(__pyx_v_dimensions, __pyx_v_n, sizeof(long), PyInt_FromLong); if (!__pyx_t_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1120; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_1);
        __Pyx_DECREF(__pyx_v_dimname);
        __pyx_v_dimname = __pyx_t_1;
        __pyx_t_1 = 0;

        /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1121
 *                 for n from 0 <= n < ndims:
 *                     dimname = dimensions[n]
 *                     dim = grp.dimensions[dimname]             # <<<<<<<<<<<<<<
 *                     if dim is None:
 *                         raise KeyError("dimension %s not defined in Dataset" % dimname)
 */
        __pyx_t_1 = PyObject_GetAttr(__pyx_v_grp, __pyx_n_s__dimensions); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1121; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_1);
        __pyx_t_5 = PyObject_GetItem(__pyx_t_1, __pyx_v_dimname); if (!__pyx_t_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1121; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_5);
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
        __Pyx_DECREF(__pyx_v_dim);
        __pyx_v_dim = __pyx_t_5;
        __pyx_t_5 = 0;

        /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1122
 *                     dimname = dimensions[n]
 *                     dim = grp.dimensions[dimname]
 *                     if dim is None:             # <<<<<<<<<<<<<<
 *                         raise KeyError("dimension %s not defined in Dataset" % dimname)
 *                     dimids[n] = dim._dimid
 */
        __pyx_t_2 = (__pyx_v_dim == Py_None);
        if (__pyx_t_2) {

          /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1123
 *                     dim = grp.dimensions[dimname]
 *                     if dim is None:
 *                         raise KeyError("dimension %s not defined in Dataset" % dimname)             # <<<<<<<<<<<<<<
 *                     dimids[n] = dim._dimid
 *             # go into define mode if it's a netCDF 3 compatible
 */
          __pyx_t_5 = PyNumber_Remainder(((PyObject *)__pyx_kp_s_19), __pyx_v_dimname); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1123; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(((PyObject *)__pyx_t_5));
          __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1123; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_1);
          PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject *)__pyx_t_5));
          __Pyx_GIVEREF(((PyObject *)__pyx_t_5));
          __pyx_t_5 = 0;
          __pyx_t_5 = PyObject_Call(__pyx_builtin_KeyError, __pyx_t_1, NULL); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1123; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_5);
          __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
          __Pyx_Raise(__pyx_t_5, 0, 0);
          __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
          {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1123; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          goto __pyx_L13;
        }
        __pyx_L13:;

        /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1124
 *                     if dim is None:
 *                         raise KeyError("dimension %s not defined in Dataset" % dimname)
 *                     dimids[n] = dim._dimid             # <<<<<<<<<<<<<<
 *             # go into define mode if it's a netCDF 3 compatible
 *             # file format.  Be careful to exit define mode before
 */
        __pyx_t_5 = PyObject_GetAttr(__pyx_v_dim, __pyx_n_s___dimid); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1124; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_5);
        __pyx_t_9 = __Pyx_PyInt_AsInt(__pyx_t_5); if (unlikely((__pyx_t_9 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1124; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
        (__pyx_v_dimids[__pyx_v_n]) = __pyx_t_9;
      }
      goto __pyx_L10;
    }
    __pyx_L10:;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1128
 *             # file format.  Be careful to exit define mode before
 *             # any exceptions are raised.
 *             grp._redef()             # <<<<<<<<<<<<<<
 *             # define variable.
 *             if ndims:
 */
    __pyx_t_5 = PyObject_GetAttr(__pyx_v_grp, __pyx_n_s___redef); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1128; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_5);
    __pyx_t_1 = PyObject_Call(__pyx_t_5, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1128; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1130
 *             grp._redef()
 *             # define variable.
 *             if ndims:             # <<<<<<<<<<<<<<
 *                 ierr = nc_def_var(self._grpid, varname, xtype, ndims,
 *                                   dimids, &self._varid)
 */
    if (__pyx_v_ndims) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1132
 *             if ndims:
 *                 ierr = nc_def_var(self._grpid, varname, xtype, ndims,
 *                                   dimids, &self._varid)             # <<<<<<<<<<<<<<
 *             else: # a scalar variable.
 *                 ierr = nc_def_var(self._grpid, varname, xtype, ndims,
 */
      __pyx_v_ierr = nc_def_var(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grpid, __pyx_v_varname, __pyx_v_xtype, __pyx_v_ndims, __pyx_v_dimids, (&((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_varid));
      goto __pyx_L14;
    }
    /*else*/ {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1135
 *             else: # a scalar variable.
 *                 ierr = nc_def_var(self._grpid, varname, xtype, ndims,
 *                                   NULL, &self._varid)             # <<<<<<<<<<<<<<
 *             if ierr != NC_NOERR:
 *                 grp._enddef()
 */
      __pyx_v_ierr = nc_def_var(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grpid, __pyx_v_varname, __pyx_v_xtype, __pyx_v_ndims, NULL, (&((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_varid));
    }
    __pyx_L14:;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1136
 *                 ierr = nc_def_var(self._grpid, varname, xtype, ndims,
 *                                   NULL, &self._varid)
 *             if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *                 grp._enddef()
 *                 raise RuntimeError(nc_strerror(ierr))
 */
    __pyx_t_2 = (__pyx_v_ierr != NC_NOERR);
    if (__pyx_t_2) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1137
 *                                   NULL, &self._varid)
 *             if ierr != NC_NOERR:
 *                 grp._enddef()             # <<<<<<<<<<<<<<
 *                 raise RuntimeError(nc_strerror(ierr))
 *             # set a fill value for this variable if fill_value keyword
 */
      __pyx_t_1 = PyObject_GetAttr(__pyx_v_grp, __pyx_n_s___enddef); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1137; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      __pyx_t_5 = PyObject_Call(__pyx_t_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1137; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1138
 *             if ierr != NC_NOERR:
 *                 grp._enddef()
 *                 raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *             # set a fill value for this variable if fill_value keyword
 *             # given.
 */
      __pyx_t_5 = PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1138; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(((PyObject *)__pyx_t_5));
      __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1138; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject *)__pyx_t_5));
      __Pyx_GIVEREF(((PyObject *)__pyx_t_5));
      __pyx_t_5 = 0;
      __pyx_t_5 = PyObject_Call(__pyx_builtin_RuntimeError, __pyx_t_1, NULL); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1138; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __Pyx_Raise(__pyx_t_5, 0, 0);
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1138; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L15;
    }
    __pyx_L15:;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1141
 *             # set a fill value for this variable if fill_value keyword
 *             # given.
 *             if fill_value is not None:             # <<<<<<<<<<<<<<
 *                 # cast fill_value to type of variable.
 *                 fillval = numpy.array(fill_value, self.dtype)
 */
    __pyx_t_2 = (__pyx_v_fill_value != Py_None);
    if (__pyx_t_2) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1143
 *             if fill_value is not None:
 *                 # cast fill_value to type of variable.
 *                 fillval = numpy.array(fill_value, self.dtype)             # <<<<<<<<<<<<<<
 *                 _set_att(self._grpid, self._varid, '_FillValue', fillval)
 *             # leave define mode.
 */
      __pyx_t_5 = __Pyx_GetName(__pyx_m, __pyx_n_s__numpy); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1143; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_5);
      __pyx_t_1 = PyObject_GetAttr(__pyx_t_5, __pyx_n_s__array); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1143; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_5 = PyTuple_New(2); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1143; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_INCREF(__pyx_v_fill_value);
      PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_v_fill_value);
      __Pyx_GIVEREF(__pyx_v_fill_value);
      __Pyx_INCREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype);
      PyTuple_SET_ITEM(__pyx_t_5, 1, ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype);
      __Pyx_GIVEREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype);
      __pyx_t_4 = PyObject_Call(__pyx_t_1, __pyx_t_5, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1143; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __Pyx_DECREF(__pyx_v_fillval);
      __pyx_v_fillval = __pyx_t_4;
      __pyx_t_4 = 0;

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1144
 *                 # cast fill_value to type of variable.
 *                 fillval = numpy.array(fill_value, self.dtype)
 *                 _set_att(self._grpid, self._varid, '_FillValue', fillval)             # <<<<<<<<<<<<<<
 *             # leave define mode.
 *             grp._enddef()
 */
      __pyx_t_4 = __pyx_f_7netCDF3__set_att(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grpid, ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_varid, ((PyObject *)__pyx_n_s___FillValue), __pyx_v_fillval); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1144; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      goto __pyx_L16;
    }
    __pyx_L16:;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1146
 *                 _set_att(self._grpid, self._varid, '_FillValue', fillval)
 *             # leave define mode.
 *             grp._enddef()             # <<<<<<<<<<<<<<
 *         # count how many unlimited dimensions there are.
 *         self._nunlimdim = 0
 */
    __pyx_t_4 = PyObject_GetAttr(__pyx_v_grp, __pyx_n_s___enddef); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1146; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_5 = PyObject_Call(__pyx_t_4, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1146; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  }
  __pyx_L9:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1148
 *             grp._enddef()
 *         # count how many unlimited dimensions there are.
 *         self._nunlimdim = 0             # <<<<<<<<<<<<<<
 *         for dimname in self.dimensions:
 *             dim = grp.dimensions[dimname]
 */
  ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_nunlimdim = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1149
 *         # count how many unlimited dimensions there are.
 *         self._nunlimdim = 0
 *         for dimname in self.dimensions:             # <<<<<<<<<<<<<<
 *             dim = grp.dimensions[dimname]
 *             if dim.isunlimited(): self._nunlimdim = self._nunlimdim + 1
 */
  __pyx_t_5 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s__dimensions); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1149; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  if (PyList_CheckExact(__pyx_t_5) || PyTuple_CheckExact(__pyx_t_5)) {
    __pyx_t_7 = 0; __pyx_t_4 = __pyx_t_5; __Pyx_INCREF(__pyx_t_4);
  } else {
    __pyx_t_7 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_t_5); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1149; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
  }
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_t_4))) {
      if (__pyx_t_7 >= PyList_GET_SIZE(__pyx_t_4)) break;
      __pyx_t_5 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_7); __Pyx_INCREF(__pyx_t_5); __pyx_t_7++;
    } else if (likely(PyTuple_CheckExact(__pyx_t_4))) {
      if (__pyx_t_7 >= PyTuple_GET_SIZE(__pyx_t_4)) break;
      __pyx_t_5 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_7); __Pyx_INCREF(__pyx_t_5); __pyx_t_7++;
    } else {
      __pyx_t_5 = PyIter_Next(__pyx_t_4);
      if (!__pyx_t_5) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1149; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
      __Pyx_GOTREF(__pyx_t_5);
    }
    __Pyx_DECREF(__pyx_v_dimname);
    __pyx_v_dimname = __pyx_t_5;
    __pyx_t_5 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1150
 *         self._nunlimdim = 0
 *         for dimname in self.dimensions:
 *             dim = grp.dimensions[dimname]             # <<<<<<<<<<<<<<
 *             if dim.isunlimited(): self._nunlimdim = self._nunlimdim + 1
 *         # set ndim attribute (number of dimensions).
 */
    __pyx_t_5 = PyObject_GetAttr(__pyx_v_grp, __pyx_n_s__dimensions); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1150; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_5);
    __pyx_t_1 = PyObject_GetItem(__pyx_t_5, __pyx_v_dimname); if (!__pyx_t_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1150; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    __Pyx_DECREF(__pyx_v_dim);
    __pyx_v_dim = __pyx_t_1;
    __pyx_t_1 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1151
 *         for dimname in self.dimensions:
 *             dim = grp.dimensions[dimname]
 *             if dim.isunlimited(): self._nunlimdim = self._nunlimdim + 1             # <<<<<<<<<<<<<<
 *         # set ndim attribute (number of dimensions).
 *         ierr = nc_inq_varndims(self._grpid, self._varid, &numdims)
 */
    __pyx_t_1 = PyObject_GetAttr(__pyx_v_dim, __pyx_n_s__isunlimited); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1151; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_5 = PyObject_Call(__pyx_t_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1151; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_5); if (unlikely(__pyx_t_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1151; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    if (__pyx_t_2) {
      ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_nunlimdim = (((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_nunlimdim + 1);
      goto __pyx_L19;
    }
    __pyx_L19:;
  }
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1153
 *             if dim.isunlimited(): self._nunlimdim = self._nunlimdim + 1
 *         # set ndim attribute (number of dimensions).
 *         ierr = nc_inq_varndims(self._grpid, self._varid, &numdims)             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_v_ierr = nc_inq_varndims(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grpid, ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_varid, (&__pyx_v_numdims));

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1154
 *         # set ndim attribute (number of dimensions).
 *         ierr = nc_inq_varndims(self._grpid, self._varid, &numdims)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise RuntimeError(nc_strerror(ierr))
 *         self.ndim = numdims
 */
  __pyx_t_2 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_t_2) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1155
 *         ierr = nc_inq_varndims(self._grpid, self._varid, &numdims)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *         self.ndim = numdims
 *         # default for automatically applying scale_factor and
 */
    __pyx_t_4 = PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1155; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(((PyObject *)__pyx_t_4));
    __pyx_t_5 = PyTuple_New(1); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1155; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_5);
    PyTuple_SET_ITEM(__pyx_t_5, 0, ((PyObject *)__pyx_t_4));
    __Pyx_GIVEREF(((PyObject *)__pyx_t_4));
    __pyx_t_4 = 0;
    __pyx_t_4 = PyObject_Call(__pyx_builtin_RuntimeError, __pyx_t_5, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1155; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    __Pyx_Raise(__pyx_t_4, 0, 0);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1155; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L20;
  }
  __pyx_L20:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1156
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 *         self.ndim = numdims             # <<<<<<<<<<<<<<
 *         # default for automatically applying scale_factor and
 *         # add_offset, and converting to/from masked arrays is False.
 */
  __pyx_t_4 = PyInt_FromLong(__pyx_v_numdims); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1156; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_GIVEREF(__pyx_t_4);
  __Pyx_GOTREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->ndim);
  __Pyx_DECREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->ndim);
  ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->ndim = __pyx_t_4;
  __pyx_t_4 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1159
 *         # default for automatically applying scale_factor and
 *         # add_offset, and converting to/from masked arrays is False.
 *         self.maskandscale = True             # <<<<<<<<<<<<<<
 * 
 *     property shape:
 */
  __pyx_t_4 = __Pyx_PyBool_FromLong(1); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1159; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_GIVEREF(__pyx_t_4);
  __Pyx_GOTREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->maskandscale);
  __Pyx_DECREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->maskandscale);
  ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->maskandscale = __pyx_t_4;
  __pyx_t_4 = 0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_AddTraceback("netCDF3.Variable.__init__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_kwargs);
  __Pyx_DECREF(__pyx_v_dimname);
  __Pyx_DECREF(__pyx_v_dim);
  __Pyx_DECREF(__pyx_v_fillval);
  __Pyx_DECREF(__pyx_v_datatype);
  __Pyx_DECREF(__pyx_v_dimensions);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1163
 *     property shape:
 *         """find current sizes of all variable dimensions"""
 *         def __get__(self):             # <<<<<<<<<<<<<<
 *             shape = ()
 *             for dimname in self.dimensions:
 */

static PyObject *__pyx_pf_7netCDF3_8Variable_5shape___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_7netCDF3_8Variable_5shape___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_v_shape;
  PyObject *__pyx_v_dimname;
  PyObject *__pyx_v_dim;
  PyObject *__pyx_r = NULL;
  Py_ssize_t __pyx_t_1;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  Py_ssize_t __pyx_t_5;
  __Pyx_RefNannySetupContext("__get__");
  __pyx_v_shape = ((PyObject *)Py_None); __Pyx_INCREF(Py_None);
  __pyx_v_dimname = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_dim = Py_None; __Pyx_INCREF(Py_None);

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1164
 *         """find current sizes of all variable dimensions"""
 *         def __get__(self):
 *             shape = ()             # <<<<<<<<<<<<<<
 *             for dimname in self.dimensions:
 *                 dim = self._grp.dimensions[dimname]
 */
  __Pyx_INCREF(((PyObject *)__pyx_empty_tuple));
  __Pyx_DECREF(((PyObject *)__pyx_v_shape));
  __pyx_v_shape = __pyx_empty_tuple;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1165
 *         def __get__(self):
 *             shape = ()
 *             for dimname in self.dimensions:             # <<<<<<<<<<<<<<
 *                 dim = self._grp.dimensions[dimname]
 *                 shape = shape + (len(dim),)
 */
  __pyx_t_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s__dimensions); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1165; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  if (PyList_CheckExact(__pyx_t_2) || PyTuple_CheckExact(__pyx_t_2)) {
    __pyx_t_1 = 0; __pyx_t_3 = __pyx_t_2; __Pyx_INCREF(__pyx_t_3);
  } else {
    __pyx_t_1 = -1; __pyx_t_3 = PyObject_GetIter(__pyx_t_2); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1165; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_t_3))) {
      if (__pyx_t_1 >= PyList_GET_SIZE(__pyx_t_3)) break;
      __pyx_t_2 = PyList_GET_ITEM(__pyx_t_3, __pyx_t_1); __Pyx_INCREF(__pyx_t_2); __pyx_t_1++;
    } else if (likely(PyTuple_CheckExact(__pyx_t_3))) {
      if (__pyx_t_1 >= PyTuple_GET_SIZE(__pyx_t_3)) break;
      __pyx_t_2 = PyTuple_GET_ITEM(__pyx_t_3, __pyx_t_1); __Pyx_INCREF(__pyx_t_2); __pyx_t_1++;
    } else {
      __pyx_t_2 = PyIter_Next(__pyx_t_3);
      if (!__pyx_t_2) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1165; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
      __Pyx_GOTREF(__pyx_t_2);
    }
    __Pyx_DECREF(__pyx_v_dimname);
    __pyx_v_dimname = __pyx_t_2;
    __pyx_t_2 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1166
 *             shape = ()
 *             for dimname in self.dimensions:
 *                 dim = self._grp.dimensions[dimname]             # <<<<<<<<<<<<<<
 *                 shape = shape + (len(dim),)
 *             return shape
 */
    __pyx_t_2 = PyObject_GetAttr(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grp, __pyx_n_s__dimensions); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1166; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_4 = PyObject_GetItem(__pyx_t_2, __pyx_v_dimname); if (!__pyx_t_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1166; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_DECREF(__pyx_v_dim);
    __pyx_v_dim = __pyx_t_4;
    __pyx_t_4 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1167
 *             for dimname in self.dimensions:
 *                 dim = self._grp.dimensions[dimname]
 *                 shape = shape + (len(dim),)             # <<<<<<<<<<<<<<
 *             return shape
 *         def __set__(self,value):
 */
    __pyx_t_5 = PyObject_Length(__pyx_v_dim); if (unlikely(__pyx_t_5 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1167; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_t_4 = PyInt_FromSsize_t(__pyx_t_5); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1167; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1167; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_4);
    __Pyx_GIVEREF(__pyx_t_4);
    __pyx_t_4 = 0;
    __pyx_t_4 = PyNumber_Add(((PyObject *)__pyx_v_shape), __pyx_t_2); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1167; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    if (!(likely(PyTuple_CheckExact(__pyx_t_4))||((__pyx_t_4) == Py_None)||(PyErr_Format(PyExc_TypeError, "Expected tuple, got %.200s", Py_TYPE(__pyx_t_4)->tp_name), 0))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1167; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(((PyObject *)__pyx_v_shape));
    __pyx_v_shape = ((PyObject *)__pyx_t_4);
    __pyx_t_4 = 0;
  }
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1168
 *                 dim = self._grp.dimensions[dimname]
 *                 shape = shape + (len(dim),)
 *             return shape             # <<<<<<<<<<<<<<
 *         def __set__(self,value):
 *             raise AttributeError("shape cannot be altered")
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(((PyObject *)__pyx_v_shape));
  __pyx_r = ((PyObject *)__pyx_v_shape);
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("netCDF3.Variable.shape.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_shape);
  __Pyx_DECREF(__pyx_v_dimname);
  __Pyx_DECREF(__pyx_v_dim);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1169
 *                 shape = shape + (len(dim),)
 *             return shape
 *         def __set__(self,value):             # <<<<<<<<<<<<<<
 *             raise AttributeError("shape cannot be altered")
 * 
 */

static int __pyx_pf_7netCDF3_8Variable_5shape___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value); /*proto*/
static int __pyx_pf_7netCDF3_8Variable_5shape___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value) {
  int __pyx_r;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  __Pyx_RefNannySetupContext("__set__");

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1170
 *             return shape
 *         def __set__(self,value):
 *             raise AttributeError("shape cannot be altered")             # <<<<<<<<<<<<<<
 * 
 *     property size:
 */
  __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1170; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_INCREF(((PyObject *)__pyx_kp_s_20));
  PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject *)__pyx_kp_s_20));
  __Pyx_GIVEREF(((PyObject *)__pyx_kp_s_20));
  __pyx_t_2 = PyObject_Call(__pyx_builtin_AttributeError, __pyx_t_1, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1170; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_Raise(__pyx_t_2, 0, 0);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1170; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_AddTraceback("netCDF3.Variable.shape.__set__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1174
 *     property size:
 *         """Return the number of stored elements."""
 *         def __get__(self):             # <<<<<<<<<<<<<<
 *             return numpy.prod(self.shape)
 * 
 */

static PyObject *__pyx_pf_7netCDF3_8Variable_4size___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_7netCDF3_8Variable_4size___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  __Pyx_RefNannySetupContext("__get__");

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1175
 *         """Return the number of stored elements."""
 *         def __get__(self):
 *             return numpy.prod(self.shape)             # <<<<<<<<<<<<<<
 * 
 *     property dimensions:
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = __Pyx_GetName(__pyx_m, __pyx_n_s__numpy); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1175; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyObject_GetAttr(__pyx_t_1, __pyx_n_s__prod); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1175; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s__shape); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1175; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1175; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_1);
  __Pyx_GIVEREF(__pyx_t_1);
  __pyx_t_1 = 0;
  __pyx_t_1 = PyObject_Call(__pyx_t_2, __pyx_t_3, NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1175; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("netCDF3.Variable.size.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1179
 *     property dimensions:
 *         """get variables's dimension names"""
 *         def __get__(self):             # <<<<<<<<<<<<<<
 *             # Private method to get variables's dimension names
 *             cdef int ierr, numdims, n, nn
 */

static PyObject *__pyx_pf_7netCDF3_8Variable_10dimensions___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_7netCDF3_8Variable_10dimensions___get__(PyObject *__pyx_v_self) {
  int __pyx_v_ierr;
  int __pyx_v_numdims;
  int __pyx_v_nn;
  char __pyx_v_namstring[(NC_MAX_NAME + 1)];
  int __pyx_v_dimids[NC_MAX_DIMS];
  PyObject *__pyx_v_dimensions;
  PyObject *__pyx_v_name;
  PyObject *__pyx_r = NULL;
  int __pyx_t_1;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  int __pyx_t_4;
  __Pyx_RefNannySetupContext("__get__");
  __pyx_v_dimensions = ((PyObject *)Py_None); __Pyx_INCREF(Py_None);
  __pyx_v_name = Py_None; __Pyx_INCREF(Py_None);

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1185
 *             cdef int dimids[NC_MAX_DIMS]
 *             # get number of dimensions for this variable.
 *             ierr = nc_inq_varndims(self._grpid, self._varid, &numdims)             # <<<<<<<<<<<<<<
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_v_ierr = nc_inq_varndims(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grpid, ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_varid, (&__pyx_v_numdims));

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1186
 *             # get number of dimensions for this variable.
 *             ierr = nc_inq_varndims(self._grpid, self._varid, &numdims)
 *             if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *                 raise RuntimeError(nc_strerror(ierr))
 *             # get dimension ids.
 */
  __pyx_t_1 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_t_1) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1187
 *             ierr = nc_inq_varndims(self._grpid, self._varid, &numdims)
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *             # get dimension ids.
 *             ierr = nc_inq_vardimid(self._grpid, self._varid, dimids)
 */
    __pyx_t_2 = PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1187; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(((PyObject *)__pyx_t_2));
    __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1187; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    PyTuple_SET_ITEM(__pyx_t_3, 0, ((PyObject *)__pyx_t_2));
    __Pyx_GIVEREF(((PyObject *)__pyx_t_2));
    __pyx_t_2 = 0;
    __pyx_t_2 = PyObject_Call(__pyx_builtin_RuntimeError, __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1187; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_Raise(__pyx_t_2, 0, 0);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1187; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L5;
  }
  __pyx_L5:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1189
 *                 raise RuntimeError(nc_strerror(ierr))
 *             # get dimension ids.
 *             ierr = nc_inq_vardimid(self._grpid, self._varid, dimids)             # <<<<<<<<<<<<<<
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_v_ierr = nc_inq_vardimid(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grpid, ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_varid, __pyx_v_dimids);

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1190
 *             # get dimension ids.
 *             ierr = nc_inq_vardimid(self._grpid, self._varid, dimids)
 *             if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *                 raise RuntimeError(nc_strerror(ierr))
 *             # loop over dimensions, retrieve names.
 */
  __pyx_t_1 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_t_1) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1191
 *             ierr = nc_inq_vardimid(self._grpid, self._varid, dimids)
 *             if ierr != NC_NOERR:
 *                 raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *             # loop over dimensions, retrieve names.
 *             dimensions = ()
 */
    __pyx_t_2 = PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1191; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(((PyObject *)__pyx_t_2));
    __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1191; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    PyTuple_SET_ITEM(__pyx_t_3, 0, ((PyObject *)__pyx_t_2));
    __Pyx_GIVEREF(((PyObject *)__pyx_t_2));
    __pyx_t_2 = 0;
    __pyx_t_2 = PyObject_Call(__pyx_builtin_RuntimeError, __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1191; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_Raise(__pyx_t_2, 0, 0);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1191; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L6;
  }
  __pyx_L6:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1193
 *                 raise RuntimeError(nc_strerror(ierr))
 *             # loop over dimensions, retrieve names.
 *             dimensions = ()             # <<<<<<<<<<<<<<
 *             for nn from 0 <= nn < numdims:
 *                 ierr = nc_inq_dimname(self._grpid, dimids[nn], namstring)
 */
  __Pyx_INCREF(((PyObject *)__pyx_empty_tuple));
  __Pyx_DECREF(((PyObject *)__pyx_v_dimensions));
  __pyx_v_dimensions = __pyx_empty_tuple;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1194
 *             # loop over dimensions, retrieve names.
 *             dimensions = ()
 *             for nn from 0 <= nn < numdims:             # <<<<<<<<<<<<<<
 *                 ierr = nc_inq_dimname(self._grpid, dimids[nn], namstring)
 *                 if ierr != NC_NOERR:
 */
  __pyx_t_4 = __pyx_v_numdims;
  for (__pyx_v_nn = 0; __pyx_v_nn < __pyx_t_4; __pyx_v_nn++) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1195
 *             dimensions = ()
 *             for nn from 0 <= nn < numdims:
 *                 ierr = nc_inq_dimname(self._grpid, dimids[nn], namstring)             # <<<<<<<<<<<<<<
 *                 if ierr != NC_NOERR:
 *                     raise RuntimeError(nc_strerror(ierr))
 */
    __pyx_v_ierr = nc_inq_dimname(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grpid, (__pyx_v_dimids[__pyx_v_nn]), __pyx_v_namstring);

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1196
 *             for nn from 0 <= nn < numdims:
 *                 ierr = nc_inq_dimname(self._grpid, dimids[nn], namstring)
 *                 if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *                     raise RuntimeError(nc_strerror(ierr))
 *                 name = namstring
 */
    __pyx_t_1 = (__pyx_v_ierr != NC_NOERR);
    if (__pyx_t_1) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1197
 *                 ierr = nc_inq_dimname(self._grpid, dimids[nn], namstring)
 *                 if ierr != NC_NOERR:
 *                     raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *                 name = namstring
 *                 dimensions = dimensions + (name,)
 */
      __pyx_t_2 = PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1197; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(((PyObject *)__pyx_t_2));
      __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1197; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      PyTuple_SET_ITEM(__pyx_t_3, 0, ((PyObject *)__pyx_t_2));
      __Pyx_GIVEREF(((PyObject *)__pyx_t_2));
      __pyx_t_2 = 0;
      __pyx_t_2 = PyObject_Call(__pyx_builtin_RuntimeError, __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1197; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_2);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_Raise(__pyx_t_2, 0, 0);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1197; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L9;
    }
    __pyx_L9:;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1198
 *                 if ierr != NC_NOERR:
 *                     raise RuntimeError(nc_strerror(ierr))
 *                 name = namstring             # <<<<<<<<<<<<<<
 *                 dimensions = dimensions + (name,)
 *             return dimensions
 */
    __pyx_t_2 = PyBytes_FromString(__pyx_v_namstring); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1198; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(((PyObject *)__pyx_t_2));
    __Pyx_DECREF(__pyx_v_name);
    __pyx_v_name = ((PyObject *)__pyx_t_2);
    __pyx_t_2 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1199
 *                     raise RuntimeError(nc_strerror(ierr))
 *                 name = namstring
 *                 dimensions = dimensions + (name,)             # <<<<<<<<<<<<<<
 *             return dimensions
 *         def __set__(self,value):
 */
    __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1199; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_INCREF(__pyx_v_name);
    PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_name);
    __Pyx_GIVEREF(__pyx_v_name);
    __pyx_t_3 = PyNumber_Add(((PyObject *)__pyx_v_dimensions), __pyx_t_2); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1199; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    if (!(likely(PyTuple_CheckExact(__pyx_t_3))||((__pyx_t_3) == Py_None)||(PyErr_Format(PyExc_TypeError, "Expected tuple, got %.200s", Py_TYPE(__pyx_t_3)->tp_name), 0))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1199; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(((PyObject *)__pyx_v_dimensions));
    __pyx_v_dimensions = ((PyObject *)__pyx_t_3);
    __pyx_t_3 = 0;
  }

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1200
 *                 name = namstring
 *                 dimensions = dimensions + (name,)
 *             return dimensions             # <<<<<<<<<<<<<<
 *         def __set__(self,value):
 *             raise AttributeError("dimensions cannot be altered")
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(((PyObject *)__pyx_v_dimensions));
  __pyx_r = ((PyObject *)__pyx_v_dimensions);
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("netCDF3.Variable.dimensions.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_dimensions);
  __Pyx_DECREF(__pyx_v_name);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1201
 *                 dimensions = dimensions + (name,)
 *             return dimensions
 *         def __set__(self,value):             # <<<<<<<<<<<<<<
 *             raise AttributeError("dimensions cannot be altered")
 * 
 */

static int __pyx_pf_7netCDF3_8Variable_10dimensions___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value); /*proto*/
static int __pyx_pf_7netCDF3_8Variable_10dimensions___set__(PyObject *__pyx_v_self, PyObject *__pyx_v_value) {
  int __pyx_r;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  __Pyx_RefNannySetupContext("__set__");

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1202
 *             return dimensions
 *         def __set__(self,value):
 *             raise AttributeError("dimensions cannot be altered")             # <<<<<<<<<<<<<<
 * 
 * 
 */
  __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1202; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_INCREF(((PyObject *)__pyx_kp_s_21));
  PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject *)__pyx_kp_s_21));
  __Pyx_GIVEREF(((PyObject *)__pyx_kp_s_21));
  __pyx_t_2 = PyObject_Call(__pyx_builtin_AttributeError, __pyx_t_1, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1202; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_Raise(__pyx_t_2, 0, 0);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1202; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_AddTraceback("netCDF3.Variable.dimensions.__set__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1205
 * 
 * 
 *     def ncattrs(self):             # <<<<<<<<<<<<<<
 *         """
 * ncattrs(self)
 */

static PyObject *__pyx_pf_7netCDF3_8Variable_ncattrs(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
static char __pyx_doc_7netCDF3_8Variable_ncattrs[] = "\nncattrs(self)\n\nreturn netCDF attribute names for this L{Variable} in a list.";
static PyObject *__pyx_pf_7netCDF3_8Variable_ncattrs(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  __Pyx_RefNannySetupContext("ncattrs");

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1210
 * 
 * return netCDF attribute names for this L{Variable} in a list."""
 *         return _get_att_names(self._grpid, self._varid)             # <<<<<<<<<<<<<<
 * 
 *     def setncattr(self,name,value):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = __pyx_f_7netCDF3__get_att_names(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grpid, ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_varid); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1210; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("netCDF3.Variable.ncattrs");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1212
 *         return _get_att_names(self._grpid, self._varid)
 * 
 *     def setncattr(self,name,value):             # <<<<<<<<<<<<<<
 *         """
 * setncattr(self,name,value)
 */

static PyObject *__pyx_pf_7netCDF3_8Variable_setncattr(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7netCDF3_8Variable_setncattr[] = "\nsetncattr(self,name,value)\n\nset a netCDF variable attribute using name,value pair.  Only use if you need to set a\nnetCDF attribute with the same name as one of the reserved python\nattributes.";
static PyObject *__pyx_pf_7netCDF3_8Variable_setncattr(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_name = 0;
  PyObject *__pyx_v_value = 0;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__name,&__pyx_n_s__value,0};
  __Pyx_RefNannySetupContext("setncattr");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[2] = {0,0};
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__name);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__value);
      if (likely(values[1])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("setncattr", 1, 2, 2, 1); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1212; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "setncattr") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1212; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_name = values[0];
    __pyx_v_value = values[1];
  } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_name = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_value = PyTuple_GET_ITEM(__pyx_args, 1);
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("setncattr", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1212; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF3.Variable.setncattr");
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1219
 * netCDF attribute with the same name as one of the reserved python
 * attributes."""
 *         self._grp._redef()             # <<<<<<<<<<<<<<
 *         _set_att(self._grpid, self._varid, name, value)
 *         self._grp._enddef()
 */
  __pyx_t_1 = PyObject_GetAttr(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grp, __pyx_n_s___redef); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1219; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyObject_Call(__pyx_t_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1219; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1220
 * attributes."""
 *         self._grp._redef()
 *         _set_att(self._grpid, self._varid, name, value)             # <<<<<<<<<<<<<<
 *         self._grp._enddef()
 * 
 */
  __pyx_t_2 = __pyx_f_7netCDF3__set_att(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grpid, ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_varid, __pyx_v_name, __pyx_v_value); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1220; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1221
 *         self._grp._redef()
 *         _set_att(self._grpid, self._varid, name, value)
 *         self._grp._enddef()             # <<<<<<<<<<<<<<
 * 
 *     def getncattr(self,name):
 */
  __pyx_t_2 = PyObject_GetAttr(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grp, __pyx_n_s___enddef); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1221; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_1 = PyObject_Call(__pyx_t_2, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1221; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_AddTraceback("netCDF3.Variable.setncattr");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1223
 *         self._grp._enddef()
 * 
 *     def getncattr(self,name):             # <<<<<<<<<<<<<<
 *         """
 * getncattr(self,name)
 */

static PyObject *__pyx_pf_7netCDF3_8Variable_getncattr(PyObject *__pyx_v_self, PyObject *__pyx_v_name); /*proto*/
static char __pyx_doc_7netCDF3_8Variable_getncattr[] = "\ngetncattr(self,name)\n\nretrievel a netCDF variable attribute.  Only use if you need to set a\nnetCDF attribute with the same name as one of the reserved python\nattributes.";
static PyObject *__pyx_pf_7netCDF3_8Variable_getncattr(PyObject *__pyx_v_self, PyObject *__pyx_v_name) {
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  __Pyx_RefNannySetupContext("getncattr");

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1230
 * netCDF attribute with the same name as one of the reserved python
 * attributes."""
 *         return _get_att(self._grpid, self._varid, name)             # <<<<<<<<<<<<<<
 * 
 *     def delncattr(self, name):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = __pyx_f_7netCDF3__get_att(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grpid, ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_varid, __pyx_v_name); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1230; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("netCDF3.Variable.getncattr");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1232
 *         return _get_att(self._grpid, self._varid, name)
 * 
 *     def delncattr(self, name):             # <<<<<<<<<<<<<<
 *         """
 * delncattr(self,name,value)
 */

static PyObject *__pyx_pf_7netCDF3_8Variable_delncattr(PyObject *__pyx_v_self, PyObject *__pyx_v_name); /*proto*/
static char __pyx_doc_7netCDF3_8Variable_delncattr[] = "\ndelncattr(self,name,value)\n\ndelete a netCDF variable attribute.  Only use if you need to delete a\nnetCDF attribute with the same name as one of the reserved python\nattributes.";
static PyObject *__pyx_pf_7netCDF3_8Variable_delncattr(PyObject *__pyx_v_self, PyObject *__pyx_v_name) {
  char *__pyx_v_attname;
  int __pyx_v_ierr;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  int __pyx_t_3;
  __Pyx_RefNannySetupContext("delncattr");

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1240
 * attributes."""
 *         cdef char *attname
 *         attname = PyString_AsString(str(name))             # <<<<<<<<<<<<<<
 *         self._grp._redef()
 *         ierr = nc_del_att(self._grpid, self._varid, attname)
 */
  __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1240; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_INCREF(__pyx_v_name);
  PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v_name);
  __Pyx_GIVEREF(__pyx_v_name);
  __pyx_t_2 = PyObject_Call(((PyObject *)((PyObject*)&PyString_Type)), __pyx_t_1, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1240; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_attname = PyString_AsString(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1241
 *         cdef char *attname
 *         attname = PyString_AsString(str(name))
 *         self._grp._redef()             # <<<<<<<<<<<<<<
 *         ierr = nc_del_att(self._grpid, self._varid, attname)
 *         self._grp._enddef()
 */
  __pyx_t_2 = PyObject_GetAttr(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grp, __pyx_n_s___redef); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1241; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_1 = PyObject_Call(__pyx_t_2, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1241; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1242
 *         attname = PyString_AsString(str(name))
 *         self._grp._redef()
 *         ierr = nc_del_att(self._grpid, self._varid, attname)             # <<<<<<<<<<<<<<
 *         self._grp._enddef()
 *         if ierr != NC_NOERR:
 */
  __pyx_v_ierr = nc_del_att(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grpid, ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_varid, __pyx_v_attname);

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1243
 *         self._grp._redef()
 *         ierr = nc_del_att(self._grpid, self._varid, attname)
 *         self._grp._enddef()             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
  __pyx_t_1 = PyObject_GetAttr(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grp, __pyx_n_s___enddef); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1243; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyObject_Call(__pyx_t_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1243; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1244
 *         ierr = nc_del_att(self._grpid, self._varid, attname)
 *         self._grp._enddef()
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise RuntimeError(nc_strerror(ierr))
 * 
 */
  __pyx_t_3 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_t_3) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1245
 *         self._grp._enddef()
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 * 
 *     def __delattr__(self,name):
 */
    __pyx_t_2 = PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1245; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(((PyObject *)__pyx_t_2));
    __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1245; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject *)__pyx_t_2));
    __Pyx_GIVEREF(((PyObject *)__pyx_t_2));
    __pyx_t_2 = 0;
    __pyx_t_2 = PyObject_Call(__pyx_builtin_RuntimeError, __pyx_t_1, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1245; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_Raise(__pyx_t_2, 0, 0);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1245; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L5;
  }
  __pyx_L5:;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_AddTraceback("netCDF3.Variable.delncattr");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1247
 *             raise RuntimeError(nc_strerror(ierr))
 * 
 *     def __delattr__(self,name):             # <<<<<<<<<<<<<<
 *         # if it's a netCDF attribute, remove it
 *         if name not in _private_atts:
 */

static int __pyx_pf_7netCDF3_8Variable___delattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name); /*proto*/
static int __pyx_pf_7netCDF3_8Variable___delattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name) {
  int __pyx_r;
  PyObject *__pyx_t_1 = NULL;
  int __pyx_t_2;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  __Pyx_RefNannySetupContext("__delattr__");

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1249
 *     def __delattr__(self,name):
 *         # if it's a netCDF attribute, remove it
 *         if name not in _private_atts:             # <<<<<<<<<<<<<<
 *             self.delncattr(name)
 *         else:
 */
  __pyx_t_1 = __Pyx_GetName(__pyx_m, __pyx_n_s___private_atts); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1249; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = (__Pyx_NegateNonNeg(PySequence_Contains(__pyx_t_1, __pyx_v_name))); if (unlikely(__pyx_t_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1249; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  if (__pyx_t_2) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1250
 *         # if it's a netCDF attribute, remove it
 *         if name not in _private_atts:
 *             self.delncattr(name)             # <<<<<<<<<<<<<<
 *         else:
 *             raise AttributeError(
 */
    __pyx_t_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s__delncattr); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1250; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1250; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_INCREF(__pyx_v_name);
    PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_v_name);
    __Pyx_GIVEREF(__pyx_v_name);
    __pyx_t_4 = PyObject_Call(__pyx_t_1, __pyx_t_3, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1250; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    goto __pyx_L5;
  }
  /*else*/ {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1253
 *         else:
 *             raise AttributeError(
 *             "'%s' is one of the reserved attributes %s, cannot delete. Use delncattr instead." % (name, tuple(_private_atts)))             # <<<<<<<<<<<<<<
 * 
 *     def __setattr__(self,name,value):
 */
    __pyx_t_4 = __Pyx_GetName(__pyx_m, __pyx_n_s___private_atts); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1253; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1253; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_4);
    __Pyx_GIVEREF(__pyx_t_4);
    __pyx_t_4 = 0;
    __pyx_t_4 = PyObject_Call(((PyObject *)((PyObject*)&PyTuple_Type)), __pyx_t_3, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1253; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1253; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_INCREF(__pyx_v_name);
    PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_v_name);
    __Pyx_GIVEREF(__pyx_v_name);
    PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_t_4);
    __Pyx_GIVEREF(__pyx_t_4);
    __pyx_t_4 = 0;
    __pyx_t_4 = PyNumber_Remainder(((PyObject *)__pyx_kp_s_16), __pyx_t_3); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1253; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(((PyObject *)__pyx_t_4));
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1252; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    PyTuple_SET_ITEM(__pyx_t_3, 0, ((PyObject *)__pyx_t_4));
    __Pyx_GIVEREF(((PyObject *)__pyx_t_4));
    __pyx_t_4 = 0;
    __pyx_t_4 = PyObject_Call(__pyx_builtin_AttributeError, __pyx_t_3, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1252; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_Raise(__pyx_t_4, 0, 0);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1252; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  __pyx_L5:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("netCDF3.Variable.__delattr__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1255
 *             "'%s' is one of the reserved attributes %s, cannot delete. Use delncattr instead." % (name, tuple(_private_atts)))
 * 
 *     def __setattr__(self,name,value):             # <<<<<<<<<<<<<<
 *         # if name in _private_atts, it is stored at the python
 *         # level and not in the netCDF file.
 */

static int __pyx_pf_7netCDF3_8Variable___setattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name, PyObject *__pyx_v_value); /*proto*/
static int __pyx_pf_7netCDF3_8Variable___setattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name, PyObject *__pyx_v_value) {
  int __pyx_r;
  PyObject *__pyx_t_1 = NULL;
  int __pyx_t_2;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  int __pyx_t_5;
  __Pyx_RefNannySetupContext("__setattr__");
  __Pyx_INCREF(__pyx_v_value);

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1258
 *         # if name in _private_atts, it is stored at the python
 *         # level and not in the netCDF file.
 *         if name not in _private_atts:             # <<<<<<<<<<<<<<
 *             # if setting _FillValue, make sure value
 *             # has same type as variable.
 */
  __pyx_t_1 = __Pyx_GetName(__pyx_m, __pyx_n_s___private_atts); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1258; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = (__Pyx_NegateNonNeg(PySequence_Contains(__pyx_t_1, __pyx_v_name))); if (unlikely(__pyx_t_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1258; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  if (__pyx_t_2) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1261
 *             # if setting _FillValue, make sure value
 *             # has same type as variable.
 *             if name == '_FillValue':             # <<<<<<<<<<<<<<
 *                 value = numpy.array(value, self.dtype)
 *             self.setncattr(name, value)
 */
    __pyx_t_1 = PyObject_RichCompare(__pyx_v_name, ((PyObject *)__pyx_n_s___FillValue), Py_EQ); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1261; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1261; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    if (__pyx_t_2) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1262
 *             # has same type as variable.
 *             if name == '_FillValue':
 *                 value = numpy.array(value, self.dtype)             # <<<<<<<<<<<<<<
 *             self.setncattr(name, value)
 *         elif not name.endswith('__'):
 */
      __pyx_t_1 = __Pyx_GetName(__pyx_m, __pyx_n_s__numpy); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1262; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      __pyx_t_3 = PyObject_GetAttr(__pyx_t_1, __pyx_n_s__array); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1262; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = PyTuple_New(2); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1262; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_INCREF(__pyx_v_value);
      PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v_value);
      __Pyx_GIVEREF(__pyx_v_value);
      __Pyx_INCREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype);
      PyTuple_SET_ITEM(__pyx_t_1, 1, ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype);
      __Pyx_GIVEREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype);
      __pyx_t_4 = PyObject_Call(__pyx_t_3, __pyx_t_1, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1262; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __Pyx_DECREF(__pyx_v_value);
      __pyx_v_value = __pyx_t_4;
      __pyx_t_4 = 0;
      goto __pyx_L6;
    }
    __pyx_L6:;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1263
 *             if name == '_FillValue':
 *                 value = numpy.array(value, self.dtype)
 *             self.setncattr(name, value)             # <<<<<<<<<<<<<<
 *         elif not name.endswith('__'):
 *             if hasattr(self,name):
 */
    __pyx_t_4 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s__setncattr); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1263; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_1 = PyTuple_New(2); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1263; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_INCREF(__pyx_v_name);
    PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v_name);
    __Pyx_GIVEREF(__pyx_v_name);
    __Pyx_INCREF(__pyx_v_value);
    PyTuple_SET_ITEM(__pyx_t_1, 1, __pyx_v_value);
    __Pyx_GIVEREF(__pyx_v_value);
    __pyx_t_3 = PyObject_Call(__pyx_t_4, __pyx_t_1, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1263; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    goto __pyx_L5;
  }

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1264
 *                 value = numpy.array(value, self.dtype)
 *             self.setncattr(name, value)
 *         elif not name.endswith('__'):             # <<<<<<<<<<<<<<
 *             if hasattr(self,name):
 *                 raise AttributeError(
 */
  __pyx_t_3 = PyObject_GetAttr(__pyx_v_name, __pyx_n_s__endswith); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1264; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1264; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_INCREF(((PyObject *)__pyx_n_s____));
  PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject *)__pyx_n_s____));
  __Pyx_GIVEREF(((PyObject *)__pyx_n_s____));
  __pyx_t_4 = PyObject_Call(__pyx_t_3, __pyx_t_1, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1264; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely(__pyx_t_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1264; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_5 = (!__pyx_t_2);
  if (__pyx_t_5) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1265
 *             self.setncattr(name, value)
 *         elif not name.endswith('__'):
 *             if hasattr(self,name):             # <<<<<<<<<<<<<<
 *                 raise AttributeError(
 *             "'%s' is one of the reserved attributes %s, cannot rebind. Use setncattr instead." % (name, tuple(_private_atts)))
 */
    __pyx_t_5 = PyObject_HasAttr(__pyx_v_self, __pyx_v_name); if (unlikely(__pyx_t_5 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1265; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (__pyx_t_5) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1267
 *             if hasattr(self,name):
 *                 raise AttributeError(
 *             "'%s' is one of the reserved attributes %s, cannot rebind. Use setncattr instead." % (name, tuple(_private_atts)))             # <<<<<<<<<<<<<<
 *             else:
 *                 self.__dict__[name]=value
 */
      __pyx_t_4 = __Pyx_GetName(__pyx_m, __pyx_n_s___private_atts); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1267; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1267; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_t_4);
      __Pyx_GIVEREF(__pyx_t_4);
      __pyx_t_4 = 0;
      __pyx_t_4 = PyObject_Call(((PyObject *)((PyObject*)&PyTuple_Type)), __pyx_t_1, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1267; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = PyTuple_New(2); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1267; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_INCREF(__pyx_v_name);
      PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v_name);
      __Pyx_GIVEREF(__pyx_v_name);
      PyTuple_SET_ITEM(__pyx_t_1, 1, __pyx_t_4);
      __Pyx_GIVEREF(__pyx_t_4);
      __pyx_t_4 = 0;
      __pyx_t_4 = PyNumber_Remainder(((PyObject *)__pyx_kp_s_17), __pyx_t_1); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1267; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(((PyObject *)__pyx_t_4));
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1266; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject *)__pyx_t_4));
      __Pyx_GIVEREF(((PyObject *)__pyx_t_4));
      __pyx_t_4 = 0;
      __pyx_t_4 = PyObject_Call(__pyx_builtin_AttributeError, __pyx_t_1, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1266; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __Pyx_Raise(__pyx_t_4, 0, 0);
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1266; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L7;
    }
    /*else*/ {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1269
 *             "'%s' is one of the reserved attributes %s, cannot rebind. Use setncattr instead." % (name, tuple(_private_atts)))
 *             else:
 *                 self.__dict__[name]=value             # <<<<<<<<<<<<<<
 * 
 *     def __getattr__(self,name):
 */
      __pyx_t_4 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s____dict__); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1269; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      if (PyObject_SetItem(__pyx_t_4, __pyx_v_name, __pyx_v_value) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1269; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    }
    __pyx_L7:;
    goto __pyx_L5;
  }
  __pyx_L5:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("netCDF3.Variable.__setattr__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_value);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1271
 *                 self.__dict__[name]=value
 * 
 *     def __getattr__(self,name):             # <<<<<<<<<<<<<<
 *         # if name in _private_atts, it is stored at the python
 *         # level and not in the netCDF file.
 */

static PyObject *__pyx_pf_7netCDF3_8Variable___getattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name); /*proto*/
static PyObject *__pyx_pf_7netCDF3_8Variable___getattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name) {
  PyObject *__pyx_v_names;
  PyObject *__pyx_v_values;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  int __pyx_t_4;
  int __pyx_t_5;
  int __pyx_t_6;
  Py_ssize_t __pyx_t_7;
  int __pyx_t_8;
  __Pyx_RefNannySetupContext("__getattr__");
  __Pyx_INCREF(__pyx_v_name);
  __pyx_v_names = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_values = ((PyObject *)Py_None); __Pyx_INCREF(Py_None);

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1274
 *         # if name in _private_atts, it is stored at the python
 *         # level and not in the netCDF file.
 *         if name.startswith('__') and name.endswith('__'):             # <<<<<<<<<<<<<<
 *             # if __dict__ requested, return a dict with netCDF attributes.
 *             if name == '__dict__':
 */
  __pyx_t_1 = PyObject_GetAttr(__pyx_v_name, __pyx_n_s__startswith); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1274; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1274; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_INCREF(((PyObject *)__pyx_n_s____));
  PyTuple_SET_ITEM(__pyx_t_2, 0, ((PyObject *)__pyx_n_s____));
  __Pyx_GIVEREF(((PyObject *)__pyx_n_s____));
  __pyx_t_3 = PyObject_Call(__pyx_t_1, __pyx_t_2, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1274; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1274; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  if (__pyx_t_4) {
    __pyx_t_3 = PyObject_GetAttr(__pyx_v_name, __pyx_n_s__endswith); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1274; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1274; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_INCREF(((PyObject *)__pyx_n_s____));
    PyTuple_SET_ITEM(__pyx_t_2, 0, ((PyObject *)__pyx_n_s____));
    __Pyx_GIVEREF(((PyObject *)__pyx_n_s____));
    __pyx_t_1 = PyObject_Call(__pyx_t_3, __pyx_t_2, NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1274; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_5 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_5 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1274; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_6 = __pyx_t_5;
  } else {
    __pyx_t_6 = __pyx_t_4;
  }
  if (__pyx_t_6) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1276
 *         if name.startswith('__') and name.endswith('__'):
 *             # if __dict__ requested, return a dict with netCDF attributes.
 *             if name == '__dict__':             # <<<<<<<<<<<<<<
 *                 names = self.ncattrs()
 *                 values = []
 */
    __pyx_t_1 = PyObject_RichCompare(__pyx_v_name, ((PyObject *)__pyx_n_s____dict__), Py_EQ); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1276; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_6 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1276; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    if (__pyx_t_6) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1277
 *             # if __dict__ requested, return a dict with netCDF attributes.
 *             if name == '__dict__':
 *                 names = self.ncattrs()             # <<<<<<<<<<<<<<
 *                 values = []
 *                 for name in names:
 */
      __pyx_t_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s__ncattrs); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1277; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      __pyx_t_2 = PyObject_Call(__pyx_t_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1277; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_2);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __Pyx_DECREF(__pyx_v_names);
      __pyx_v_names = __pyx_t_2;
      __pyx_t_2 = 0;

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1278
 *             if name == '__dict__':
 *                 names = self.ncattrs()
 *                 values = []             # <<<<<<<<<<<<<<
 *                 for name in names:
 *                     values.append(_get_att(self._grpid, self._varid, name))
 */
      __pyx_t_2 = PyList_New(0); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1278; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(((PyObject *)__pyx_t_2));
      __Pyx_DECREF(((PyObject *)__pyx_v_values));
      __pyx_v_values = __pyx_t_2;
      __pyx_t_2 = 0;

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1279
 *                 names = self.ncattrs()
 *                 values = []
 *                 for name in names:             # <<<<<<<<<<<<<<
 *                     values.append(_get_att(self._grpid, self._varid, name))
 *                 return OrderedDict(zip(names,values))
 */
      if (PyList_CheckExact(__pyx_v_names) || PyTuple_CheckExact(__pyx_v_names)) {
        __pyx_t_7 = 0; __pyx_t_2 = __pyx_v_names; __Pyx_INCREF(__pyx_t_2);
      } else {
        __pyx_t_7 = -1; __pyx_t_2 = PyObject_GetIter(__pyx_v_names); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1279; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_2);
      }
      for (;;) {
        if (likely(PyList_CheckExact(__pyx_t_2))) {
          if (__pyx_t_7 >= PyList_GET_SIZE(__pyx_t_2)) break;
          __pyx_t_1 = PyList_GET_ITEM(__pyx_t_2, __pyx_t_7); __Pyx_INCREF(__pyx_t_1); __pyx_t_7++;
        } else if (likely(PyTuple_CheckExact(__pyx_t_2))) {
          if (__pyx_t_7 >= PyTuple_GET_SIZE(__pyx_t_2)) break;
          __pyx_t_1 = PyTuple_GET_ITEM(__pyx_t_2, __pyx_t_7); __Pyx_INCREF(__pyx_t_1); __pyx_t_7++;
        } else {
          __pyx_t_1 = PyIter_Next(__pyx_t_2);
          if (!__pyx_t_1) {
            if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1279; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            break;
          }
          __Pyx_GOTREF(__pyx_t_1);
        }
        __Pyx_DECREF(__pyx_v_name);
        __pyx_v_name = __pyx_t_1;
        __pyx_t_1 = 0;

        /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1280
 *                 values = []
 *                 for name in names:
 *                     values.append(_get_att(self._grpid, self._varid, name))             # <<<<<<<<<<<<<<
 *                 return OrderedDict(zip(names,values))
 *             else:
 */
        if (unlikely(__pyx_v_values == Py_None)) {
          PyErr_SetString(PyExc_AttributeError, "'NoneType' object has no attribute 'append'"); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1280; __pyx_clineno = __LINE__; goto __pyx_L1_error;} 
        }
        __pyx_t_1 = __pyx_f_7netCDF3__get_att(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grpid, ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_varid, __pyx_v_name); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1280; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_1);
        __pyx_t_8 = PyList_Append(((PyObject *)__pyx_v_values), __pyx_t_1); if (unlikely(__pyx_t_8 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1280; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      }
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1281
 *                 for name in names:
 *                     values.append(_get_att(self._grpid, self._varid, name))
 *                 return OrderedDict(zip(names,values))             # <<<<<<<<<<<<<<
 *             else:
 *                 raise AttributeError
 */
      __Pyx_XDECREF(__pyx_r);
      __pyx_t_2 = __Pyx_GetName(__pyx_m, __pyx_n_s__OrderedDict); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1281; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_2);
      __pyx_t_1 = PyTuple_New(2); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1281; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_INCREF(__pyx_v_names);
      PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v_names);
      __Pyx_GIVEREF(__pyx_v_names);
      __Pyx_INCREF(((PyObject *)__pyx_v_values));
      PyTuple_SET_ITEM(__pyx_t_1, 1, ((PyObject *)__pyx_v_values));
      __Pyx_GIVEREF(((PyObject *)__pyx_v_values));
      __pyx_t_3 = PyObject_Call(__pyx_builtin_zip, __pyx_t_1, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1281; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1281; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_t_3);
      __Pyx_GIVEREF(__pyx_t_3);
      __pyx_t_3 = 0;
      __pyx_t_3 = PyObject_Call(__pyx_t_2, __pyx_t_1, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1281; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_r = __pyx_t_3;
      __pyx_t_3 = 0;
      goto __pyx_L0;
      goto __pyx_L6;
    }
    /*else*/ {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1283
 *                 return OrderedDict(zip(names,values))
 *             else:
 *                 raise AttributeError             # <<<<<<<<<<<<<<
 *         elif name in _private_atts:
 *             return self.__dict__[name]
 */
      __Pyx_Raise(__pyx_builtin_AttributeError, 0, 0);
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1283; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    }
    __pyx_L6:;
    goto __pyx_L5;
  }

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1284
 *             else:
 *                 raise AttributeError
 *         elif name in _private_atts:             # <<<<<<<<<<<<<<
 *             return self.__dict__[name]
 *         else:
 */
  __pyx_t_3 = __Pyx_GetName(__pyx_m, __pyx_n_s___private_atts); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1284; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_6 = ((PySequence_Contains(__pyx_t_3, __pyx_v_name))); if (unlikely(__pyx_t_6 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1284; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  if (__pyx_t_6) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1285
 *                 raise AttributeError
 *         elif name in _private_atts:
 *             return self.__dict__[name]             # <<<<<<<<<<<<<<
 *         else:
 *             return self.getncattr(name)
 */
    __Pyx_XDECREF(__pyx_r);
    __pyx_t_3 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s____dict__); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1285; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_1 = PyObject_GetItem(__pyx_t_3, __pyx_v_name); if (!__pyx_t_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1285; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_r = __pyx_t_1;
    __pyx_t_1 = 0;
    goto __pyx_L0;
    goto __pyx_L5;
  }
  /*else*/ {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1287
 *             return self.__dict__[name]
 *         else:
 *             return self.getncattr(name)             # <<<<<<<<<<<<<<
 * 
 *     def __getitem__(self, elem):
 */
    __Pyx_XDECREF(__pyx_r);
    __pyx_t_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s__getncattr); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1287; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1287; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_INCREF(__pyx_v_name);
    PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_v_name);
    __Pyx_GIVEREF(__pyx_v_name);
    __pyx_t_2 = PyObject_Call(__pyx_t_1, __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1287; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_r = __pyx_t_2;
    __pyx_t_2 = 0;
    goto __pyx_L0;
  }
  __pyx_L5:;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("netCDF3.Variable.__getattr__");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_names);
  __Pyx_DECREF(__pyx_v_values);
  __Pyx_DECREF(__pyx_v_name);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1289
 *             return self.getncattr(name)
 * 
 *     def __getitem__(self, elem):             # <<<<<<<<<<<<<<
 *         # This special method is used to index the netCDF variable
 *         # using the "extended slice syntax". The extended slice syntax
 */

static PyObject *__pyx_pf_7netCDF3_8Variable___getitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_elem); /*proto*/
static PyObject *__pyx_pf_7netCDF3_8Variable___getitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_elem) {
  PyObject *__pyx_v_start;
  PyObject *__pyx_v_count;
  PyObject *__pyx_v_stride;
  PyObject *__pyx_v_put_ind;
  PyObject *__pyx_v_datashape;
  PyObject *__pyx_v_data;
  PyObject *__pyx_v_squeeze;
  PyObject *__pyx_v_i;
  PyObject *__pyx_v_n;
  PyObject *__pyx_v_a;
  PyObject *__pyx_v_b;
  PyObject *__pyx_v_c;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  PyObject *__pyx_t_6 = NULL;
  Py_ssize_t __pyx_t_7;
  int __pyx_t_8;
  int __pyx_t_9;
  int __pyx_t_10;
  PyObject *__pyx_t_11 = NULL;
  int __pyx_t_12;
  __Pyx_RefNannySetupContext("__getitem__");
  __pyx_v_start = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_count = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_stride = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_put_ind = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_datashape = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_data = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_squeeze = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_i = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_n = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_a = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_b = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_c = Py_None; __Pyx_INCREF(Py_None);

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1295
 *         # arguments to the nc_get_var() function, and is much more easy
 *         # to use.
 *         start, count, stride, put_ind = _StartCountStride(elem,self.shape)             # <<<<<<<<<<<<<<
 *         datashape = _out_array_shape(count)
 *         data = numpy.empty(datashape, dtype=self.dtype)
 */
  __pyx_t_1 = __Pyx_GetName(__pyx_m, __pyx_n_s___StartCountStride); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1295; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s__shape); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1295; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1295; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_INCREF(__pyx_v_elem);
  PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_v_elem);
  __Pyx_GIVEREF(__pyx_v_elem);
  PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_t_2);
  __Pyx_GIVEREF(__pyx_t_2);
  __pyx_t_2 = 0;
  __pyx_t_2 = PyObject_Call(__pyx_t_1, __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1295; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  if (PyTuple_CheckExact(__pyx_t_2) && likely(PyTuple_GET_SIZE(__pyx_t_2) == 4)) {
    PyObject* tuple = __pyx_t_2;
    __pyx_t_3 = PyTuple_GET_ITEM(tuple, 0); __Pyx_INCREF(__pyx_t_3);
    __pyx_t_1 = PyTuple_GET_ITEM(tuple, 1); __Pyx_INCREF(__pyx_t_1);
    __pyx_t_4 = PyTuple_GET_ITEM(tuple, 2); __Pyx_INCREF(__pyx_t_4);
    __pyx_t_5 = PyTuple_GET_ITEM(tuple, 3); __Pyx_INCREF(__pyx_t_5);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_DECREF(__pyx_v_start);
    __pyx_v_start = __pyx_t_3;
    __pyx_t_3 = 0;
    __Pyx_DECREF(__pyx_v_count);
    __pyx_v_count = __pyx_t_1;
    __pyx_t_1 = 0;
    __Pyx_DECREF(__pyx_v_stride);
    __pyx_v_stride = __pyx_t_4;
    __pyx_t_4 = 0;
    __Pyx_DECREF(__pyx_v_put_ind);
    __pyx_v_put_ind = __pyx_t_5;
    __pyx_t_5 = 0;
  } else {
    __pyx_t_6 = PyObject_GetIter(__pyx_t_2); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1295; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_6);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_3 = __Pyx_UnpackItem(__pyx_t_6, 0); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1295; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_1 = __Pyx_UnpackItem(__pyx_t_6, 1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1295; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_4 = __Pyx_UnpackItem(__pyx_t_6, 2); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1295; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_5 = __Pyx_UnpackItem(__pyx_t_6, 3); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1295; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_5);
    if (__Pyx_EndUnpack(__pyx_t_6, 4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1295; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    __Pyx_DECREF(__pyx_v_start);
    __pyx_v_start = __pyx_t_3;
    __pyx_t_3 = 0;
    __Pyx_DECREF(__pyx_v_count);
    __pyx_v_count = __pyx_t_1;
    __pyx_t_1 = 0;
    __Pyx_DECREF(__pyx_v_stride);
    __pyx_v_stride = __pyx_t_4;
    __pyx_t_4 = 0;
    __Pyx_DECREF(__pyx_v_put_ind);
    __pyx_v_put_ind = __pyx_t_5;
    __pyx_t_5 = 0;
  }

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1296
 *         # to use.
 *         start, count, stride, put_ind = _StartCountStride(elem,self.shape)
 *         datashape = _out_array_shape(count)             # <<<<<<<<<<<<<<
 *         data = numpy.empty(datashape, dtype=self.dtype)
 * 
 */
  __pyx_t_2 = __Pyx_GetName(__pyx_m, __pyx_n_s___out_array_shape); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1296; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_5 = PyTuple_New(1); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1296; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_INCREF(__pyx_v_count);
  PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_v_count);
  __Pyx_GIVEREF(__pyx_v_count);
  __pyx_t_4 = PyObject_Call(__pyx_t_2, __pyx_t_5, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1296; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __Pyx_DECREF(__pyx_v_datashape);
  __pyx_v_datashape = __pyx_t_4;
  __pyx_t_4 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1297
 *         start, count, stride, put_ind = _StartCountStride(elem,self.shape)
 *         datashape = _out_array_shape(count)
 *         data = numpy.empty(datashape, dtype=self.dtype)             # <<<<<<<<<<<<<<
 * 
 *         # Determine which dimensions need to be squeezed
 */
  __pyx_t_4 = __Pyx_GetName(__pyx_m, __pyx_n_s__numpy); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1297; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __pyx_t_5 = PyObject_GetAttr(__pyx_t_4, __pyx_n_s__empty); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1297; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = PyTuple_New(1); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1297; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_INCREF(__pyx_v_datashape);
  PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_v_datashape);
  __Pyx_GIVEREF(__pyx_v_datashape);
  __pyx_t_2 = PyDict_New(); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1297; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_2));
  if (PyDict_SetItem(__pyx_t_2, ((PyObject *)__pyx_n_s__dtype), ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1297; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_t_1 = PyEval_CallObjectWithKeywords(__pyx_t_5, __pyx_t_4, ((PyObject *)__pyx_t_2)); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1297; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __Pyx_DECREF(((PyObject *)__pyx_t_2)); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_v_data);
  __pyx_v_data = __pyx_t_1;
  __pyx_t_1 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1303
 *         # The convention used is that for those cases,
 *         # put_ind for this dimension is set to -1 by _StartCountStride.
 *         squeeze = data.ndim * [slice(None),]             # <<<<<<<<<<<<<<
 *         for i,n in enumerate(put_ind.shape[:-1]):
 *             if n == 1 and put_ind[...,i].ravel()[0] == -1:
 */
  __pyx_t_1 = PyObject_GetAttr(__pyx_v_data, __pyx_n_s__ndim); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1303; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1303; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_INCREF(Py_None);
  PyTuple_SET_ITEM(__pyx_t_2, 0, Py_None);
  __Pyx_GIVEREF(Py_None);
  __pyx_t_4 = PyObject_Call(((PyObject *)((PyObject*)&PySlice_Type)), __pyx_t_2, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1303; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = PyList_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1303; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_2));
  PyList_SET_ITEM(__pyx_t_2, 0, __pyx_t_4);
  __Pyx_GIVEREF(__pyx_t_4);
  __pyx_t_4 = 0;
  __pyx_t_4 = PyNumber_Multiply(__pyx_t_1, ((PyObject *)__pyx_t_2)); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1303; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(((PyObject *)__pyx_t_2)); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_v_squeeze);
  __pyx_v_squeeze = __pyx_t_4;
  __pyx_t_4 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1304
 *         # put_ind for this dimension is set to -1 by _StartCountStride.
 *         squeeze = data.ndim * [slice(None),]
 *         for i,n in enumerate(put_ind.shape[:-1]):             # <<<<<<<<<<<<<<
 *             if n == 1 and put_ind[...,i].ravel()[0] == -1:
 *                 squeeze[i] = 0
 */
  __Pyx_INCREF(__pyx_int_0);
  __pyx_t_4 = __pyx_int_0;
  __pyx_t_2 = PyObject_GetAttr(__pyx_v_put_ind, __pyx_n_s__shape); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1304; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_1 = PySequence_GetSlice(__pyx_t_2, 0, -1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1304; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  if (PyList_CheckExact(__pyx_t_1) || PyTuple_CheckExact(__pyx_t_1)) {
    __pyx_t_7 = 0; __pyx_t_2 = __pyx_t_1; __Pyx_INCREF(__pyx_t_2);
  } else {
    __pyx_t_7 = -1; __pyx_t_2 = PyObject_GetIter(__pyx_t_1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1304; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
  }
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_t_2))) {
      if (__pyx_t_7 >= PyList_GET_SIZE(__pyx_t_2)) break;
      __pyx_t_1 = PyList_GET_ITEM(__pyx_t_2, __pyx_t_7); __Pyx_INCREF(__pyx_t_1); __pyx_t_7++;
    } else if (likely(PyTuple_CheckExact(__pyx_t_2))) {
      if (__pyx_t_7 >= PyTuple_GET_SIZE(__pyx_t_2)) break;
      __pyx_t_1 = PyTuple_GET_ITEM(__pyx_t_2, __pyx_t_7); __Pyx_INCREF(__pyx_t_1); __pyx_t_7++;
    } else {
      __pyx_t_1 = PyIter_Next(__pyx_t_2);
      if (!__pyx_t_1) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1304; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
      __Pyx_GOTREF(__pyx_t_1);
    }
    __Pyx_DECREF(__pyx_v_n);
    __pyx_v_n = __pyx_t_1;
    __pyx_t_1 = 0;
    __Pyx_INCREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_v_i);
    __pyx_v_i = __pyx_t_4;
    __pyx_t_1 = PyNumber_Add(__pyx_t_4, __pyx_int_1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1304; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_4);
    __pyx_t_4 = __pyx_t_1;
    __pyx_t_1 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1305
 *         squeeze = data.ndim * [slice(None),]
 *         for i,n in enumerate(put_ind.shape[:-1]):
 *             if n == 1 and put_ind[...,i].ravel()[0] == -1:             # <<<<<<<<<<<<<<
 *                 squeeze[i] = 0
 * 
 */
    __pyx_t_1 = PyObject_RichCompare(__pyx_v_n, __pyx_int_1, Py_EQ); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1305; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_8 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_8 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1305; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    if (__pyx_t_8) {
      __pyx_t_1 = PyTuple_New(2); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1305; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_INCREF(Py_Ellipsis);
      PyTuple_SET_ITEM(__pyx_t_1, 0, Py_Ellipsis);
      __Pyx_GIVEREF(Py_Ellipsis);
      __Pyx_INCREF(__pyx_v_i);
      PyTuple_SET_ITEM(__pyx_t_1, 1, __pyx_v_i);
      __Pyx_GIVEREF(__pyx_v_i);
      __pyx_t_5 = PyObject_GetItem(__pyx_v_put_ind, __pyx_t_1); if (!__pyx_t_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1305; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = PyObject_GetAttr(__pyx_t_5, __pyx_n_s__ravel); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1305; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_5 = PyObject_Call(__pyx_t_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1305; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = __Pyx_GetItemInt(__pyx_t_5, 0, sizeof(long), PyInt_FromLong); if (!__pyx_t_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1305; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_5 = PyObject_RichCompare(__pyx_t_1, __pyx_int_neg_1, Py_EQ); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1305; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_9 = __Pyx_PyObject_IsTrue(__pyx_t_5); if (unlikely(__pyx_t_9 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1305; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_10 = __pyx_t_9;
    } else {
      __pyx_t_10 = __pyx_t_8;
    }
    if (__pyx_t_10) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1306
 *         for i,n in enumerate(put_ind.shape[:-1]):
 *             if n == 1 and put_ind[...,i].ravel()[0] == -1:
 *                 squeeze[i] = 0             # <<<<<<<<<<<<<<
 * 
 *         # Reshape the arrays so we can iterate over them.
 */
      if (PyObject_SetItem(__pyx_v_squeeze, __pyx_v_i, __pyx_int_0) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1306; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L7;
    }
    __pyx_L7:;
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1309
 * 
 *         # Reshape the arrays so we can iterate over them.
 *         start = start.reshape((-1, self.ndim or 1))             # <<<<<<<<<<<<<<
 *         count = count.reshape((-1, self.ndim or 1))
 *         stride = stride.reshape((-1, self.ndim or 1))
 */
  __pyx_t_4 = PyObject_GetAttr(__pyx_v_start, __pyx_n_s__reshape); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1309; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __pyx_t_10 = __Pyx_PyObject_IsTrue(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->ndim); if (unlikely(__pyx_t_10 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1309; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (!__pyx_t_10) {
    __Pyx_INCREF(__pyx_int_1);
    __pyx_t_2 = __pyx_int_1;
  } else {
    __Pyx_INCREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->ndim);
    __pyx_t_2 = ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->ndim;
  }
  __pyx_t_5 = PyTuple_New(2); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1309; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_INCREF(__pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_int_neg_1);
  __Pyx_GIVEREF(__pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_t_5, 1, __pyx_t_2);
  __Pyx_GIVEREF(__pyx_t_2);
  __pyx_t_2 = 0;
  __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1309; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_5);
  __Pyx_GIVEREF(__pyx_t_5);
  __pyx_t_5 = 0;
  __pyx_t_5 = PyObject_Call(__pyx_t_4, __pyx_t_2, NULL); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1309; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_v_start);
  __pyx_v_start = __pyx_t_5;
  __pyx_t_5 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1310
 *         # Reshape the arrays so we can iterate over them.
 *         start = start.reshape((-1, self.ndim or 1))
 *         count = count.reshape((-1, self.ndim or 1))             # <<<<<<<<<<<<<<
 *         stride = stride.reshape((-1, self.ndim or 1))
 *         put_ind = put_ind.reshape((-1, self.ndim or 1))
 */
  __pyx_t_5 = PyObject_GetAttr(__pyx_v_count, __pyx_n_s__reshape); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1310; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __pyx_t_10 = __Pyx_PyObject_IsTrue(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->ndim); if (unlikely(__pyx_t_10 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1310; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (!__pyx_t_10) {
    __Pyx_INCREF(__pyx_int_1);
    __pyx_t_2 = __pyx_int_1;
  } else {
    __Pyx_INCREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->ndim);
    __pyx_t_2 = ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->ndim;
  }
  __pyx_t_4 = PyTuple_New(2); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1310; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_INCREF(__pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_int_neg_1);
  __Pyx_GIVEREF(__pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_t_4, 1, __pyx_t_2);
  __Pyx_GIVEREF(__pyx_t_2);
  __pyx_t_2 = 0;
  __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1310; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_4);
  __Pyx_GIVEREF(__pyx_t_4);
  __pyx_t_4 = 0;
  __pyx_t_4 = PyObject_Call(__pyx_t_5, __pyx_t_2, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1310; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_v_count);
  __pyx_v_count = __pyx_t_4;
  __pyx_t_4 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1311
 *         start = start.reshape((-1, self.ndim or 1))
 *         count = count.reshape((-1, self.ndim or 1))
 *         stride = stride.reshape((-1, self.ndim or 1))             # <<<<<<<<<<<<<<
 *         put_ind = put_ind.reshape((-1, self.ndim or 1))
 * 
 */
  __pyx_t_4 = PyObject_GetAttr(__pyx_v_stride, __pyx_n_s__reshape); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1311; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __pyx_t_10 = __Pyx_PyObject_IsTrue(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->ndim); if (unlikely(__pyx_t_10 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1311; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (!__pyx_t_10) {
    __Pyx_INCREF(__pyx_int_1);
    __pyx_t_2 = __pyx_int_1;
  } else {
    __Pyx_INCREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->ndim);
    __pyx_t_2 = ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->ndim;
  }
  __pyx_t_5 = PyTuple_New(2); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1311; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_INCREF(__pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_int_neg_1);
  __Pyx_GIVEREF(__pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_t_5, 1, __pyx_t_2);
  __Pyx_GIVEREF(__pyx_t_2);
  __pyx_t_2 = 0;
  __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1311; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_5);
  __Pyx_GIVEREF(__pyx_t_5);
  __pyx_t_5 = 0;
  __pyx_t_5 = PyObject_Call(__pyx_t_4, __pyx_t_2, NULL); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1311; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_v_stride);
  __pyx_v_stride = __pyx_t_5;
  __pyx_t_5 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1312
 *         count = count.reshape((-1, self.ndim or 1))
 *         stride = stride.reshape((-1, self.ndim or 1))
 *         put_ind = put_ind.reshape((-1, self.ndim or 1))             # <<<<<<<<<<<<<<
 * 
 *         # Fill output array with data chunks.
 */
  __pyx_t_5 = PyObject_GetAttr(__pyx_v_put_ind, __pyx_n_s__reshape); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1312; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __pyx_t_10 = __Pyx_PyObject_IsTrue(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->ndim); if (unlikely(__pyx_t_10 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1312; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (!__pyx_t_10) {
    __Pyx_INCREF(__pyx_int_1);
    __pyx_t_2 = __pyx_int_1;
  } else {
    __Pyx_INCREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->ndim);
    __pyx_t_2 = ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->ndim;
  }
  __pyx_t_4 = PyTuple_New(2); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1312; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_INCREF(__pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_int_neg_1);
  __Pyx_GIVEREF(__pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_t_4, 1, __pyx_t_2);
  __Pyx_GIVEREF(__pyx_t_2);
  __pyx_t_2 = 0;
  __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1312; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_4);
  __Pyx_GIVEREF(__pyx_t_4);
  __pyx_t_4 = 0;
  __pyx_t_4 = PyObject_Call(__pyx_t_5, __pyx_t_2, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1312; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_v_put_ind);
  __pyx_v_put_ind = __pyx_t_4;
  __pyx_t_4 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1315
 * 
 *         # Fill output array with data chunks.
 *         for (a,b,c,i) in zip(start, count, stride, put_ind):             # <<<<<<<<<<<<<<
 *             # FIXME:
 *             # this is a workaround so MFDataset slicing works
 */
  __pyx_t_4 = PyTuple_New(4); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1315; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_INCREF(__pyx_v_start);
  PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_v_start);
  __Pyx_GIVEREF(__pyx_v_start);
  __Pyx_INCREF(__pyx_v_count);
  PyTuple_SET_ITEM(__pyx_t_4, 1, __pyx_v_count);
  __Pyx_GIVEREF(__pyx_v_count);
  __Pyx_INCREF(__pyx_v_stride);
  PyTuple_SET_ITEM(__pyx_t_4, 2, __pyx_v_stride);
  __Pyx_GIVEREF(__pyx_v_stride);
  __Pyx_INCREF(__pyx_v_put_ind);
  PyTuple_SET_ITEM(__pyx_t_4, 3, __pyx_v_put_ind);
  __Pyx_GIVEREF(__pyx_v_put_ind);
  __pyx_t_2 = PyObject_Call(__pyx_builtin_zip, __pyx_t_4, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1315; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  if (PyList_CheckExact(__pyx_t_2) || PyTuple_CheckExact(__pyx_t_2)) {
    __pyx_t_7 = 0; __pyx_t_4 = __pyx_t_2; __Pyx_INCREF(__pyx_t_4);
  } else {
    __pyx_t_7 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_t_2); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1315; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_t_4))) {
      if (__pyx_t_7 >= PyList_GET_SIZE(__pyx_t_4)) break;
      __pyx_t_2 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_7); __Pyx_INCREF(__pyx_t_2); __pyx_t_7++;
    } else if (likely(PyTuple_CheckExact(__pyx_t_4))) {
      if (__pyx_t_7 >= PyTuple_GET_SIZE(__pyx_t_4)) break;
      __pyx_t_2 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_7); __Pyx_INCREF(__pyx_t_2); __pyx_t_7++;
    } else {
      __pyx_t_2 = PyIter_Next(__pyx_t_4);
      if (!__pyx_t_2) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1315; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
      __Pyx_GOTREF(__pyx_t_2);
    }
    if (PyTuple_CheckExact(__pyx_t_2) && likely(PyTuple_GET_SIZE(__pyx_t_2) == 4)) {
      PyObject* tuple = __pyx_t_2;
      __pyx_t_5 = PyTuple_GET_ITEM(tuple, 0); __Pyx_INCREF(__pyx_t_5);
      __pyx_t_1 = PyTuple_GET_ITEM(tuple, 1); __Pyx_INCREF(__pyx_t_1);
      __pyx_t_3 = PyTuple_GET_ITEM(tuple, 2); __Pyx_INCREF(__pyx_t_3);
      __pyx_t_6 = PyTuple_GET_ITEM(tuple, 3); __Pyx_INCREF(__pyx_t_6);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __Pyx_DECREF(__pyx_v_a);
      __pyx_v_a = __pyx_t_5;
      __pyx_t_5 = 0;
      __Pyx_DECREF(__pyx_v_b);
      __pyx_v_b = __pyx_t_1;
      __pyx_t_1 = 0;
      __Pyx_DECREF(__pyx_v_c);
      __pyx_v_c = __pyx_t_3;
      __pyx_t_3 = 0;
      __Pyx_DECREF(__pyx_v_i);
      __pyx_v_i = __pyx_t_6;
      __pyx_t_6 = 0;
    } else {
      __pyx_t_11 = PyObject_GetIter(__pyx_t_2); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1315; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_11);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_5 = __Pyx_UnpackItem(__pyx_t_11, 0); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1315; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_5);
      __pyx_t_1 = __Pyx_UnpackItem(__pyx_t_11, 1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1315; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      __pyx_t_3 = __Pyx_UnpackItem(__pyx_t_11, 2); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1315; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __pyx_t_6 = __Pyx_UnpackItem(__pyx_t_11, 3); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1315; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_6);
      if (__Pyx_EndUnpack(__pyx_t_11, 4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1315; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
      __Pyx_DECREF(__pyx_v_a);
      __pyx_v_a = __pyx_t_5;
      __pyx_t_5 = 0;
      __Pyx_DECREF(__pyx_v_b);
      __pyx_v_b = __pyx_t_1;
      __pyx_t_1 = 0;
      __Pyx_DECREF(__pyx_v_c);
      __pyx_v_c = __pyx_t_3;
      __pyx_t_3 = 0;
      __Pyx_DECREF(__pyx_v_i);
      __pyx_v_i = __pyx_t_6;
      __pyx_t_6 = 0;
    }

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1319
 *             # this is a workaround so MFDataset slicing works
 *             # with singleton dimensions.
 *             try:             # <<<<<<<<<<<<<<
 *                 data[tuple(i)] = numpy.squeeze(self._get(a,b,c))
 *             except ValueError:
 */
    {
      PyObject *__pyx_save_exc_type, *__pyx_save_exc_value, *__pyx_save_exc_tb;
      __Pyx_ExceptionSave(&__pyx_save_exc_type, &__pyx_save_exc_value, &__pyx_save_exc_tb);
      __Pyx_XGOTREF(__pyx_save_exc_type);
      __Pyx_XGOTREF(__pyx_save_exc_value);
      __Pyx_XGOTREF(__pyx_save_exc_tb);
      /*try:*/ {

        /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1320
 *             # with singleton dimensions.
 *             try:
 *                 data[tuple(i)] = numpy.squeeze(self._get(a,b,c))             # <<<<<<<<<<<<<<
 *             except ValueError:
 *                 data[tuple(i)] = self._get(a,b,c)
 */
        __pyx_t_2 = __Pyx_GetName(__pyx_m, __pyx_n_s__numpy); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1320; __pyx_clineno = __LINE__; goto __pyx_L10_error;}
        __Pyx_GOTREF(__pyx_t_2);
        __pyx_t_6 = PyObject_GetAttr(__pyx_t_2, __pyx_n_s__squeeze); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1320; __pyx_clineno = __LINE__; goto __pyx_L10_error;}
        __Pyx_GOTREF(__pyx_t_6);
        __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
        __pyx_t_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___get); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1320; __pyx_clineno = __LINE__; goto __pyx_L10_error;}
        __Pyx_GOTREF(__pyx_t_2);
        __pyx_t_3 = PyTuple_New(3); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1320; __pyx_clineno = __LINE__; goto __pyx_L10_error;}
        __Pyx_GOTREF(__pyx_t_3);
        __Pyx_INCREF(__pyx_v_a);
        PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_v_a);
        __Pyx_GIVEREF(__pyx_v_a);
        __Pyx_INCREF(__pyx_v_b);
        PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_v_b);
        __Pyx_GIVEREF(__pyx_v_b);
        __Pyx_INCREF(__pyx_v_c);
        PyTuple_SET_ITEM(__pyx_t_3, 2, __pyx_v_c);
        __Pyx_GIVEREF(__pyx_v_c);
        __pyx_t_1 = PyObject_Call(__pyx_t_2, __pyx_t_3, NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1320; __pyx_clineno = __LINE__; goto __pyx_L10_error;}
        __Pyx_GOTREF(__pyx_t_1);
        __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
        __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
        __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1320; __pyx_clineno = __LINE__; goto __pyx_L10_error;}
        __Pyx_GOTREF(__pyx_t_3);
        PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_1);
        __Pyx_GIVEREF(__pyx_t_1);
        __pyx_t_1 = 0;
        __pyx_t_1 = PyObject_Call(__pyx_t_6, __pyx_t_3, NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1320; __pyx_clineno = __LINE__; goto __pyx_L10_error;}
        __Pyx_GOTREF(__pyx_t_1);
        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
        __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
        __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1320; __pyx_clineno = __LINE__; goto __pyx_L10_error;}
        __Pyx_GOTREF(__pyx_t_3);
        __Pyx_INCREF(__pyx_v_i);
        PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_v_i);
        __Pyx_GIVEREF(__pyx_v_i);
        __pyx_t_6 = PyObject_Call(((PyObject *)((PyObject*)&PyTuple_Type)), __pyx_t_3, NULL); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1320; __pyx_clineno = __LINE__; goto __pyx_L10_error;}
        __Pyx_GOTREF(__pyx_t_6);
        __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
        if (PyObject_SetItem(__pyx_v_data, __pyx_t_6, __pyx_t_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1320; __pyx_clineno = __LINE__; goto __pyx_L10_error;}
        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      }
      __Pyx_XDECREF(__pyx_save_exc_type); __pyx_save_exc_type = 0;
      __Pyx_XDECREF(__pyx_save_exc_value); __pyx_save_exc_value = 0;
      __Pyx_XDECREF(__pyx_save_exc_tb); __pyx_save_exc_tb = 0;
      goto __pyx_L17_try_end;
      __pyx_L10_error:;
      __Pyx_XDECREF(__pyx_t_11); __pyx_t_11 = 0;
      __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
      __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
      __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
      __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1321
 *             try:
 *                 data[tuple(i)] = numpy.squeeze(self._get(a,b,c))
 *             except ValueError:             # <<<<<<<<<<<<<<
 *                 data[tuple(i)] = self._get(a,b,c)
 * 
 */
      __pyx_t_12 = PyErr_ExceptionMatches(__pyx_builtin_ValueError);
      if (__pyx_t_12) {
        __Pyx_AddTraceback("netCDF3.Variable.__getitem__");
        if (__Pyx_GetException(&__pyx_t_1, &__pyx_t_6, &__pyx_t_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1321; __pyx_clineno = __LINE__; goto __pyx_L12_except_error;}
        __Pyx_GOTREF(__pyx_t_1);
        __Pyx_GOTREF(__pyx_t_6);
        __Pyx_GOTREF(__pyx_t_3);

        /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1322
 *                 data[tuple(i)] = numpy.squeeze(self._get(a,b,c))
 *             except ValueError:
 *                 data[tuple(i)] = self._get(a,b,c)             # <<<<<<<<<<<<<<
 * 
 *         # Remove extra dimensions.
 */
        __pyx_t_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___get); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1322; __pyx_clineno = __LINE__; goto __pyx_L12_except_error;}
        __Pyx_GOTREF(__pyx_t_2);
        __pyx_t_5 = PyTuple_New(3); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1322; __pyx_clineno = __LINE__; goto __pyx_L12_except_error;}
        __Pyx_GOTREF(__pyx_t_5);
        __Pyx_INCREF(__pyx_v_a);
        PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_v_a);
        __Pyx_GIVEREF(__pyx_v_a);
        __Pyx_INCREF(__pyx_v_b);
        PyTuple_SET_ITEM(__pyx_t_5, 1, __pyx_v_b);
        __Pyx_GIVEREF(__pyx_v_b);
        __Pyx_INCREF(__pyx_v_c);
        PyTuple_SET_ITEM(__pyx_t_5, 2, __pyx_v_c);
        __Pyx_GIVEREF(__pyx_v_c);
        __pyx_t_11 = PyObject_Call(__pyx_t_2, __pyx_t_5, NULL); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1322; __pyx_clineno = __LINE__; goto __pyx_L12_except_error;}
        __Pyx_GOTREF(__pyx_t_11);
        __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
        __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
        __pyx_t_5 = PyTuple_New(1); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1322; __pyx_clineno = __LINE__; goto __pyx_L12_except_error;}
        __Pyx_GOTREF(__pyx_t_5);
        __Pyx_INCREF(__pyx_v_i);
        PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_v_i);
        __Pyx_GIVEREF(__pyx_v_i);
        __pyx_t_2 = PyObject_Call(((PyObject *)((PyObject*)&PyTuple_Type)), __pyx_t_5, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1322; __pyx_clineno = __LINE__; goto __pyx_L12_except_error;}
        __Pyx_GOTREF(__pyx_t_2);
        __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
        if (PyObject_SetItem(__pyx_v_data, __pyx_t_2, __pyx_t_11) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1322; __pyx_clineno = __LINE__; goto __pyx_L12_except_error;}
        __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
        __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
        __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
        goto __pyx_L11_exception_handled;
      }
      __pyx_L12_except_error:;
      __Pyx_XGIVEREF(__pyx_save_exc_type);
      __Pyx_XGIVEREF(__pyx_save_exc_value);
      __Pyx_XGIVEREF(__pyx_save_exc_tb);
      __Pyx_ExceptionReset(__pyx_save_exc_type, __pyx_save_exc_value, __pyx_save_exc_tb);
      goto __pyx_L1_error;
      __pyx_L11_exception_handled:;
      __Pyx_XGIVEREF(__pyx_save_exc_type);
      __Pyx_XGIVEREF(__pyx_save_exc_value);
      __Pyx_XGIVEREF(__pyx_save_exc_tb);
      __Pyx_ExceptionReset(__pyx_save_exc_type, __pyx_save_exc_value, __pyx_save_exc_tb);
      __pyx_L17_try_end:;
    }
  }
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1325
 * 
 *         # Remove extra dimensions.
 *         data = data[tuple(squeeze)]             # <<<<<<<<<<<<<<
 * 
 *         # if auto_maskandscale mode set to True, (through
 */
  __pyx_t_4 = PyTuple_New(1); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1325; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_INCREF(__pyx_v_squeeze);
  PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_v_squeeze);
  __Pyx_GIVEREF(__pyx_v_squeeze);
  __pyx_t_3 = PyObject_Call(((PyObject *)((PyObject*)&PyTuple_Type)), __pyx_t_4, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1325; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = PyObject_GetItem(__pyx_v_data, __pyx_t_3); if (!__pyx_t_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1325; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_DECREF(__pyx_v_data);
  __pyx_v_data = __pyx_t_4;
  __pyx_t_4 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1332
 *         # and automatic conversion to masked array using
 *         # missing_value/_Fill_Value.
 *         if self.maskandscale:             # <<<<<<<<<<<<<<
 *             data = self._toma(data)
 *             # if variable has scale_factor and add_offset attributes, rescale.
 */
  __pyx_t_10 = __Pyx_PyObject_IsTrue(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->maskandscale); if (unlikely(__pyx_t_10 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1332; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__pyx_t_10) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1333
 *         # missing_value/_Fill_Value.
 *         if self.maskandscale:
 *             data = self._toma(data)             # <<<<<<<<<<<<<<
 *             # if variable has scale_factor and add_offset attributes, rescale.
 *             if hasattr(self, 'scale_factor') and hasattr(self, 'add_offset'):
 */
    __pyx_t_4 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___toma); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1333; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1333; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_INCREF(__pyx_v_data);
    PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_v_data);
    __Pyx_GIVEREF(__pyx_v_data);
    __pyx_t_6 = PyObject_Call(__pyx_t_4, __pyx_t_3, NULL); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1333; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_6);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_DECREF(__pyx_v_data);
    __pyx_v_data = __pyx_t_6;
    __pyx_t_6 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1335
 *             data = self._toma(data)
 *             # if variable has scale_factor and add_offset attributes, rescale.
 *             if hasattr(self, 'scale_factor') and hasattr(self, 'add_offset'):             # <<<<<<<<<<<<<<
 *                 data = self.scale_factor*data + self.add_offset
 *         return data
 */
    __pyx_t_10 = PyObject_HasAttr(__pyx_v_self, ((PyObject *)__pyx_n_s__scale_factor)); if (unlikely(__pyx_t_10 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1335; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (__pyx_t_10) {
      __pyx_t_8 = PyObject_HasAttr(__pyx_v_self, ((PyObject *)__pyx_n_s__add_offset)); if (unlikely(__pyx_t_8 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1335; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_t_9 = __pyx_t_8;
    } else {
      __pyx_t_9 = __pyx_t_10;
    }
    if (__pyx_t_9) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1336
 *             # if variable has scale_factor and add_offset attributes, rescale.
 *             if hasattr(self, 'scale_factor') and hasattr(self, 'add_offset'):
 *                 data = self.scale_factor*data + self.add_offset             # <<<<<<<<<<<<<<
 *         return data
 * 
 */
      __pyx_t_6 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s__scale_factor); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1336; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_6);
      __pyx_t_3 = PyNumber_Multiply(__pyx_t_6, __pyx_v_data); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1336; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_t_6 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s__add_offset); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1336; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_6);
      __pyx_t_4 = PyNumber_Add(__pyx_t_3, __pyx_t_6); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1336; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
      __Pyx_DECREF(__pyx_v_data);
      __pyx_v_data = __pyx_t_4;
      __pyx_t_4 = 0;
      goto __pyx_L21;
    }
    __pyx_L21:;
    goto __pyx_L20;
  }
  __pyx_L20:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1337
 *             if hasattr(self, 'scale_factor') and hasattr(self, 'add_offset'):
 *                 data = self.scale_factor*data + self.add_offset
 *         return data             # <<<<<<<<<<<<<<
 * 
 *     def _toma(self,data):
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(__pyx_v_data);
  __pyx_r = __pyx_v_data;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_XDECREF(__pyx_t_11);
  __Pyx_AddTraceback("netCDF3.Variable.__getitem__");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_start);
  __Pyx_DECREF(__pyx_v_count);
  __Pyx_DECREF(__pyx_v_stride);
  __Pyx_DECREF(__pyx_v_put_ind);
  __Pyx_DECREF(__pyx_v_datashape);
  __Pyx_DECREF(__pyx_v_data);
  __Pyx_DECREF(__pyx_v_squeeze);
  __Pyx_DECREF(__pyx_v_i);
  __Pyx_DECREF(__pyx_v_n);
  __Pyx_DECREF(__pyx_v_a);
  __Pyx_DECREF(__pyx_v_b);
  __Pyx_DECREF(__pyx_v_c);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1339
 *         return data
 * 
 *     def _toma(self,data):             # <<<<<<<<<<<<<<
 *         # private function for creating a masked array, masking missing_values
 *         # and/or _FillValues.
 */

static PyObject *__pyx_pf_7netCDF3_8Variable__toma(PyObject *__pyx_v_self, PyObject *__pyx_v_data); /*proto*/
static PyObject *__pyx_pf_7netCDF3_8Variable__toma(PyObject *__pyx_v_self, PyObject *__pyx_v_data) {
  PyObject *__pyx_v_totalmask;
  PyObject *__pyx_v_fill_value;
  PyObject *__pyx_v_mask;
  PyObject *__pyx_v_fillval;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  int __pyx_t_5;
  int __pyx_t_6;
  int __pyx_t_7;
  __Pyx_RefNannySetupContext("_toma");
  __Pyx_INCREF(__pyx_v_data);
  __pyx_v_totalmask = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_fill_value = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_mask = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_fillval = Py_None; __Pyx_INCREF(Py_None);

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1342
 *         # private function for creating a masked array, masking missing_values
 *         # and/or _FillValues.
 *         totalmask = numpy.zeros(data.shape, numpy.bool)             # <<<<<<<<<<<<<<
 *         fill_value = None
 *         if hasattr(self, 'missing_value') and (data == self.missing_value).any():
 */
  __pyx_t_1 = __Pyx_GetName(__pyx_m, __pyx_n_s__numpy); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1342; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyObject_GetAttr(__pyx_t_1, __pyx_n_s__zeros); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1342; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = PyObject_GetAttr(__pyx_v_data, __pyx_n_s__shape); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1342; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_3 = __Pyx_GetName(__pyx_m, __pyx_n_s__numpy); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1342; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_4 = PyObject_GetAttr(__pyx_t_3, __pyx_n_s__bool); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1342; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1342; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_1);
  __Pyx_GIVEREF(__pyx_t_1);
  PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_t_4);
  __Pyx_GIVEREF(__pyx_t_4);
  __pyx_t_1 = 0;
  __pyx_t_4 = 0;
  __pyx_t_4 = PyObject_Call(__pyx_t_2, __pyx_t_3, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1342; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_DECREF(__pyx_v_totalmask);
  __pyx_v_totalmask = __pyx_t_4;
  __pyx_t_4 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1343
 *         # and/or _FillValues.
 *         totalmask = numpy.zeros(data.shape, numpy.bool)
 *         fill_value = None             # <<<<<<<<<<<<<<
 *         if hasattr(self, 'missing_value') and (data == self.missing_value).any():
 *             mask=data==self.missing_value
 */
  __Pyx_INCREF(Py_None);
  __Pyx_DECREF(__pyx_v_fill_value);
  __pyx_v_fill_value = Py_None;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1344
 *         totalmask = numpy.zeros(data.shape, numpy.bool)
 *         fill_value = None
 *         if hasattr(self, 'missing_value') and (data == self.missing_value).any():             # <<<<<<<<<<<<<<
 *             mask=data==self.missing_value
 *             fill_value = self.missing_value
 */
  __pyx_t_5 = PyObject_HasAttr(__pyx_v_self, ((PyObject *)__pyx_n_s__missing_value)); if (unlikely(__pyx_t_5 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1344; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__pyx_t_5) {
    __pyx_t_4 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s__missing_value); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1344; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_3 = PyObject_RichCompare(__pyx_v_data, __pyx_t_4, Py_EQ); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1344; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_4 = PyObject_GetAttr(__pyx_t_3, __pyx_n_s__any); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1344; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = PyObject_Call(__pyx_t_4, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1344; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_6 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1344; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_7 = __pyx_t_6;
  } else {
    __pyx_t_7 = __pyx_t_5;
  }
  if (__pyx_t_7) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1345
 *         fill_value = None
 *         if hasattr(self, 'missing_value') and (data == self.missing_value).any():
 *             mask=data==self.missing_value             # <<<<<<<<<<<<<<
 *             fill_value = self.missing_value
 *             totalmask += mask
 */
    __pyx_t_3 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s__missing_value); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1345; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_4 = PyObject_RichCompare(__pyx_v_data, __pyx_t_3, Py_EQ); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1345; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_DECREF(__pyx_v_mask);
    __pyx_v_mask = __pyx_t_4;
    __pyx_t_4 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1346
 *         if hasattr(self, 'missing_value') and (data == self.missing_value).any():
 *             mask=data==self.missing_value
 *             fill_value = self.missing_value             # <<<<<<<<<<<<<<
 *             totalmask += mask
 *         if hasattr(self, '_FillValue') and (data == self._FillValue).any():
 */
    __pyx_t_4 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s__missing_value); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1346; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_v_fill_value);
    __pyx_v_fill_value = __pyx_t_4;
    __pyx_t_4 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1347
 *             mask=data==self.missing_value
 *             fill_value = self.missing_value
 *             totalmask += mask             # <<<<<<<<<<<<<<
 *         if hasattr(self, '_FillValue') and (data == self._FillValue).any():
 *             mask=data==self._FillValue
 */
    __pyx_t_4 = PyNumber_InPlaceAdd(__pyx_v_totalmask, __pyx_v_mask); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1347; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_v_totalmask);
    __pyx_v_totalmask = __pyx_t_4;
    __pyx_t_4 = 0;
    goto __pyx_L5;
  }
  __pyx_L5:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1348
 *             fill_value = self.missing_value
 *             totalmask += mask
 *         if hasattr(self, '_FillValue') and (data == self._FillValue).any():             # <<<<<<<<<<<<<<
 *             mask=data==self._FillValue
 *             if fill_value is None:
 */
  __pyx_t_7 = PyObject_HasAttr(__pyx_v_self, ((PyObject *)__pyx_n_s___FillValue)); if (unlikely(__pyx_t_7 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1348; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__pyx_t_7) {
    __pyx_t_4 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___FillValue); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1348; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_3 = PyObject_RichCompare(__pyx_v_data, __pyx_t_4, Py_EQ); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1348; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_4 = PyObject_GetAttr(__pyx_t_3, __pyx_n_s__any); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1348; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = PyObject_Call(__pyx_t_4, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1348; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_5 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_5 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1348; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_6 = __pyx_t_5;
  } else {
    __pyx_t_6 = __pyx_t_7;
  }
  if (__pyx_t_6) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1349
 *             totalmask += mask
 *         if hasattr(self, '_FillValue') and (data == self._FillValue).any():
 *             mask=data==self._FillValue             # <<<<<<<<<<<<<<
 *             if fill_value is None:
 *                 fill_value = self._FillValue
 */
    __pyx_t_3 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___FillValue); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1349; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_4 = PyObject_RichCompare(__pyx_v_data, __pyx_t_3, Py_EQ); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1349; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_DECREF(__pyx_v_mask);
    __pyx_v_mask = __pyx_t_4;
    __pyx_t_4 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1350
 *         if hasattr(self, '_FillValue') and (data == self._FillValue).any():
 *             mask=data==self._FillValue
 *             if fill_value is None:             # <<<<<<<<<<<<<<
 *                 fill_value = self._FillValue
 *             totalmask += mask
 */
    __pyx_t_6 = (__pyx_v_fill_value == Py_None);
    if (__pyx_t_6) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1351
 *             mask=data==self._FillValue
 *             if fill_value is None:
 *                 fill_value = self._FillValue             # <<<<<<<<<<<<<<
 *             totalmask += mask
 *         else:
 */
      __pyx_t_4 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___FillValue); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1351; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_DECREF(__pyx_v_fill_value);
      __pyx_v_fill_value = __pyx_t_4;
      __pyx_t_4 = 0;
      goto __pyx_L7;
    }
    __pyx_L7:;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1352
 *             if fill_value is None:
 *                 fill_value = self._FillValue
 *             totalmask += mask             # <<<<<<<<<<<<<<
 *         else:
 *             fillval = _default_fillvals[self.dtype.str[1:]]
 */
    __pyx_t_4 = PyNumber_InPlaceAdd(__pyx_v_totalmask, __pyx_v_mask); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1352; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_v_totalmask);
    __pyx_v_totalmask = __pyx_t_4;
    __pyx_t_4 = 0;
    goto __pyx_L6;
  }
  /*else*/ {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1354
 *             totalmask += mask
 *         else:
 *             fillval = _default_fillvals[self.dtype.str[1:]]             # <<<<<<<<<<<<<<
 *             if (data == fillval).any():
 *                 mask=data==fillval
 */
    __pyx_t_4 = __Pyx_GetName(__pyx_m, __pyx_n_s___default_fillvals); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1354; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_3 = PyObject_GetAttr(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype, __pyx_n_s__str); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1354; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_2 = PySequence_GetSlice(__pyx_t_3, 1, PY_SSIZE_T_MAX); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1354; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = PyObject_GetItem(__pyx_t_4, __pyx_t_2); if (!__pyx_t_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1354; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_DECREF(__pyx_v_fillval);
    __pyx_v_fillval = __pyx_t_3;
    __pyx_t_3 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1355
 *         else:
 *             fillval = _default_fillvals[self.dtype.str[1:]]
 *             if (data == fillval).any():             # <<<<<<<<<<<<<<
 *                 mask=data==fillval
 *                 if fill_value is None:
 */
    __pyx_t_3 = PyObject_RichCompare(__pyx_v_data, __pyx_v_fillval, Py_EQ); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1355; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_2 = PyObject_GetAttr(__pyx_t_3, __pyx_n_s__any); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1355; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = PyObject_Call(__pyx_t_2, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1355; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_6 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1355; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    if (__pyx_t_6) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1356
 *             fillval = _default_fillvals[self.dtype.str[1:]]
 *             if (data == fillval).any():
 *                 mask=data==fillval             # <<<<<<<<<<<<<<
 *                 if fill_value is None:
 *                     fill_value = fillval
 */
      __pyx_t_3 = PyObject_RichCompare(__pyx_v_data, __pyx_v_fillval, Py_EQ); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1356; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_v_mask);
      __pyx_v_mask = __pyx_t_3;
      __pyx_t_3 = 0;

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1357
 *             if (data == fillval).any():
 *                 mask=data==fillval
 *                 if fill_value is None:             # <<<<<<<<<<<<<<
 *                     fill_value = fillval
 *                 totalmask += mask
 */
      __pyx_t_6 = (__pyx_v_fill_value == Py_None);
      if (__pyx_t_6) {

        /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1358
 *                 mask=data==fillval
 *                 if fill_value is None:
 *                     fill_value = fillval             # <<<<<<<<<<<<<<
 *                 totalmask += mask
 *         # all values where data == missing_value or _FillValue are
 */
        __Pyx_INCREF(__pyx_v_fillval);
        __Pyx_DECREF(__pyx_v_fill_value);
        __pyx_v_fill_value = __pyx_v_fillval;
        goto __pyx_L9;
      }
      __pyx_L9:;

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1359
 *                 if fill_value is None:
 *                     fill_value = fillval
 *                 totalmask += mask             # <<<<<<<<<<<<<<
 *         # all values where data == missing_value or _FillValue are
 *         # masked.  fill_value set to missing_value if it exists,
 */
      __pyx_t_3 = PyNumber_InPlaceAdd(__pyx_v_totalmask, __pyx_v_mask); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1359; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_v_totalmask);
      __pyx_v_totalmask = __pyx_t_3;
      __pyx_t_3 = 0;
      goto __pyx_L8;
    }
    __pyx_L8:;
  }
  __pyx_L6:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1363
 *         # masked.  fill_value set to missing_value if it exists,
 *         # otherwise _FillValue.
 *         if fill_value is not None:             # <<<<<<<<<<<<<<
 *             data = ma.masked_array(data,mask=totalmask,fill_value=fill_value)
 *         return data
 */
  __pyx_t_6 = (__pyx_v_fill_value != Py_None);
  if (__pyx_t_6) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1364
 *         # otherwise _FillValue.
 *         if fill_value is not None:
 *             data = ma.masked_array(data,mask=totalmask,fill_value=fill_value)             # <<<<<<<<<<<<<<
 *         return data
 * 
 */
    __pyx_t_3 = __Pyx_GetName(__pyx_m, __pyx_n_s__ma); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1364; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_2 = PyObject_GetAttr(__pyx_t_3, __pyx_n_s__masked_array); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1364; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1364; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_INCREF(__pyx_v_data);
    PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_v_data);
    __Pyx_GIVEREF(__pyx_v_data);
    __pyx_t_4 = PyDict_New(); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1364; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(((PyObject *)__pyx_t_4));
    if (PyDict_SetItem(__pyx_t_4, ((PyObject *)__pyx_n_s__mask), __pyx_v_totalmask) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1364; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (PyDict_SetItem(__pyx_t_4, ((PyObject *)__pyx_n_s__fill_value), __pyx_v_fill_value) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1364; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_t_1 = PyEval_CallObjectWithKeywords(__pyx_t_2, __pyx_t_3, ((PyObject *)__pyx_t_4)); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1364; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_DECREF(((PyObject *)__pyx_t_4)); __pyx_t_4 = 0;
    __Pyx_DECREF(__pyx_v_data);
    __pyx_v_data = __pyx_t_1;
    __pyx_t_1 = 0;
    goto __pyx_L10;
  }
  __pyx_L10:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1365
 *         if fill_value is not None:
 *             data = ma.masked_array(data,mask=totalmask,fill_value=fill_value)
 *         return data             # <<<<<<<<<<<<<<
 * 
 *     def __setitem__(self, elem, data):
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(__pyx_v_data);
  __pyx_r = __pyx_v_data;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("netCDF3.Variable._toma");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_totalmask);
  __Pyx_DECREF(__pyx_v_fill_value);
  __Pyx_DECREF(__pyx_v_mask);
  __Pyx_DECREF(__pyx_v_fillval);
  __Pyx_DECREF(__pyx_v_data);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1367
 *         return data
 * 
 *     def __setitem__(self, elem, data):             # <<<<<<<<<<<<<<
 *         # This special method is used to assign to the netCDF variable
 *         # using "extended slice syntax". The extended slice syntax
 */

static int __pyx_pf_7netCDF3_8Variable___setitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_elem, PyObject *__pyx_v_data); /*proto*/
static int __pyx_pf_7netCDF3_8Variable___setitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_elem, PyObject *__pyx_v_data) {
  PyObject *__pyx_v_start;
  PyObject *__pyx_v_count;
  PyObject *__pyx_v_stride;
  PyObject *__pyx_v_put_ind;
  PyObject *__pyx_v_datashape;
  PyObject *__pyx_v_fillval;
  PyObject *__pyx_v_a;
  PyObject *__pyx_v_b;
  PyObject *__pyx_v_c;
  PyObject *__pyx_v_i;
  PyObject *__pyx_v_dataput;
  int __pyx_r;
  int __pyx_t_1;
  int __pyx_t_2;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  int __pyx_t_5;
  int __pyx_t_6;
  int __pyx_t_7;
  PyObject *__pyx_t_8 = NULL;
  PyObject *__pyx_t_9 = NULL;
  PyObject *__pyx_t_10 = NULL;
  PyObject *__pyx_t_11 = NULL;
  Py_ssize_t __pyx_t_12;
  Py_ssize_t __pyx_t_13;
  PyObject *__pyx_t_14 = NULL;
  __Pyx_RefNannySetupContext("__setitem__");
  __Pyx_INCREF(__pyx_v_data);
  __pyx_v_start = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_count = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_stride = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_put_ind = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_datashape = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_fillval = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_a = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_b = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_c = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_i = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_dataput = Py_None; __Pyx_INCREF(Py_None);

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1376
 *         # A numpy array is needed. Convert if necessary.
 *         # assume it's a numpy or masked array if it has an 'ndim' attribute.
 *         if not hasattr(data,'ndim'):             # <<<<<<<<<<<<<<
 *             # if auto scaling is to be done, don't cast to an integer yet.
 *             if self.maskandscale and self.dtype.kind == 'i' and \
 */
  __pyx_t_1 = PyObject_HasAttr(__pyx_v_data, ((PyObject *)__pyx_n_s__ndim)); if (unlikely(__pyx_t_1 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1376; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_t_2 = (!__pyx_t_1);
  if (__pyx_t_2) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1378
 *         if not hasattr(data,'ndim'):
 *             # if auto scaling is to be done, don't cast to an integer yet.
 *             if self.maskandscale and self.dtype.kind == 'i' and \             # <<<<<<<<<<<<<<
 *                hasattr(self, 'scale_factor') and hasattr(self, 'add_offset'):
 *                 data = numpy.array(data,numpy.float)
 */
    __pyx_t_2 = __Pyx_PyObject_IsTrue(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->maskandscale); if (unlikely(__pyx_t_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1378; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (__pyx_t_2) {
      __pyx_t_3 = PyObject_GetAttr(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype, __pyx_n_s__kind); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1378; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __pyx_t_4 = PyObject_RichCompare(__pyx_t_3, ((PyObject *)__pyx_n_s__i), Py_EQ); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1378; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely(__pyx_t_1 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1378; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      if (__pyx_t_1) {

        /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1379
 *             # if auto scaling is to be done, don't cast to an integer yet.
 *             if self.maskandscale and self.dtype.kind == 'i' and \
 *                hasattr(self, 'scale_factor') and hasattr(self, 'add_offset'):             # <<<<<<<<<<<<<<
 *                 data = numpy.array(data,numpy.float)
 *             else:
 */
        __pyx_t_5 = PyObject_HasAttr(__pyx_v_self, ((PyObject *)__pyx_n_s__scale_factor)); if (unlikely(__pyx_t_5 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1379; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        if (__pyx_t_5) {
          __pyx_t_6 = PyObject_HasAttr(__pyx_v_self, ((PyObject *)__pyx_n_s__add_offset)); if (unlikely(__pyx_t_6 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1379; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __pyx_t_7 = __pyx_t_6;
        } else {
          __pyx_t_7 = __pyx_t_5;
        }
        __pyx_t_5 = __pyx_t_7;
      } else {
        __pyx_t_5 = __pyx_t_1;
      }
      __pyx_t_1 = __pyx_t_5;
    } else {
      __pyx_t_1 = __pyx_t_2;
    }
    if (__pyx_t_1) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1380
 *             if self.maskandscale and self.dtype.kind == 'i' and \
 *                hasattr(self, 'scale_factor') and hasattr(self, 'add_offset'):
 *                 data = numpy.array(data,numpy.float)             # <<<<<<<<<<<<<<
 *             else:
 *                 data = numpy.array(data,self.dtype)
 */
      __pyx_t_4 = __Pyx_GetName(__pyx_m, __pyx_n_s__numpy); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1380; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      __pyx_t_3 = PyObject_GetAttr(__pyx_t_4, __pyx_n_s__array); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1380; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_4 = __Pyx_GetName(__pyx_m, __pyx_n_s__numpy); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1380; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      __pyx_t_8 = PyObject_GetAttr(__pyx_t_4, __pyx_n_s__float); if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1380; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_8);
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_4 = PyTuple_New(2); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1380; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_INCREF(__pyx_v_data);
      PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_v_data);
      __Pyx_GIVEREF(__pyx_v_data);
      PyTuple_SET_ITEM(__pyx_t_4, 1, __pyx_t_8);
      __Pyx_GIVEREF(__pyx_t_8);
      __pyx_t_8 = 0;
      __pyx_t_8 = PyObject_Call(__pyx_t_3, __pyx_t_4, NULL); if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1380; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_8);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __Pyx_DECREF(__pyx_v_data);
      __pyx_v_data = __pyx_t_8;
      __pyx_t_8 = 0;
      goto __pyx_L6;
    }
    /*else*/ {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1382
 *                 data = numpy.array(data,numpy.float)
 *             else:
 *                 data = numpy.array(data,self.dtype)             # <<<<<<<<<<<<<<
 * 
 *         start, count, stride, put_ind =\
 */
      __pyx_t_8 = __Pyx_GetName(__pyx_m, __pyx_n_s__numpy); if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1382; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_8);
      __pyx_t_4 = PyObject_GetAttr(__pyx_t_8, __pyx_n_s__array); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1382; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
      __pyx_t_8 = PyTuple_New(2); if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1382; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_8);
      __Pyx_INCREF(__pyx_v_data);
      PyTuple_SET_ITEM(__pyx_t_8, 0, __pyx_v_data);
      __Pyx_GIVEREF(__pyx_v_data);
      __Pyx_INCREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype);
      PyTuple_SET_ITEM(__pyx_t_8, 1, ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype);
      __Pyx_GIVEREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype);
      __pyx_t_3 = PyObject_Call(__pyx_t_4, __pyx_t_8, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1382; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
      __Pyx_DECREF(__pyx_v_data);
      __pyx_v_data = __pyx_t_3;
      __pyx_t_3 = 0;
    }
    __pyx_L6:;
    goto __pyx_L5;
  }
  __pyx_L5:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1385
 * 
 *         start, count, stride, put_ind =\
 *         _StartCountStride(elem,self.shape,self.dimensions,self._grp,datashape=data.shape)             # <<<<<<<<<<<<<<
 *         datashape = _out_array_shape(count)
 * 
 */
  __pyx_t_3 = __Pyx_GetName(__pyx_m, __pyx_n_s___StartCountStride); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1385; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_8 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s__shape); if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1385; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_8);
  __pyx_t_4 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s__dimensions); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1385; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __pyx_t_9 = PyTuple_New(4); if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1385; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_9);
  __Pyx_INCREF(__pyx_v_elem);
  PyTuple_SET_ITEM(__pyx_t_9, 0, __pyx_v_elem);
  __Pyx_GIVEREF(__pyx_v_elem);
  PyTuple_SET_ITEM(__pyx_t_9, 1, __pyx_t_8);
  __Pyx_GIVEREF(__pyx_t_8);
  PyTuple_SET_ITEM(__pyx_t_9, 2, __pyx_t_4);
  __Pyx_GIVEREF(__pyx_t_4);
  __Pyx_INCREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grp);
  PyTuple_SET_ITEM(__pyx_t_9, 3, ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grp);
  __Pyx_GIVEREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grp);
  __pyx_t_8 = 0;
  __pyx_t_4 = 0;
  __pyx_t_4 = PyDict_New(); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1385; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_4));
  __pyx_t_8 = PyObject_GetAttr(__pyx_v_data, __pyx_n_s__shape); if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1385; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_8);
  if (PyDict_SetItem(__pyx_t_4, ((PyObject *)__pyx_n_s__datashape), __pyx_t_8) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1385; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
  __pyx_t_8 = PyEval_CallObjectWithKeywords(__pyx_t_3, __pyx_t_9, ((PyObject *)__pyx_t_4)); if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1385; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_8);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
  __Pyx_DECREF(((PyObject *)__pyx_t_4)); __pyx_t_4 = 0;
  if (PyTuple_CheckExact(__pyx_t_8) && likely(PyTuple_GET_SIZE(__pyx_t_8) == 4)) {
    PyObject* tuple = __pyx_t_8;
    __pyx_t_4 = PyTuple_GET_ITEM(tuple, 0); __Pyx_INCREF(__pyx_t_4);
    __pyx_t_9 = PyTuple_GET_ITEM(tuple, 1); __Pyx_INCREF(__pyx_t_9);
    __pyx_t_3 = PyTuple_GET_ITEM(tuple, 2); __Pyx_INCREF(__pyx_t_3);
    __pyx_t_10 = PyTuple_GET_ITEM(tuple, 3); __Pyx_INCREF(__pyx_t_10);

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1384
 *                 data = numpy.array(data,self.dtype)
 * 
 *         start, count, stride, put_ind =\             # <<<<<<<<<<<<<<
 *         _StartCountStride(elem,self.shape,self.dimensions,self._grp,datashape=data.shape)
 *         datashape = _out_array_shape(count)
 */
    __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
    __Pyx_DECREF(__pyx_v_start);
    __pyx_v_start = __pyx_t_4;
    __pyx_t_4 = 0;
    __Pyx_DECREF(__pyx_v_count);
    __pyx_v_count = __pyx_t_9;
    __pyx_t_9 = 0;
    __Pyx_DECREF(__pyx_v_stride);
    __pyx_v_stride = __pyx_t_3;
    __pyx_t_3 = 0;
    __Pyx_DECREF(__pyx_v_put_ind);
    __pyx_v_put_ind = __pyx_t_10;
    __pyx_t_10 = 0;
  } else {
    __pyx_t_11 = PyObject_GetIter(__pyx_t_8); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1384; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_11);
    __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
    __pyx_t_4 = __Pyx_UnpackItem(__pyx_t_11, 0); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1384; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_9 = __Pyx_UnpackItem(__pyx_t_11, 1); if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1384; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_9);
    __pyx_t_3 = __Pyx_UnpackItem(__pyx_t_11, 2); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1384; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_10 = __Pyx_UnpackItem(__pyx_t_11, 3); if (unlikely(!__pyx_t_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1384; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_10);
    if (__Pyx_EndUnpack(__pyx_t_11, 4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1384; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
    __Pyx_DECREF(__pyx_v_start);
    __pyx_v_start = __pyx_t_4;
    __pyx_t_4 = 0;
    __Pyx_DECREF(__pyx_v_count);
    __pyx_v_count = __pyx_t_9;
    __pyx_t_9 = 0;
    __Pyx_DECREF(__pyx_v_stride);
    __pyx_v_stride = __pyx_t_3;
    __pyx_t_3 = 0;
    __Pyx_DECREF(__pyx_v_put_ind);
    __pyx_v_put_ind = __pyx_t_10;
    __pyx_t_10 = 0;
  }

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1386
 *         start, count, stride, put_ind =\
 *         _StartCountStride(elem,self.shape,self.dimensions,self._grp,datashape=data.shape)
 *         datashape = _out_array_shape(count)             # <<<<<<<<<<<<<<
 * 
 *         # if a numpy scalar, create an array of the right size
 */
  __pyx_t_8 = __Pyx_GetName(__pyx_m, __pyx_n_s___out_array_shape); if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1386; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_8);
  __pyx_t_10 = PyTuple_New(1); if (unlikely(!__pyx_t_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1386; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_10);
  __Pyx_INCREF(__pyx_v_count);
  PyTuple_SET_ITEM(__pyx_t_10, 0, __pyx_v_count);
  __Pyx_GIVEREF(__pyx_v_count);
  __pyx_t_3 = PyObject_Call(__pyx_t_8, __pyx_t_10, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1386; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
  __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
  __Pyx_DECREF(__pyx_v_datashape);
  __pyx_v_datashape = __pyx_t_3;
  __pyx_t_3 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1390
 *         # if a numpy scalar, create an array of the right size
 *         # and fill with scalar values.
 *         if data.shape == ():             # <<<<<<<<<<<<<<
 *             data = numpy.tile(data,datashape)
 *         # reshape data array by adding extra singleton dimensions
 */
  __pyx_t_3 = PyObject_GetAttr(__pyx_v_data, __pyx_n_s__shape); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1390; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_10 = PyObject_RichCompare(__pyx_t_3, ((PyObject *)__pyx_empty_tuple), Py_EQ); if (unlikely(!__pyx_t_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1390; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_10);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_t_10); if (unlikely(__pyx_t_1 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1390; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
  if (__pyx_t_1) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1391
 *         # and fill with scalar values.
 *         if data.shape == ():
 *             data = numpy.tile(data,datashape)             # <<<<<<<<<<<<<<
 *         # reshape data array by adding extra singleton dimensions
 *         # if needed to conform with start,count,stride.
 */
    __pyx_t_10 = __Pyx_GetName(__pyx_m, __pyx_n_s__numpy); if (unlikely(!__pyx_t_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1391; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_10);
    __pyx_t_3 = PyObject_GetAttr(__pyx_t_10, __pyx_n_s__tile); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1391; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
    __pyx_t_10 = PyTuple_New(2); if (unlikely(!__pyx_t_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1391; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_10);
    __Pyx_INCREF(__pyx_v_data);
    PyTuple_SET_ITEM(__pyx_t_10, 0, __pyx_v_data);
    __Pyx_GIVEREF(__pyx_v_data);
    __Pyx_INCREF(__pyx_v_datashape);
    PyTuple_SET_ITEM(__pyx_t_10, 1, __pyx_v_datashape);
    __Pyx_GIVEREF(__pyx_v_datashape);
    __pyx_t_8 = PyObject_Call(__pyx_t_3, __pyx_t_10, NULL); if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1391; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_8);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
    __Pyx_DECREF(__pyx_v_data);
    __pyx_v_data = __pyx_t_8;
    __pyx_t_8 = 0;
    goto __pyx_L7;
  }
  __pyx_L7:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1394
 *         # reshape data array by adding extra singleton dimensions
 *         # if needed to conform with start,count,stride.
 *         if len(data.shape) != len(datashape):             # <<<<<<<<<<<<<<
 *             data.shape = tuple(datashape)
 * 
 */
  __pyx_t_8 = PyObject_GetAttr(__pyx_v_data, __pyx_n_s__shape); if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1394; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_8);
  __pyx_t_12 = PyObject_Length(__pyx_t_8); if (unlikely(__pyx_t_12 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1394; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
  __pyx_t_13 = PyObject_Length(__pyx_v_datashape); if (unlikely(__pyx_t_13 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1394; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_t_1 = (__pyx_t_12 != __pyx_t_13);
  if (__pyx_t_1) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1395
 *         # if needed to conform with start,count,stride.
 *         if len(data.shape) != len(datashape):
 *             data.shape = tuple(datashape)             # <<<<<<<<<<<<<<
 * 
 *         # Reshape these arrays so we can iterate over them.
 */
    __pyx_t_8 = PyTuple_New(1); if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1395; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_8);
    __Pyx_INCREF(__pyx_v_datashape);
    PyTuple_SET_ITEM(__pyx_t_8, 0, __pyx_v_datashape);
    __Pyx_GIVEREF(__pyx_v_datashape);
    __pyx_t_10 = PyObject_Call(((PyObject *)((PyObject*)&PyTuple_Type)), __pyx_t_8, NULL); if (unlikely(!__pyx_t_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1395; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_10);
    __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
    if (PyObject_SetAttr(__pyx_v_data, __pyx_n_s__shape, __pyx_t_10) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1395; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
    goto __pyx_L8;
  }
  __pyx_L8:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1398
 * 
 *         # Reshape these arrays so we can iterate over them.
 *         start = start.reshape((-1, self.ndim or 1))             # <<<<<<<<<<<<<<
 *         count = count.reshape((-1, self.ndim or 1))
 *         stride = stride.reshape((-1, self.ndim or 1))
 */
  __pyx_t_10 = PyObject_GetAttr(__pyx_v_start, __pyx_n_s__reshape); if (unlikely(!__pyx_t_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1398; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_10);
  __pyx_t_1 = __Pyx_PyObject_IsTrue(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->ndim); if (unlikely(__pyx_t_1 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1398; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (!__pyx_t_1) {
    __Pyx_INCREF(__pyx_int_1);
    __pyx_t_8 = __pyx_int_1;
  } else {
    __Pyx_INCREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->ndim);
    __pyx_t_8 = ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->ndim;
  }
  __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1398; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_INCREF(__pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_int_neg_1);
  __Pyx_GIVEREF(__pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_t_8);
  __Pyx_GIVEREF(__pyx_t_8);
  __pyx_t_8 = 0;
  __pyx_t_8 = PyTuple_New(1); if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1398; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_8);
  PyTuple_SET_ITEM(__pyx_t_8, 0, __pyx_t_3);
  __Pyx_GIVEREF(__pyx_t_3);
  __pyx_t_3 = 0;
  __pyx_t_3 = PyObject_Call(__pyx_t_10, __pyx_t_8, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1398; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
  __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
  __Pyx_DECREF(__pyx_v_start);
  __pyx_v_start = __pyx_t_3;
  __pyx_t_3 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1399
 *         # Reshape these arrays so we can iterate over them.
 *         start = start.reshape((-1, self.ndim or 1))
 *         count = count.reshape((-1, self.ndim or 1))             # <<<<<<<<<<<<<<
 *         stride = stride.reshape((-1, self.ndim or 1))
 *         put_ind = put_ind.reshape((-1, self.ndim or 1))
 */
  __pyx_t_3 = PyObject_GetAttr(__pyx_v_count, __pyx_n_s__reshape); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1399; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_1 = __Pyx_PyObject_IsTrue(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->ndim); if (unlikely(__pyx_t_1 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1399; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (!__pyx_t_1) {
    __Pyx_INCREF(__pyx_int_1);
    __pyx_t_8 = __pyx_int_1;
  } else {
    __Pyx_INCREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->ndim);
    __pyx_t_8 = ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->ndim;
  }
  __pyx_t_10 = PyTuple_New(2); if (unlikely(!__pyx_t_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1399; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_10);
  __Pyx_INCREF(__pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_t_10, 0, __pyx_int_neg_1);
  __Pyx_GIVEREF(__pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_t_10, 1, __pyx_t_8);
  __Pyx_GIVEREF(__pyx_t_8);
  __pyx_t_8 = 0;
  __pyx_t_8 = PyTuple_New(1); if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1399; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_8);
  PyTuple_SET_ITEM(__pyx_t_8, 0, __pyx_t_10);
  __Pyx_GIVEREF(__pyx_t_10);
  __pyx_t_10 = 0;
  __pyx_t_10 = PyObject_Call(__pyx_t_3, __pyx_t_8, NULL); if (unlikely(!__pyx_t_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1399; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_10);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
  __Pyx_DECREF(__pyx_v_count);
  __pyx_v_count = __pyx_t_10;
  __pyx_t_10 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1400
 *         start = start.reshape((-1, self.ndim or 1))
 *         count = count.reshape((-1, self.ndim or 1))
 *         stride = stride.reshape((-1, self.ndim or 1))             # <<<<<<<<<<<<<<
 *         put_ind = put_ind.reshape((-1, self.ndim or 1))
 * 
 */
  __pyx_t_10 = PyObject_GetAttr(__pyx_v_stride, __pyx_n_s__reshape); if (unlikely(!__pyx_t_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1400; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_10);
  __pyx_t_1 = __Pyx_PyObject_IsTrue(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->ndim); if (unlikely(__pyx_t_1 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1400; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (!__pyx_t_1) {
    __Pyx_INCREF(__pyx_int_1);
    __pyx_t_8 = __pyx_int_1;
  } else {
    __Pyx_INCREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->ndim);
    __pyx_t_8 = ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->ndim;
  }
  __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1400; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_INCREF(__pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_int_neg_1);
  __Pyx_GIVEREF(__pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_t_8);
  __Pyx_GIVEREF(__pyx_t_8);
  __pyx_t_8 = 0;
  __pyx_t_8 = PyTuple_New(1); if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1400; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_8);
  PyTuple_SET_ITEM(__pyx_t_8, 0, __pyx_t_3);
  __Pyx_GIVEREF(__pyx_t_3);
  __pyx_t_3 = 0;
  __pyx_t_3 = PyObject_Call(__pyx_t_10, __pyx_t_8, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1400; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
  __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
  __Pyx_DECREF(__pyx_v_stride);
  __pyx_v_stride = __pyx_t_3;
  __pyx_t_3 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1401
 *         count = count.reshape((-1, self.ndim or 1))
 *         stride = stride.reshape((-1, self.ndim or 1))
 *         put_ind = put_ind.reshape((-1, self.ndim or 1))             # <<<<<<<<<<<<<<
 * 
 *         # if auto_maskandscale mode set to True, (through
 */
  __pyx_t_3 = PyObject_GetAttr(__pyx_v_put_ind, __pyx_n_s__reshape); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1401; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_1 = __Pyx_PyObject_IsTrue(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->ndim); if (unlikely(__pyx_t_1 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1401; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (!__pyx_t_1) {
    __Pyx_INCREF(__pyx_int_1);
    __pyx_t_8 = __pyx_int_1;
  } else {
    __Pyx_INCREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->ndim);
    __pyx_t_8 = ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->ndim;
  }
  __pyx_t_10 = PyTuple_New(2); if (unlikely(!__pyx_t_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1401; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_10);
  __Pyx_INCREF(__pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_t_10, 0, __pyx_int_neg_1);
  __Pyx_GIVEREF(__pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_t_10, 1, __pyx_t_8);
  __Pyx_GIVEREF(__pyx_t_8);
  __pyx_t_8 = 0;
  __pyx_t_8 = PyTuple_New(1); if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1401; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_8);
  PyTuple_SET_ITEM(__pyx_t_8, 0, __pyx_t_10);
  __Pyx_GIVEREF(__pyx_t_10);
  __pyx_t_10 = 0;
  __pyx_t_10 = PyObject_Call(__pyx_t_3, __pyx_t_8, NULL); if (unlikely(!__pyx_t_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1401; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_10);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
  __Pyx_DECREF(__pyx_v_put_ind);
  __pyx_v_put_ind = __pyx_t_10;
  __pyx_t_10 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1408
 *         # and automatic filling of masked arrays using
 *         # missing_value/_Fill_Value.
 *         if self.maskandscale:             # <<<<<<<<<<<<<<
 *             # use missing_value as fill value.
 *             # if no missing value set, use _FillValue.
 */
  __pyx_t_1 = __Pyx_PyObject_IsTrue(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->maskandscale); if (unlikely(__pyx_t_1 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1408; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__pyx_t_1) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1412
 *             # if no missing value set, use _FillValue.
 *             # pack non-masked values using scale_factor and add_offset
 *             if hasattr(self, 'scale_factor') and hasattr(self, 'add_offset'):             # <<<<<<<<<<<<<<
 *                 # if not masked, create a masked array.
 *                 if not hasattr(data, 'mask'): data = self._toma(data)
 */
    __pyx_t_1 = PyObject_HasAttr(__pyx_v_self, ((PyObject *)__pyx_n_s__scale_factor)); if (unlikely(__pyx_t_1 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1412; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (__pyx_t_1) {
      __pyx_t_2 = PyObject_HasAttr(__pyx_v_self, ((PyObject *)__pyx_n_s__add_offset)); if (unlikely(__pyx_t_2 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1412; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_t_5 = __pyx_t_2;
    } else {
      __pyx_t_5 = __pyx_t_1;
    }
    if (__pyx_t_5) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1414
 *             if hasattr(self, 'scale_factor') and hasattr(self, 'add_offset'):
 *                 # if not masked, create a masked array.
 *                 if not hasattr(data, 'mask'): data = self._toma(data)             # <<<<<<<<<<<<<<
 *                 data = (data - self.add_offset)/self.scale_factor
 *             if hasattr(data,'mask'):
 */
      __pyx_t_5 = PyObject_HasAttr(__pyx_v_data, ((PyObject *)__pyx_n_s__mask)); if (unlikely(__pyx_t_5 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1414; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_t_1 = (!__pyx_t_5);
      if (__pyx_t_1) {
        __pyx_t_10 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___toma); if (unlikely(!__pyx_t_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1414; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_10);
        __pyx_t_8 = PyTuple_New(1); if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1414; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_8);
        __Pyx_INCREF(__pyx_v_data);
        PyTuple_SET_ITEM(__pyx_t_8, 0, __pyx_v_data);
        __Pyx_GIVEREF(__pyx_v_data);
        __pyx_t_3 = PyObject_Call(__pyx_t_10, __pyx_t_8, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1414; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_3);
        __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
        __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
        __Pyx_DECREF(__pyx_v_data);
        __pyx_v_data = __pyx_t_3;
        __pyx_t_3 = 0;
        goto __pyx_L11;
      }
      __pyx_L11:;

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1415
 *                 # if not masked, create a masked array.
 *                 if not hasattr(data, 'mask'): data = self._toma(data)
 *                 data = (data - self.add_offset)/self.scale_factor             # <<<<<<<<<<<<<<
 *             if hasattr(data,'mask'):
 *                 if hasattr(self, 'missing_value'):
 */
      __pyx_t_3 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s__add_offset); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1415; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __pyx_t_8 = PyNumber_Subtract(__pyx_v_data, __pyx_t_3); if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1415; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_8);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_3 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s__scale_factor); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1415; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __pyx_t_10 = __Pyx_PyNumber_Divide(__pyx_t_8, __pyx_t_3); if (unlikely(!__pyx_t_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1415; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_10);
      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_DECREF(__pyx_v_data);
      __pyx_v_data = __pyx_t_10;
      __pyx_t_10 = 0;
      goto __pyx_L10;
    }
    __pyx_L10:;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1416
 *                 if not hasattr(data, 'mask'): data = self._toma(data)
 *                 data = (data - self.add_offset)/self.scale_factor
 *             if hasattr(data,'mask'):             # <<<<<<<<<<<<<<
 *                 if hasattr(self, 'missing_value'):
 *                     fillval = self.missing_value
 */
    __pyx_t_1 = PyObject_HasAttr(__pyx_v_data, ((PyObject *)__pyx_n_s__mask)); if (unlikely(__pyx_t_1 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1416; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (__pyx_t_1) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1417
 *                 data = (data - self.add_offset)/self.scale_factor
 *             if hasattr(data,'mask'):
 *                 if hasattr(self, 'missing_value'):             # <<<<<<<<<<<<<<
 *                     fillval = self.missing_value
 *                 elif hasattr(self, '_FillValue'):
 */
      __pyx_t_1 = PyObject_HasAttr(__pyx_v_self, ((PyObject *)__pyx_n_s__missing_value)); if (unlikely(__pyx_t_1 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1417; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      if (__pyx_t_1) {

        /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1418
 *             if hasattr(data,'mask'):
 *                 if hasattr(self, 'missing_value'):
 *                     fillval = self.missing_value             # <<<<<<<<<<<<<<
 *                 elif hasattr(self, '_FillValue'):
 *                     fillval = self._FillValue
 */
        __pyx_t_10 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s__missing_value); if (unlikely(!__pyx_t_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1418; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_10);
        __Pyx_DECREF(__pyx_v_fillval);
        __pyx_v_fillval = __pyx_t_10;
        __pyx_t_10 = 0;
        goto __pyx_L13;
      }

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1419
 *                 if hasattr(self, 'missing_value'):
 *                     fillval = self.missing_value
 *                 elif hasattr(self, '_FillValue'):             # <<<<<<<<<<<<<<
 *                     fillval = self._FillValue
 *                 else:
 */
      __pyx_t_1 = PyObject_HasAttr(__pyx_v_self, ((PyObject *)__pyx_n_s___FillValue)); if (unlikely(__pyx_t_1 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1419; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      if (__pyx_t_1) {

        /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1420
 *                     fillval = self.missing_value
 *                 elif hasattr(self, '_FillValue'):
 *                     fillval = self._FillValue             # <<<<<<<<<<<<<<
 *                 else:
 *                     fillval = _default_fillvals[self.dtype.str[1:]]
 */
        __pyx_t_10 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___FillValue); if (unlikely(!__pyx_t_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1420; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_10);
        __Pyx_DECREF(__pyx_v_fillval);
        __pyx_v_fillval = __pyx_t_10;
        __pyx_t_10 = 0;
        goto __pyx_L13;
      }
      /*else*/ {

        /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1422
 *                     fillval = self._FillValue
 *                 else:
 *                     fillval = _default_fillvals[self.dtype.str[1:]]             # <<<<<<<<<<<<<<
 *                 data = data.filled(fill_value=fillval)
 * 
 */
        __pyx_t_10 = __Pyx_GetName(__pyx_m, __pyx_n_s___default_fillvals); if (unlikely(!__pyx_t_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1422; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_10);
        __pyx_t_3 = PyObject_GetAttr(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype, __pyx_n_s__str); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1422; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_3);
        __pyx_t_8 = PySequence_GetSlice(__pyx_t_3, 1, PY_SSIZE_T_MAX); if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1422; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_8);
        __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
        __pyx_t_3 = PyObject_GetItem(__pyx_t_10, __pyx_t_8); if (!__pyx_t_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1422; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_3);
        __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
        __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
        __Pyx_DECREF(__pyx_v_fillval);
        __pyx_v_fillval = __pyx_t_3;
        __pyx_t_3 = 0;
      }
      __pyx_L13:;

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1423
 *                 else:
 *                     fillval = _default_fillvals[self.dtype.str[1:]]
 *                 data = data.filled(fill_value=fillval)             # <<<<<<<<<<<<<<
 * 
 *         # Fill output array with data chunks.
 */
      __pyx_t_3 = PyObject_GetAttr(__pyx_v_data, __pyx_n_s__filled); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1423; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __pyx_t_8 = PyDict_New(); if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1423; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(((PyObject *)__pyx_t_8));
      if (PyDict_SetItem(__pyx_t_8, ((PyObject *)__pyx_n_s__fill_value), __pyx_v_fillval) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1423; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __pyx_t_10 = PyEval_CallObjectWithKeywords(__pyx_t_3, ((PyObject *)__pyx_empty_tuple), ((PyObject *)__pyx_t_8)); if (unlikely(!__pyx_t_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1423; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_10);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_DECREF(((PyObject *)__pyx_t_8)); __pyx_t_8 = 0;
      __Pyx_DECREF(__pyx_v_data);
      __pyx_v_data = __pyx_t_10;
      __pyx_t_10 = 0;
      goto __pyx_L12;
    }
    __pyx_L12:;
    goto __pyx_L9;
  }
  __pyx_L9:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1426
 * 
 *         # Fill output array with data chunks.
 *         for (a,b,c,i) in zip(start, count, stride, put_ind):             # <<<<<<<<<<<<<<
 *             dataput = data[tuple(i)]
 *             # convert array scalar to regular array with one element.
 */
  __pyx_t_10 = PyTuple_New(4); if (unlikely(!__pyx_t_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1426; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_10);
  __Pyx_INCREF(__pyx_v_start);
  PyTuple_SET_ITEM(__pyx_t_10, 0, __pyx_v_start);
  __Pyx_GIVEREF(__pyx_v_start);
  __Pyx_INCREF(__pyx_v_count);
  PyTuple_SET_ITEM(__pyx_t_10, 1, __pyx_v_count);
  __Pyx_GIVEREF(__pyx_v_count);
  __Pyx_INCREF(__pyx_v_stride);
  PyTuple_SET_ITEM(__pyx_t_10, 2, __pyx_v_stride);
  __Pyx_GIVEREF(__pyx_v_stride);
  __Pyx_INCREF(__pyx_v_put_ind);
  PyTuple_SET_ITEM(__pyx_t_10, 3, __pyx_v_put_ind);
  __Pyx_GIVEREF(__pyx_v_put_ind);
  __pyx_t_8 = PyObject_Call(__pyx_builtin_zip, __pyx_t_10, NULL); if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1426; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_8);
  __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
  if (PyList_CheckExact(__pyx_t_8) || PyTuple_CheckExact(__pyx_t_8)) {
    __pyx_t_13 = 0; __pyx_t_10 = __pyx_t_8; __Pyx_INCREF(__pyx_t_10);
  } else {
    __pyx_t_13 = -1; __pyx_t_10 = PyObject_GetIter(__pyx_t_8); if (unlikely(!__pyx_t_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1426; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_10);
  }
  __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_t_10))) {
      if (__pyx_t_13 >= PyList_GET_SIZE(__pyx_t_10)) break;
      __pyx_t_8 = PyList_GET_ITEM(__pyx_t_10, __pyx_t_13); __Pyx_INCREF(__pyx_t_8); __pyx_t_13++;
    } else if (likely(PyTuple_CheckExact(__pyx_t_10))) {
      if (__pyx_t_13 >= PyTuple_GET_SIZE(__pyx_t_10)) break;
      __pyx_t_8 = PyTuple_GET_ITEM(__pyx_t_10, __pyx_t_13); __Pyx_INCREF(__pyx_t_8); __pyx_t_13++;
    } else {
      __pyx_t_8 = PyIter_Next(__pyx_t_10);
      if (!__pyx_t_8) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1426; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
      __Pyx_GOTREF(__pyx_t_8);
    }
    if (PyTuple_CheckExact(__pyx_t_8) && likely(PyTuple_GET_SIZE(__pyx_t_8) == 4)) {
      PyObject* tuple = __pyx_t_8;
      __pyx_t_3 = PyTuple_GET_ITEM(tuple, 0); __Pyx_INCREF(__pyx_t_3);
      __pyx_t_9 = PyTuple_GET_ITEM(tuple, 1); __Pyx_INCREF(__pyx_t_9);
      __pyx_t_4 = PyTuple_GET_ITEM(tuple, 2); __Pyx_INCREF(__pyx_t_4);
      __pyx_t_11 = PyTuple_GET_ITEM(tuple, 3); __Pyx_INCREF(__pyx_t_11);
      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
      __Pyx_DECREF(__pyx_v_a);
      __pyx_v_a = __pyx_t_3;
      __pyx_t_3 = 0;
      __Pyx_DECREF(__pyx_v_b);
      __pyx_v_b = __pyx_t_9;
      __pyx_t_9 = 0;
      __Pyx_DECREF(__pyx_v_c);
      __pyx_v_c = __pyx_t_4;
      __pyx_t_4 = 0;
      __Pyx_DECREF(__pyx_v_i);
      __pyx_v_i = __pyx_t_11;
      __pyx_t_11 = 0;
    } else {
      __pyx_t_14 = PyObject_GetIter(__pyx_t_8); if (unlikely(!__pyx_t_14)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1426; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_14);
      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
      __pyx_t_3 = __Pyx_UnpackItem(__pyx_t_14, 0); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1426; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __pyx_t_9 = __Pyx_UnpackItem(__pyx_t_14, 1); if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1426; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_9);
      __pyx_t_4 = __Pyx_UnpackItem(__pyx_t_14, 2); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1426; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      __pyx_t_11 = __Pyx_UnpackItem(__pyx_t_14, 3); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1426; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_11);
      if (__Pyx_EndUnpack(__pyx_t_14, 4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1426; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
      __Pyx_DECREF(__pyx_v_a);
      __pyx_v_a = __pyx_t_3;
      __pyx_t_3 = 0;
      __Pyx_DECREF(__pyx_v_b);
      __pyx_v_b = __pyx_t_9;
      __pyx_t_9 = 0;
      __Pyx_DECREF(__pyx_v_c);
      __pyx_v_c = __pyx_t_4;
      __pyx_t_4 = 0;
      __Pyx_DECREF(__pyx_v_i);
      __pyx_v_i = __pyx_t_11;
      __pyx_t_11 = 0;
    }

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1427
 *         # Fill output array with data chunks.
 *         for (a,b,c,i) in zip(start, count, stride, put_ind):
 *             dataput = data[tuple(i)]             # <<<<<<<<<<<<<<
 *             # convert array scalar to regular array with one element.
 *             if dataput.shape == (): dataput=numpy.array(dataput,dataput.dtype)
 */
    __pyx_t_8 = PyTuple_New(1); if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1427; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_8);
    __Pyx_INCREF(__pyx_v_i);
    PyTuple_SET_ITEM(__pyx_t_8, 0, __pyx_v_i);
    __Pyx_GIVEREF(__pyx_v_i);
    __pyx_t_11 = PyObject_Call(((PyObject *)((PyObject*)&PyTuple_Type)), __pyx_t_8, NULL); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1427; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_11);
    __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
    __pyx_t_8 = PyObject_GetItem(__pyx_v_data, __pyx_t_11); if (!__pyx_t_8) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1427; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_8);
    __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
    __Pyx_DECREF(__pyx_v_dataput);
    __pyx_v_dataput = __pyx_t_8;
    __pyx_t_8 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1429
 *             dataput = data[tuple(i)]
 *             # convert array scalar to regular array with one element.
 *             if dataput.shape == (): dataput=numpy.array(dataput,dataput.dtype)             # <<<<<<<<<<<<<<
 *             self._put(dataput,a,b,c)
 * 
 */
    __pyx_t_8 = PyObject_GetAttr(__pyx_v_dataput, __pyx_n_s__shape); if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1429; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_8);
    __pyx_t_11 = PyObject_RichCompare(__pyx_t_8, ((PyObject *)__pyx_empty_tuple), Py_EQ); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1429; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_11);
    __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
    __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_t_11); if (unlikely(__pyx_t_1 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1429; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
    if (__pyx_t_1) {
      __pyx_t_11 = __Pyx_GetName(__pyx_m, __pyx_n_s__numpy); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1429; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_11);
      __pyx_t_8 = PyObject_GetAttr(__pyx_t_11, __pyx_n_s__array); if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1429; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_8);
      __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
      __pyx_t_11 = PyObject_GetAttr(__pyx_v_dataput, __pyx_n_s__dtype); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1429; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_11);
      __pyx_t_4 = PyTuple_New(2); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1429; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_INCREF(__pyx_v_dataput);
      PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_v_dataput);
      __Pyx_GIVEREF(__pyx_v_dataput);
      PyTuple_SET_ITEM(__pyx_t_4, 1, __pyx_t_11);
      __Pyx_GIVEREF(__pyx_t_11);
      __pyx_t_11 = 0;
      __pyx_t_11 = PyObject_Call(__pyx_t_8, __pyx_t_4, NULL); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1429; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_11);
      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __Pyx_DECREF(__pyx_v_dataput);
      __pyx_v_dataput = __pyx_t_11;
      __pyx_t_11 = 0;
      goto __pyx_L16;
    }
    __pyx_L16:;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1430
 *             # convert array scalar to regular array with one element.
 *             if dataput.shape == (): dataput=numpy.array(dataput,dataput.dtype)
 *             self._put(dataput,a,b,c)             # <<<<<<<<<<<<<<
 * 
 *     def __len__(self):
 */
    __pyx_t_11 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___put); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1430; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_11);
    __pyx_t_4 = PyTuple_New(4); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1430; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_INCREF(__pyx_v_dataput);
    PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_v_dataput);
    __Pyx_GIVEREF(__pyx_v_dataput);
    __Pyx_INCREF(__pyx_v_a);
    PyTuple_SET_ITEM(__pyx_t_4, 1, __pyx_v_a);
    __Pyx_GIVEREF(__pyx_v_a);
    __Pyx_INCREF(__pyx_v_b);
    PyTuple_SET_ITEM(__pyx_t_4, 2, __pyx_v_b);
    __Pyx_GIVEREF(__pyx_v_b);
    __Pyx_INCREF(__pyx_v_c);
    PyTuple_SET_ITEM(__pyx_t_4, 3, __pyx_v_c);
    __Pyx_GIVEREF(__pyx_v_c);
    __pyx_t_8 = PyObject_Call(__pyx_t_11, __pyx_t_4, NULL); if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1430; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_8);
    __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
  }
  __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_8);
  __Pyx_XDECREF(__pyx_t_9);
  __Pyx_XDECREF(__pyx_t_10);
  __Pyx_XDECREF(__pyx_t_11);
  __Pyx_XDECREF(__pyx_t_14);
  __Pyx_AddTraceback("netCDF3.Variable.__setitem__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_start);
  __Pyx_DECREF(__pyx_v_count);
  __Pyx_DECREF(__pyx_v_stride);
  __Pyx_DECREF(__pyx_v_put_ind);
  __Pyx_DECREF(__pyx_v_datashape);
  __Pyx_DECREF(__pyx_v_fillval);
  __Pyx_DECREF(__pyx_v_a);
  __Pyx_DECREF(__pyx_v_b);
  __Pyx_DECREF(__pyx_v_c);
  __Pyx_DECREF(__pyx_v_i);
  __Pyx_DECREF(__pyx_v_dataput);
  __Pyx_DECREF(__pyx_v_data);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1432
 *             self._put(dataput,a,b,c)
 * 
 *     def __len__(self):             # <<<<<<<<<<<<<<
 *         return self.shape[0]
 * 
 */

static Py_ssize_t __pyx_pf_7netCDF3_8Variable___len__(PyObject *__pyx_v_self); /*proto*/
static Py_ssize_t __pyx_pf_7netCDF3_8Variable___len__(PyObject *__pyx_v_self) {
  Py_ssize_t __pyx_r;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  Py_ssize_t __pyx_t_3;
  __Pyx_RefNannySetupContext("__len__");

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1433
 * 
 *     def __len__(self):
 *         return self.shape[0]             # <<<<<<<<<<<<<<
 * 
 *     def assignValue(self,val):
 */
  __pyx_t_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s__shape); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1433; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = __Pyx_GetItemInt(__pyx_t_1, 0, sizeof(long), PyInt_FromLong); if (!__pyx_t_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1433; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_3 = __Pyx_PyIndex_AsSsize_t(__pyx_t_2); if (unlikely((__pyx_t_3 == (Py_ssize_t)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1433; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_r = __pyx_t_3;
  goto __pyx_L0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_AddTraceback("netCDF3.Variable.__len__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1435
 *         return self.shape[0]
 * 
 *     def assignValue(self,val):             # <<<<<<<<<<<<<<
 *         """
 * assignValue(self, val)
 */

static PyObject *__pyx_pf_7netCDF3_8Variable_assignValue(PyObject *__pyx_v_self, PyObject *__pyx_v_val); /*proto*/
static char __pyx_doc_7netCDF3_8Variable_assignValue[] = "\nassignValue(self, val)\n\nassign a value to a scalar variable.  Provided for compatibility with \nScientific.IO.NetCDF, can also be done by assigning to a slice ([:]).";
static PyObject *__pyx_pf_7netCDF3_8Variable_assignValue(PyObject *__pyx_v_self, PyObject *__pyx_v_val) {
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  Py_ssize_t __pyx_t_2;
  PyObject *__pyx_t_3 = NULL;
  __Pyx_RefNannySetupContext("assignValue");

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1441
 * assign a value to a scalar variable.  Provided for compatibility with
 * Scientific.IO.NetCDF, can also be done by assigning to a slice ([:])."""
 *         if len(self.dimensions):             # <<<<<<<<<<<<<<
 *             raise IndexError('to assign values to a non-scalar variable, use a slice')
 *         self[:]=val
 */
  __pyx_t_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s__dimensions); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1441; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyObject_Length(__pyx_t_1); if (unlikely(__pyx_t_2 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1441; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  if (__pyx_t_2) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1442
 * Scientific.IO.NetCDF, can also be done by assigning to a slice ([:])."""
 *         if len(self.dimensions):
 *             raise IndexError('to assign values to a non-scalar variable, use a slice')             # <<<<<<<<<<<<<<
 *         self[:]=val
 * 
 */
    __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1442; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_INCREF(((PyObject *)__pyx_kp_s_22));
    PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject *)__pyx_kp_s_22));
    __Pyx_GIVEREF(((PyObject *)__pyx_kp_s_22));
    __pyx_t_3 = PyObject_Call(__pyx_builtin_IndexError, __pyx_t_1, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1442; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_Raise(__pyx_t_3, 0, 0);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1442; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L5;
  }
  __pyx_L5:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1443
 *         if len(self.dimensions):
 *             raise IndexError('to assign values to a non-scalar variable, use a slice')
 *         self[:]=val             # <<<<<<<<<<<<<<
 * 
 *     def getValue(self):
 */
  if (PySequence_SetSlice(__pyx_v_self, 0, PY_SSIZE_T_MAX, __pyx_v_val) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1443; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("netCDF3.Variable.assignValue");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1445
 *         self[:]=val
 * 
 *     def getValue(self):             # <<<<<<<<<<<<<<
 *         """
 * getValue(self)
 */

static PyObject *__pyx_pf_7netCDF3_8Variable_getValue(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
static char __pyx_doc_7netCDF3_8Variable_getValue[] = "\ngetValue(self)\n\nget the value of a scalar variable.  Provided for compatibility with \nScientific.IO.NetCDF, can also be done by slicing ([:]).";
static PyObject *__pyx_pf_7netCDF3_8Variable_getValue(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  Py_ssize_t __pyx_t_2;
  PyObject *__pyx_t_3 = NULL;
  __Pyx_RefNannySetupContext("getValue");

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1451
 * get the value of a scalar variable.  Provided for compatibility with
 * Scientific.IO.NetCDF, can also be done by slicing ([:])."""
 *         if len(self.dimensions):             # <<<<<<<<<<<<<<
 *             raise IndexError('to retrieve values from a non-scalar variable, use slicing')
 *         return self[:]
 */
  __pyx_t_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s__dimensions); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1451; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyObject_Length(__pyx_t_1); if (unlikely(__pyx_t_2 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1451; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  if (__pyx_t_2) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1452
 * Scientific.IO.NetCDF, can also be done by slicing ([:])."""
 *         if len(self.dimensions):
 *             raise IndexError('to retrieve values from a non-scalar variable, use slicing')             # <<<<<<<<<<<<<<
 *         return self[:]
 * 
 */
    __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1452; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_INCREF(((PyObject *)__pyx_kp_s_23));
    PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject *)__pyx_kp_s_23));
    __Pyx_GIVEREF(((PyObject *)__pyx_kp_s_23));
    __pyx_t_3 = PyObject_Call(__pyx_builtin_IndexError, __pyx_t_1, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1452; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_Raise(__pyx_t_3, 0, 0);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1452; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L5;
  }
  __pyx_L5:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1453
 *         if len(self.dimensions):
 *             raise IndexError('to retrieve values from a non-scalar variable, use slicing')
 *         return self[:]             # <<<<<<<<<<<<<<
 * 
 *     def set_auto_maskandscale(self,maskandscale):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_3 = PySequence_GetSlice(__pyx_v_self, 0, PY_SSIZE_T_MAX); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1453; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_r = __pyx_t_3;
  __pyx_t_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("netCDF3.Variable.getValue");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1455
 *         return self[:]
 * 
 *     def set_auto_maskandscale(self,maskandscale):             # <<<<<<<<<<<<<<
 *         """
 * set_auto_maskandscale(self,maskandscale)
 */

static PyObject *__pyx_pf_7netCDF3_8Variable_set_auto_maskandscale(PyObject *__pyx_v_self, PyObject *__pyx_v_maskandscale); /*proto*/
static char __pyx_doc_7netCDF3_8Variable_set_auto_maskandscale[] = "\nset_auto_maskandscale(self,maskandscale)\n\nturn on or off automatic conversion of variable data to and\nfrom masked arrays and automatic packing/unpacking of variable\ndata using C{scale_factor} and C{add_offset} attributes.\n\nIf C{maskandscale} is set to C{True}, when data is read from a variable\nit is converted to a masked array if any of the values are exactly\nequal to the either the netCDF _FillValue or the value specified by the \nmissing_value variable attribute. The fill_value of the masked array\nis set to the missing_value attribute (if it exists), otherwise\nthe netCDF _FillValue attribute (which has a default value\nfor each data type).  When data is written to a variable, the masked\narray is converted back to a regular numpy array by replacing all the\nmasked values by the fill_value of the masked array.\n\nIf C{maskandscale} is set to C{True}, and the variable has a\nC{scale_factor} and an C{add_offset} attribute, then data read\nfrom that variable is unpacked using::\n\n    data = self.scale_factor*data + self.add_offset\n            \nWhen data is written to a variable it is packed using::\n\n    data = (data - self.add_offset)/self.scale_factor\n\nFor more information on how C{scale_factor} and C{add_offset} can be \nused to provide simple compression, see\nU{http://www.cdc.noaa.gov/cdc/conventions/cdc_netcdf_standard.shtml\n<http://www.cdc.noaa.gov/cdc/conventions/cdc_netcdf_standard.shtml>}.\n\nThe default value of C{maskandscale} is C{True}\n(automatic conversions are performed).\n        ";
static PyObject *__pyx_pf_7netCDF3_8Variable_set_auto_maskandscale(PyObject *__pyx_v_self, PyObject *__pyx_v_maskandscale) {
  PyObject *__pyx_r = NULL;
  int __pyx_t_1;
  PyObject *__pyx_t_2 = NULL;
  __Pyx_RefNannySetupContext("set_auto_maskandscale");

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1491
 * (automatic conversions are performed).
 *         """
 *         if maskandscale:             # <<<<<<<<<<<<<<
 *             self.maskandscale = True
 *         else:
 */
  __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_v_maskandscale); if (unlikely(__pyx_t_1 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1491; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__pyx_t_1) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1492
 *         """
 *         if maskandscale:
 *             self.maskandscale = True             # <<<<<<<<<<<<<<
 *         else:
 *             self.maskandscale = False
 */
    __pyx_t_2 = __Pyx_PyBool_FromLong(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1492; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_GIVEREF(__pyx_t_2);
    __Pyx_GOTREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->maskandscale);
    __Pyx_DECREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->maskandscale);
    ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->maskandscale = __pyx_t_2;
    __pyx_t_2 = 0;
    goto __pyx_L5;
  }
  /*else*/ {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1494
 *             self.maskandscale = True
 *         else:
 *             self.maskandscale = False             # <<<<<<<<<<<<<<
 * 
 *     def _put(self,ndarray data,start,count,stride):
 */
    __pyx_t_2 = __Pyx_PyBool_FromLong(0); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1494; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_GIVEREF(__pyx_t_2);
    __Pyx_GOTREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->maskandscale);
    __Pyx_DECREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->maskandscale);
    ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->maskandscale = __pyx_t_2;
    __pyx_t_2 = 0;
  }
  __pyx_L5:;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_AddTraceback("netCDF3.Variable.set_auto_maskandscale");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1496
 *             self.maskandscale = False
 * 
 *     def _put(self,ndarray data,start,count,stride):             # <<<<<<<<<<<<<<
 *         """Private method to put data into a netCDF variable"""
 *         cdef int ierr, ndims, totelem
 */

static PyObject *__pyx_pf_7netCDF3_8Variable__put(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7netCDF3_8Variable__put[] = "Private method to put data into a netCDF variable";
static PyObject *__pyx_pf_7netCDF3_8Variable__put(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyArrayObject *__pyx_v_data = 0;
  PyObject *__pyx_v_start = 0;
  PyObject *__pyx_v_count = 0;
  PyObject *__pyx_v_stride = 0;
  int __pyx_v_ierr;
  int __pyx_v_ndims;
  int __pyx_v_totelem;
  size_t __pyx_v_startp[NC_MAX_DIMS];
  size_t __pyx_v_countp[NC_MAX_DIMS];
  ptrdiff_t __pyx_v_stridep[NC_MAX_DIMS];
  long __pyx_v_negstride;
  PyObject *__pyx_v_sl;
  long __pyx_v_n;
  npy_intp __pyx_v_dataelem;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  Py_ssize_t __pyx_t_2;
  int __pyx_t_3;
  PyObject *__pyx_t_4 = NULL;
  int __pyx_t_5;
  size_t __pyx_t_6;
  ptrdiff_t __pyx_t_7;
  PyObject *__pyx_t_8 = NULL;
  PyObject *__pyx_t_9 = NULL;
  int __pyx_t_10;
  int __pyx_t_11;
  int __pyx_t_12;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__data,&__pyx_n_s__start,&__pyx_n_s__count,&__pyx_n_s__stride,0};
  __Pyx_RefNannySetupContext("_put");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[4] = {0,0,0,0};
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
      case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__data);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__start);
      if (likely(values[1])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("_put", 1, 4, 4, 1); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1496; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
      case  2:
      values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__count);
      if (likely(values[2])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("_put", 1, 4, 4, 2); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1496; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
      case  3:
      values[3] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__stride);
      if (likely(values[3])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("_put", 1, 4, 4, 3); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1496; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "_put") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1496; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_data = ((PyArrayObject *)values[0]);
    __pyx_v_start = values[1];
    __pyx_v_count = values[2];
    __pyx_v_stride = values[3];
  } else if (PyTuple_GET_SIZE(__pyx_args) != 4) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_data = ((PyArrayObject *)PyTuple_GET_ITEM(__pyx_args, 0));
    __pyx_v_start = PyTuple_GET_ITEM(__pyx_args, 1);
    __pyx_v_count = PyTuple_GET_ITEM(__pyx_args, 2);
    __pyx_v_stride = PyTuple_GET_ITEM(__pyx_args, 3);
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_put", 1, 4, 4, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1496; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF3.Variable._put");
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __Pyx_INCREF((PyObject *)__pyx_v_data);
  __pyx_v_sl = ((PyObject *)Py_None); __Pyx_INCREF(Py_None);
  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_data), __pyx_ptype_7netCDF3_ndarray, 1, "data", 0))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1496; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1502
 *         cdef ptrdiff_t stridep[NC_MAX_DIMS]
 *         # rank of variable.
 *         ndims = len(self.dimensions)             # <<<<<<<<<<<<<<
 *         # make sure data is contiguous.
 *         # if not, make a local copy.
 */
  __pyx_t_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s__dimensions); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1502; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyObject_Length(__pyx_t_1); if (unlikely(__pyx_t_2 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1502; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_ndims = __pyx_t_2;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1505
 *         # make sure data is contiguous.
 *         # if not, make a local copy.
 *         if not PyArray_ISCONTIGUOUS(data):             # <<<<<<<<<<<<<<
 *             data = data.copy()
 *         # fill up startp,countp,stridep.
 */
  __pyx_t_3 = (!PyArray_ISCONTIGUOUS(__pyx_v_data));
  if (__pyx_t_3) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1506
 *         # if not, make a local copy.
 *         if not PyArray_ISCONTIGUOUS(data):
 *             data = data.copy()             # <<<<<<<<<<<<<<
 *         # fill up startp,countp,stridep.
 *         totelem = 1
 */
    __pyx_t_1 = PyObject_GetAttr(((PyObject *)__pyx_v_data), __pyx_n_s__copy); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1506; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_4 = PyObject_Call(__pyx_t_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1506; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    if (!(likely(((__pyx_t_4) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_4, __pyx_ptype_7netCDF3_ndarray))))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1506; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(((PyObject *)__pyx_v_data));
    __pyx_v_data = ((PyArrayObject *)__pyx_t_4);
    __pyx_t_4 = 0;
    goto __pyx_L6;
  }
  __pyx_L6:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1508
 *             data = data.copy()
 *         # fill up startp,countp,stridep.
 *         totelem = 1             # <<<<<<<<<<<<<<
 *         negstride = 0
 *         sl = []
 */
  __pyx_v_totelem = 1;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1509
 *         # fill up startp,countp,stridep.
 *         totelem = 1
 *         negstride = 0             # <<<<<<<<<<<<<<
 *         sl = []
 *         for n from 0 <= n < ndims:
 */
  __pyx_v_negstride = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1510
 *         totelem = 1
 *         negstride = 0
 *         sl = []             # <<<<<<<<<<<<<<
 *         for n from 0 <= n < ndims:
 *             count[n] = abs(count[n]) # make -1 into +1
 */
  __pyx_t_4 = PyList_New(0); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1510; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_4));
  __Pyx_DECREF(((PyObject *)__pyx_v_sl));
  __pyx_v_sl = __pyx_t_4;
  __pyx_t_4 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1511
 *         negstride = 0
 *         sl = []
 *         for n from 0 <= n < ndims:             # <<<<<<<<<<<<<<
 *             count[n] = abs(count[n]) # make -1 into +1
 *             countp[n] = count[n]
 */
  __pyx_t_5 = __pyx_v_ndims;
  for (__pyx_v_n = 0; __pyx_v_n < __pyx_t_5; __pyx_v_n++) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1512
 *         sl = []
 *         for n from 0 <= n < ndims:
 *             count[n] = abs(count[n]) # make -1 into +1             # <<<<<<<<<<<<<<
 *             countp[n] = count[n]
 *             # for neg strides, reverse order (then flip that axis after data read in)
 */
    __pyx_t_4 = __Pyx_GetItemInt(__pyx_v_count, __pyx_v_n, sizeof(long), PyInt_FromLong); if (!__pyx_t_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1512; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_1 = PyNumber_Absolute(__pyx_t_4); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1512; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    if (__Pyx_SetItemInt(__pyx_v_count, __pyx_v_n, __pyx_t_1, sizeof(long), PyInt_FromLong) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1512; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1513
 *         for n from 0 <= n < ndims:
 *             count[n] = abs(count[n]) # make -1 into +1
 *             countp[n] = count[n]             # <<<<<<<<<<<<<<
 *             # for neg strides, reverse order (then flip that axis after data read in)
 *             if stride[n] < 0:
 */
    __pyx_t_1 = __Pyx_GetItemInt(__pyx_v_count, __pyx_v_n, sizeof(long), PyInt_FromLong); if (!__pyx_t_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1513; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_6 = __Pyx_PyInt_AsSize_t(__pyx_t_1); if (unlikely((__pyx_t_6 == (size_t)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1513; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    (__pyx_v_countp[__pyx_v_n]) = __pyx_t_6;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1515
 *             countp[n] = count[n]
 *             # for neg strides, reverse order (then flip that axis after data read in)
 *             if stride[n] < 0:             # <<<<<<<<<<<<<<
 *                 negstride = 1
 *                 stridep[n] = -stride[n]
 */
    __pyx_t_1 = __Pyx_GetItemInt(__pyx_v_stride, __pyx_v_n, sizeof(long), PyInt_FromLong); if (!__pyx_t_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1515; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_4 = PyObject_RichCompare(__pyx_t_1, __pyx_int_0, Py_LT); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1515; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely(__pyx_t_3 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1515; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    if (__pyx_t_3) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1516
 *             # for neg strides, reverse order (then flip that axis after data read in)
 *             if stride[n] < 0:
 *                 negstride = 1             # <<<<<<<<<<<<<<
 *                 stridep[n] = -stride[n]
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)
 */
      __pyx_v_negstride = 1;

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1517
 *             if stride[n] < 0:
 *                 negstride = 1
 *                 stridep[n] = -stride[n]             # <<<<<<<<<<<<<<
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)
 *                 stride[n] = -stride[n]
 */
      __pyx_t_4 = __Pyx_GetItemInt(__pyx_v_stride, __pyx_v_n, sizeof(long), PyInt_FromLong); if (!__pyx_t_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1517; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      __pyx_t_1 = PyNumber_Negative(__pyx_t_4); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1517; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_7 = __Pyx_PyInt_from_py_ptrdiff_t(__pyx_t_1); if (unlikely((__pyx_t_7 == (ptrdiff_t)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1517; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      (__pyx_v_stridep[__pyx_v_n]) = __pyx_t_7;

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1518
 *                 negstride = 1
 *                 stridep[n] = -stride[n]
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)             # <<<<<<<<<<<<<<
 *                 stride[n] = -stride[n]
 *                 sl.append(slice(None, None, -1)) # this slice will reverse the data
 */
      __pyx_t_1 = __Pyx_GetItemInt(__pyx_v_start, __pyx_v_n, sizeof(long), PyInt_FromLong); if (!__pyx_t_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1518; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      __pyx_t_4 = __Pyx_GetItemInt(__pyx_v_stride, __pyx_v_n, sizeof(long), PyInt_FromLong); if (!__pyx_t_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1518; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      __pyx_t_8 = __Pyx_GetItemInt(__pyx_v_count, __pyx_v_n, sizeof(long), PyInt_FromLong); if (!__pyx_t_8) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1518; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_8);
      __pyx_t_9 = PyNumber_Subtract(__pyx_t_8, __pyx_int_1); if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1518; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_9);
      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
      __pyx_t_8 = PyNumber_Multiply(__pyx_t_4, __pyx_t_9); if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1518; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_8);
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
      __pyx_t_9 = PyNumber_Add(__pyx_t_1, __pyx_t_8); if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1518; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_9);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
      __pyx_t_6 = __Pyx_PyInt_AsSize_t(__pyx_t_9); if (unlikely((__pyx_t_6 == (size_t)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1518; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
      (__pyx_v_startp[__pyx_v_n]) = __pyx_t_6;

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1519
 *                 stridep[n] = -stride[n]
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)
 *                 stride[n] = -stride[n]             # <<<<<<<<<<<<<<
 *                 sl.append(slice(None, None, -1)) # this slice will reverse the data
 *             else:
 */
      __pyx_t_9 = __Pyx_GetItemInt(__pyx_v_stride, __pyx_v_n, sizeof(long), PyInt_FromLong); if (!__pyx_t_9) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1519; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_9);
      __pyx_t_8 = PyNumber_Negative(__pyx_t_9); if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1519; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_8);
      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
      if (__Pyx_SetItemInt(__pyx_v_stride, __pyx_v_n, __pyx_t_8, sizeof(long), PyInt_FromLong) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1519; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1520
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)
 *                 stride[n] = -stride[n]
 *                 sl.append(slice(None, None, -1)) # this slice will reverse the data             # <<<<<<<<<<<<<<
 *             else:
 *                 startp[n] = start[n]
 */
      if (unlikely(__pyx_v_sl == Py_None)) {
        PyErr_SetString(PyExc_AttributeError, "'NoneType' object has no attribute 'append'"); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1520; __pyx_clineno = __LINE__; goto __pyx_L1_error;} 
      }
      __pyx_t_8 = PyTuple_New(3); if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1520; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_8);
      __Pyx_INCREF(Py_None);
      PyTuple_SET_ITEM(__pyx_t_8, 0, Py_None);
      __Pyx_GIVEREF(Py_None);
      __Pyx_INCREF(Py_None);
      PyTuple_SET_ITEM(__pyx_t_8, 1, Py_None);
      __Pyx_GIVEREF(Py_None);
      __Pyx_INCREF(__pyx_int_neg_1);
      PyTuple_SET_ITEM(__pyx_t_8, 2, __pyx_int_neg_1);
      __Pyx_GIVEREF(__pyx_int_neg_1);
      __pyx_t_9 = PyObject_Call(((PyObject *)((PyObject*)&PySlice_Type)), __pyx_t_8, NULL); if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1520; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_9);
      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
      __pyx_t_10 = PyList_Append(((PyObject *)__pyx_v_sl), __pyx_t_9); if (unlikely(__pyx_t_10 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1520; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
      goto __pyx_L9;
    }
    /*else*/ {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1522
 *                 sl.append(slice(None, None, -1)) # this slice will reverse the data
 *             else:
 *                 startp[n] = start[n]             # <<<<<<<<<<<<<<
 *                 stridep[n] = stride[n]
 *                 sl.append(slice(None,None, 1))
 */
      __pyx_t_9 = __Pyx_GetItemInt(__pyx_v_start, __pyx_v_n, sizeof(long), PyInt_FromLong); if (!__pyx_t_9) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1522; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_9);
      __pyx_t_6 = __Pyx_PyInt_AsSize_t(__pyx_t_9); if (unlikely((__pyx_t_6 == (size_t)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1522; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
      (__pyx_v_startp[__pyx_v_n]) = __pyx_t_6;

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1523
 *             else:
 *                 startp[n] = start[n]
 *                 stridep[n] = stride[n]             # <<<<<<<<<<<<<<
 *                 sl.append(slice(None,None, 1))
 *             totelem = totelem*countp[n]
 */
      __pyx_t_9 = __Pyx_GetItemInt(__pyx_v_stride, __pyx_v_n, sizeof(long), PyInt_FromLong); if (!__pyx_t_9) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1523; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_9);
      __pyx_t_7 = __Pyx_PyInt_from_py_ptrdiff_t(__pyx_t_9); if (unlikely((__pyx_t_7 == (ptrdiff_t)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1523; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
      (__pyx_v_stridep[__pyx_v_n]) = __pyx_t_7;

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1524
 *                 startp[n] = start[n]
 *                 stridep[n] = stride[n]
 *                 sl.append(slice(None,None, 1))             # <<<<<<<<<<<<<<
 *             totelem = totelem*countp[n]
 *         # check to see that size of data array is what is expected
 */
      if (unlikely(__pyx_v_sl == Py_None)) {
        PyErr_SetString(PyExc_AttributeError, "'NoneType' object has no attribute 'append'"); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1524; __pyx_clineno = __LINE__; goto __pyx_L1_error;} 
      }
      __pyx_t_9 = PyTuple_New(3); if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1524; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_9);
      __Pyx_INCREF(Py_None);
      PyTuple_SET_ITEM(__pyx_t_9, 0, Py_None);
      __Pyx_GIVEREF(Py_None);
      __Pyx_INCREF(Py_None);
      PyTuple_SET_ITEM(__pyx_t_9, 1, Py_None);
      __Pyx_GIVEREF(Py_None);
      __Pyx_INCREF(__pyx_int_1);
      PyTuple_SET_ITEM(__pyx_t_9, 2, __pyx_int_1);
      __Pyx_GIVEREF(__pyx_int_1);
      __pyx_t_8 = PyObject_Call(((PyObject *)((PyObject*)&PySlice_Type)), __pyx_t_9, NULL); if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1524; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_8);
      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
      __pyx_t_10 = PyList_Append(((PyObject *)__pyx_v_sl), __pyx_t_8); if (unlikely(__pyx_t_10 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1524; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
    }
    __pyx_L9:;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1525
 *                 stridep[n] = stride[n]
 *                 sl.append(slice(None,None, 1))
 *             totelem = totelem*countp[n]             # <<<<<<<<<<<<<<
 *         # check to see that size of data array is what is expected
 *         # for slice given.
 */
    __pyx_v_totelem = (__pyx_v_totelem * (__pyx_v_countp[__pyx_v_n]));
  }

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1528
 *         # check to see that size of data array is what is expected
 *         # for slice given.
 *         dataelem = PyArray_SIZE(data)             # <<<<<<<<<<<<<<
 *         if totelem != dataelem:
 *             raise IndexError('size of data array does not conform to slice')
 */
  __pyx_v_dataelem = PyArray_SIZE(__pyx_v_data);

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1529
 *         # for slice given.
 *         dataelem = PyArray_SIZE(data)
 *         if totelem != dataelem:             # <<<<<<<<<<<<<<
 *             raise IndexError('size of data array does not conform to slice')
 *         # if data type of array doesn't match variable,
 */
  __pyx_t_3 = (__pyx_v_totelem != __pyx_v_dataelem);
  if (__pyx_t_3) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1530
 *         dataelem = PyArray_SIZE(data)
 *         if totelem != dataelem:
 *             raise IndexError('size of data array does not conform to slice')             # <<<<<<<<<<<<<<
 *         # if data type of array doesn't match variable,
 *         # try to cast the data.
 */
    __pyx_t_8 = PyTuple_New(1); if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1530; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_8);
    __Pyx_INCREF(((PyObject *)__pyx_kp_s_24));
    PyTuple_SET_ITEM(__pyx_t_8, 0, ((PyObject *)__pyx_kp_s_24));
    __Pyx_GIVEREF(((PyObject *)__pyx_kp_s_24));
    __pyx_t_9 = PyObject_Call(__pyx_builtin_IndexError, __pyx_t_8, NULL); if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1530; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_9);
    __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
    __Pyx_Raise(__pyx_t_9, 0, 0);
    __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1530; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L10;
  }
  __pyx_L10:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1533
 *         # if data type of array doesn't match variable,
 *         # try to cast the data.
 *         if self.dtype != data.dtype:             # <<<<<<<<<<<<<<
 *             data = data.astype(self.dtype) # cast data, if necessary.
 *         # if there is a negative stride, reverse the data, then use put_vars.
 */
  __pyx_t_9 = PyObject_GetAttr(((PyObject *)__pyx_v_data), __pyx_n_s__dtype); if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1533; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_9);
  __pyx_t_8 = PyObject_RichCompare(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype, __pyx_t_9, Py_NE); if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1533; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_8);
  __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
  __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_t_8); if (unlikely(__pyx_t_3 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1533; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
  if (__pyx_t_3) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1534
 *         # try to cast the data.
 *         if self.dtype != data.dtype:
 *             data = data.astype(self.dtype) # cast data, if necessary.             # <<<<<<<<<<<<<<
 *         # if there is a negative stride, reverse the data, then use put_vars.
 *         if negstride:
 */
    __pyx_t_8 = PyObject_GetAttr(((PyObject *)__pyx_v_data), __pyx_n_s__astype); if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1534; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_8);
    __pyx_t_9 = PyTuple_New(1); if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1534; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_9);
    __Pyx_INCREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype);
    PyTuple_SET_ITEM(__pyx_t_9, 0, ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype);
    __Pyx_GIVEREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype);
    __pyx_t_1 = PyObject_Call(__pyx_t_8, __pyx_t_9, NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1534; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
    __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
    if (!(likely(((__pyx_t_1) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_7netCDF3_ndarray))))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1534; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(((PyObject *)__pyx_v_data));
    __pyx_v_data = ((PyArrayObject *)__pyx_t_1);
    __pyx_t_1 = 0;
    goto __pyx_L11;
  }
  __pyx_L11:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1536
 *             data = data.astype(self.dtype) # cast data, if necessary.
 *         # if there is a negative stride, reverse the data, then use put_vars.
 *         if negstride:             # <<<<<<<<<<<<<<
 *             # reverse data along axes with negative strides.
 *             data = data[sl].copy() # make sure a copy is made.
 */
  if (__pyx_v_negstride) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1538
 *         if negstride:
 *             # reverse data along axes with negative strides.
 *             data = data[sl].copy() # make sure a copy is made.             # <<<<<<<<<<<<<<
 *         # strides all 1 or scalar variable, use put_vara (faster)
 *         if sum(stride) == ndims or ndims == 0:
 */
    __pyx_t_1 = PyObject_GetItem(((PyObject *)__pyx_v_data), ((PyObject *)__pyx_v_sl)); if (!__pyx_t_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1538; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_9 = PyObject_GetAttr(__pyx_t_1, __pyx_n_s__copy); if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1538; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_9);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = PyObject_Call(__pyx_t_9, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1538; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
    if (!(likely(((__pyx_t_1) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_7netCDF3_ndarray))))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1538; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(((PyObject *)__pyx_v_data));
    __pyx_v_data = ((PyArrayObject *)__pyx_t_1);
    __pyx_t_1 = 0;
    goto __pyx_L12;
  }
  __pyx_L12:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1540
 *             data = data[sl].copy() # make sure a copy is made.
 *         # strides all 1 or scalar variable, use put_vara (faster)
 *         if sum(stride) == ndims or ndims == 0:             # <<<<<<<<<<<<<<
 *             ierr = nc_put_vara(self._grpid, self._varid,
 *                                startp, countp, data.data)
 */
  __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1540; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_INCREF(__pyx_v_stride);
  PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v_stride);
  __Pyx_GIVEREF(__pyx_v_stride);
  __pyx_t_9 = PyObject_Call(__pyx_builtin_sum, __pyx_t_1, NULL); if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1540; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_9);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = PyInt_FromLong(__pyx_v_ndims); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1540; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_8 = PyObject_RichCompare(__pyx_t_9, __pyx_t_1, Py_EQ); if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1540; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_8);
  __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_t_8); if (unlikely(__pyx_t_3 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1540; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
  if (!__pyx_t_3) {
    __pyx_t_11 = (__pyx_v_ndims == 0);
    __pyx_t_12 = __pyx_t_11;
  } else {
    __pyx_t_12 = __pyx_t_3;
  }
  if (__pyx_t_12) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1542
 *         if sum(stride) == ndims or ndims == 0:
 *             ierr = nc_put_vara(self._grpid, self._varid,
 *                                startp, countp, data.data)             # <<<<<<<<<<<<<<
 *         else:
 *             ierr = nc_put_vars(self._grpid, self._varid,
 */
    __pyx_v_ierr = nc_put_vara(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grpid, ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_varid, __pyx_v_startp, __pyx_v_countp, __pyx_v_data->data);
    goto __pyx_L13;
  }
  /*else*/ {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1545
 *         else:
 *             ierr = nc_put_vars(self._grpid, self._varid,
 *                                   startp, countp, stridep, data.data)             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
    __pyx_v_ierr = nc_put_vars(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grpid, ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_varid, __pyx_v_startp, __pyx_v_countp, __pyx_v_stridep, __pyx_v_data->data);
  }
  __pyx_L13:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1546
 *             ierr = nc_put_vars(self._grpid, self._varid,
 *                                   startp, countp, stridep, data.data)
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise RuntimeError(nc_strerror(ierr))
 * 
 */
  __pyx_t_12 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_t_12) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1547
 *                                   startp, countp, stridep, data.data)
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 * 
 *     def _get(self,start,count,stride):
 */
    __pyx_t_8 = PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1547; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(((PyObject *)__pyx_t_8));
    __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1547; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject *)__pyx_t_8));
    __Pyx_GIVEREF(((PyObject *)__pyx_t_8));
    __pyx_t_8 = 0;
    __pyx_t_8 = PyObject_Call(__pyx_builtin_RuntimeError, __pyx_t_1, NULL); if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1547; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_8);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_Raise(__pyx_t_8, 0, 0);
    __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1547; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L14;
  }
  __pyx_L14:;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_8);
  __Pyx_XDECREF(__pyx_t_9);
  __Pyx_AddTraceback("netCDF3.Variable._put");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_sl);
  __Pyx_DECREF((PyObject *)__pyx_v_data);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1549
 *             raise RuntimeError(nc_strerror(ierr))
 * 
 *     def _get(self,start,count,stride):             # <<<<<<<<<<<<<<
 *         """Private method to retrieve data from a netCDF variable"""
 *         cdef int ierr, ndims
 */

static PyObject *__pyx_pf_7netCDF3_8Variable__get(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7netCDF3_8Variable__get[] = "Private method to retrieve data from a netCDF variable";
static PyObject *__pyx_pf_7netCDF3_8Variable__get(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_start = 0;
  PyObject *__pyx_v_count = 0;
  PyObject *__pyx_v_stride = 0;
  int __pyx_v_ierr;
  int __pyx_v_ndims;
  size_t __pyx_v_startp[NC_MAX_DIMS];
  size_t __pyx_v_countp[NC_MAX_DIMS];
  ptrdiff_t __pyx_v_stridep[NC_MAX_DIMS];
  PyArrayObject *__pyx_v_data;
  PyObject *__pyx_v_shapeout;
  int __pyx_v_squeeze_out;
  PyObject *__pyx_v_lendim;
  long __pyx_v_negstride;
  PyObject *__pyx_v_sl;
  long __pyx_v_n;
  PyObject *__pyx_r = NULL;
  Py_ssize_t __pyx_t_1;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  int __pyx_t_4;
  PyObject *__pyx_t_5 = NULL;
  int __pyx_t_6;
  size_t __pyx_t_7;
  ptrdiff_t __pyx_t_8;
  PyObject *__pyx_t_9 = NULL;
  int __pyx_t_10;
  int __pyx_t_11;
  int __pyx_t_12;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__start,&__pyx_n_s__count,&__pyx_n_s__stride,0};
  __Pyx_RefNannySetupContext("_get");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[3] = {0,0,0};
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__start);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__count);
      if (likely(values[1])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("_get", 1, 3, 3, 1); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1549; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
      case  2:
      values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__stride);
      if (likely(values[2])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("_get", 1, 3, 3, 2); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1549; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "_get") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1549; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_start = values[0];
    __pyx_v_count = values[1];
    __pyx_v_stride = values[2];
  } else if (PyTuple_GET_SIZE(__pyx_args) != 3) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_start = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_count = PyTuple_GET_ITEM(__pyx_args, 1);
    __pyx_v_stride = PyTuple_GET_ITEM(__pyx_args, 2);
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("_get", 1, 3, 3, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1549; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF3.Variable._get");
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_v_data = ((PyArrayObject *)Py_None); __Pyx_INCREF(Py_None);
  __pyx_v_shapeout = ((PyObject *)Py_None); __Pyx_INCREF(Py_None);
  __pyx_v_lendim = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_sl = ((PyObject *)Py_None); __Pyx_INCREF(Py_None);

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1558
 *         # and not a slice so the resulting array
 *         # should be 'squeezed' to remove the singleton dimension.
 *         shapeout = ()             # <<<<<<<<<<<<<<
 *         squeeze_out = False
 *         for lendim in count:
 */
  __Pyx_INCREF(((PyObject *)__pyx_empty_tuple));
  __Pyx_DECREF(((PyObject *)__pyx_v_shapeout));
  __pyx_v_shapeout = __pyx_empty_tuple;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1559
 *         # should be 'squeezed' to remove the singleton dimension.
 *         shapeout = ()
 *         squeeze_out = False             # <<<<<<<<<<<<<<
 *         for lendim in count:
 *             if lendim == -1:
 */
  __pyx_v_squeeze_out = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1560
 *         shapeout = ()
 *         squeeze_out = False
 *         for lendim in count:             # <<<<<<<<<<<<<<
 *             if lendim == -1:
 *                 shapeout = shapeout + (1,)
 */
  if (PyList_CheckExact(__pyx_v_count) || PyTuple_CheckExact(__pyx_v_count)) {
    __pyx_t_1 = 0; __pyx_t_2 = __pyx_v_count; __Pyx_INCREF(__pyx_t_2);
  } else {
    __pyx_t_1 = -1; __pyx_t_2 = PyObject_GetIter(__pyx_v_count); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1560; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
  }
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_t_2))) {
      if (__pyx_t_1 >= PyList_GET_SIZE(__pyx_t_2)) break;
      __pyx_t_3 = PyList_GET_ITEM(__pyx_t_2, __pyx_t_1); __Pyx_INCREF(__pyx_t_3); __pyx_t_1++;
    } else if (likely(PyTuple_CheckExact(__pyx_t_2))) {
      if (__pyx_t_1 >= PyTuple_GET_SIZE(__pyx_t_2)) break;
      __pyx_t_3 = PyTuple_GET_ITEM(__pyx_t_2, __pyx_t_1); __Pyx_INCREF(__pyx_t_3); __pyx_t_1++;
    } else {
      __pyx_t_3 = PyIter_Next(__pyx_t_2);
      if (!__pyx_t_3) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1560; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
      __Pyx_GOTREF(__pyx_t_3);
    }
    __Pyx_DECREF(__pyx_v_lendim);
    __pyx_v_lendim = __pyx_t_3;
    __pyx_t_3 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1561
 *         squeeze_out = False
 *         for lendim in count:
 *             if lendim == -1:             # <<<<<<<<<<<<<<
 *                 shapeout = shapeout + (1,)
 *                 squeeze_out = True
 */
    __pyx_t_3 = PyObject_RichCompare(__pyx_v_lendim, __pyx_int_neg_1, Py_EQ); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1561; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1561; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    if (__pyx_t_4) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1562
 *         for lendim in count:
 *             if lendim == -1:
 *                 shapeout = shapeout + (1,)             # <<<<<<<<<<<<<<
 *                 squeeze_out = True
 *             else:
 */
      __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1562; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_INCREF(__pyx_int_1);
      PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_int_1);
      __Pyx_GIVEREF(__pyx_int_1);
      __pyx_t_5 = PyNumber_Add(((PyObject *)__pyx_v_shapeout), __pyx_t_3); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1562; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      if (!(likely(PyTuple_CheckExact(__pyx_t_5))||((__pyx_t_5) == Py_None)||(PyErr_Format(PyExc_TypeError, "Expected tuple, got %.200s", Py_TYPE(__pyx_t_5)->tp_name), 0))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1562; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(((PyObject *)__pyx_v_shapeout));
      __pyx_v_shapeout = ((PyObject *)__pyx_t_5);
      __pyx_t_5 = 0;

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1563
 *             if lendim == -1:
 *                 shapeout = shapeout + (1,)
 *                 squeeze_out = True             # <<<<<<<<<<<<<<
 *             else:
 *                 shapeout = shapeout + (lendim,)
 */
      __pyx_v_squeeze_out = 1;
      goto __pyx_L8;
    }
    /*else*/ {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1565
 *                 squeeze_out = True
 *             else:
 *                 shapeout = shapeout + (lendim,)             # <<<<<<<<<<<<<<
 *         # rank of variable.
 *         ndims = len(self.dimensions)
 */
      __pyx_t_5 = PyTuple_New(1); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1565; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_INCREF(__pyx_v_lendim);
      PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_v_lendim);
      __Pyx_GIVEREF(__pyx_v_lendim);
      __pyx_t_3 = PyNumber_Add(((PyObject *)__pyx_v_shapeout), __pyx_t_5); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1565; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      if (!(likely(PyTuple_CheckExact(__pyx_t_3))||((__pyx_t_3) == Py_None)||(PyErr_Format(PyExc_TypeError, "Expected tuple, got %.200s", Py_TYPE(__pyx_t_3)->tp_name), 0))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1565; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(((PyObject *)__pyx_v_shapeout));
      __pyx_v_shapeout = ((PyObject *)__pyx_t_3);
      __pyx_t_3 = 0;
    }
    __pyx_L8:;
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1567
 *                 shapeout = shapeout + (lendim,)
 *         # rank of variable.
 *         ndims = len(self.dimensions)             # <<<<<<<<<<<<<<
 *         # fill up startp,countp,stridep.
 *         negstride = 0
 */
  __pyx_t_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s__dimensions); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1567; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_1 = PyObject_Length(__pyx_t_2); if (unlikely(__pyx_t_1 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1567; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_v_ndims = __pyx_t_1;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1569
 *         ndims = len(self.dimensions)
 *         # fill up startp,countp,stridep.
 *         negstride = 0             # <<<<<<<<<<<<<<
 *         sl = []
 *         for n from 0 <= n < ndims:
 */
  __pyx_v_negstride = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1570
 *         # fill up startp,countp,stridep.
 *         negstride = 0
 *         sl = []             # <<<<<<<<<<<<<<
 *         for n from 0 <= n < ndims:
 *             count[n] = abs(count[n]) # make -1 into +1
 */
  __pyx_t_2 = PyList_New(0); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1570; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_2));
  __Pyx_DECREF(((PyObject *)__pyx_v_sl));
  __pyx_v_sl = __pyx_t_2;
  __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1571
 *         negstride = 0
 *         sl = []
 *         for n from 0 <= n < ndims:             # <<<<<<<<<<<<<<
 *             count[n] = abs(count[n]) # make -1 into +1
 *             countp[n] = count[n]
 */
  __pyx_t_6 = __pyx_v_ndims;
  for (__pyx_v_n = 0; __pyx_v_n < __pyx_t_6; __pyx_v_n++) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1572
 *         sl = []
 *         for n from 0 <= n < ndims:
 *             count[n] = abs(count[n]) # make -1 into +1             # <<<<<<<<<<<<<<
 *             countp[n] = count[n]
 *             # for neg strides, reverse order (then flip that axis after data read in)
 */
    __pyx_t_2 = __Pyx_GetItemInt(__pyx_v_count, __pyx_v_n, sizeof(long), PyInt_FromLong); if (!__pyx_t_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1572; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_3 = PyNumber_Absolute(__pyx_t_2); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1572; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    if (__Pyx_SetItemInt(__pyx_v_count, __pyx_v_n, __pyx_t_3, sizeof(long), PyInt_FromLong) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1572; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1573
 *         for n from 0 <= n < ndims:
 *             count[n] = abs(count[n]) # make -1 into +1
 *             countp[n] = count[n]             # <<<<<<<<<<<<<<
 *             # for neg strides, reverse order (then flip that axis after data read in)
 *             if stride[n] < 0:
 */
    __pyx_t_3 = __Pyx_GetItemInt(__pyx_v_count, __pyx_v_n, sizeof(long), PyInt_FromLong); if (!__pyx_t_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1573; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_7 = __Pyx_PyInt_AsSize_t(__pyx_t_3); if (unlikely((__pyx_t_7 == (size_t)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1573; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    (__pyx_v_countp[__pyx_v_n]) = __pyx_t_7;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1575
 *             countp[n] = count[n]
 *             # for neg strides, reverse order (then flip that axis after data read in)
 *             if stride[n] < 0:             # <<<<<<<<<<<<<<
 *                 negstride = 1
 *                 stridep[n] = -stride[n]
 */
    __pyx_t_3 = __Pyx_GetItemInt(__pyx_v_stride, __pyx_v_n, sizeof(long), PyInt_FromLong); if (!__pyx_t_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1575; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_2 = PyObject_RichCompare(__pyx_t_3, __pyx_int_0, Py_LT); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1575; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely(__pyx_t_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1575; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    if (__pyx_t_4) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1576
 *             # for neg strides, reverse order (then flip that axis after data read in)
 *             if stride[n] < 0:
 *                 negstride = 1             # <<<<<<<<<<<<<<
 *                 stridep[n] = -stride[n]
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)
 */
      __pyx_v_negstride = 1;

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1577
 *             if stride[n] < 0:
 *                 negstride = 1
 *                 stridep[n] = -stride[n]             # <<<<<<<<<<<<<<
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)
 *                 stride[n] = -stride[n]
 */
      __pyx_t_2 = __Pyx_GetItemInt(__pyx_v_stride, __pyx_v_n, sizeof(long), PyInt_FromLong); if (!__pyx_t_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1577; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_2);
      __pyx_t_3 = PyNumber_Negative(__pyx_t_2); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1577; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_8 = __Pyx_PyInt_from_py_ptrdiff_t(__pyx_t_3); if (unlikely((__pyx_t_8 == (ptrdiff_t)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1577; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      (__pyx_v_stridep[__pyx_v_n]) = __pyx_t_8;

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1578
 *                 negstride = 1
 *                 stridep[n] = -stride[n]
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)             # <<<<<<<<<<<<<<
 *                 stride[n] = -stride[n]
 *                 sl.append(slice(None, None, -1)) # this slice will reverse the data
 */
      __pyx_t_3 = __Pyx_GetItemInt(__pyx_v_start, __pyx_v_n, sizeof(long), PyInt_FromLong); if (!__pyx_t_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1578; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __pyx_t_2 = __Pyx_GetItemInt(__pyx_v_stride, __pyx_v_n, sizeof(long), PyInt_FromLong); if (!__pyx_t_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1578; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_2);
      __pyx_t_5 = __Pyx_GetItemInt(__pyx_v_count, __pyx_v_n, sizeof(long), PyInt_FromLong); if (!__pyx_t_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1578; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_5);
      __pyx_t_9 = PyNumber_Subtract(__pyx_t_5, __pyx_int_1); if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1578; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_9);
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_5 = PyNumber_Multiply(__pyx_t_2, __pyx_t_9); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1578; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
      __pyx_t_9 = PyNumber_Add(__pyx_t_3, __pyx_t_5); if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1578; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_9);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_7 = __Pyx_PyInt_AsSize_t(__pyx_t_9); if (unlikely((__pyx_t_7 == (size_t)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1578; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
      (__pyx_v_startp[__pyx_v_n]) = __pyx_t_7;

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1579
 *                 stridep[n] = -stride[n]
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)
 *                 stride[n] = -stride[n]             # <<<<<<<<<<<<<<
 *                 sl.append(slice(None, None, -1)) # this slice will reverse the data
 *             else:
 */
      __pyx_t_9 = __Pyx_GetItemInt(__pyx_v_stride, __pyx_v_n, sizeof(long), PyInt_FromLong); if (!__pyx_t_9) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1579; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_9);
      __pyx_t_5 = PyNumber_Negative(__pyx_t_9); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1579; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
      if (__Pyx_SetItemInt(__pyx_v_stride, __pyx_v_n, __pyx_t_5, sizeof(long), PyInt_FromLong) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1579; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1580
 *                 startp[n] = start[n]+stride[n]*(count[n]-1)
 *                 stride[n] = -stride[n]
 *                 sl.append(slice(None, None, -1)) # this slice will reverse the data             # <<<<<<<<<<<<<<
 *             else:
 *                 startp[n] = start[n]
 */
      if (unlikely(__pyx_v_sl == Py_None)) {
        PyErr_SetString(PyExc_AttributeError, "'NoneType' object has no attribute 'append'"); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1580; __pyx_clineno = __LINE__; goto __pyx_L1_error;} 
      }
      __pyx_t_5 = PyTuple_New(3); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1580; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_INCREF(Py_None);
      PyTuple_SET_ITEM(__pyx_t_5, 0, Py_None);
      __Pyx_GIVEREF(Py_None);
      __Pyx_INCREF(Py_None);
      PyTuple_SET_ITEM(__pyx_t_5, 1, Py_None);
      __Pyx_GIVEREF(Py_None);
      __Pyx_INCREF(__pyx_int_neg_1);
      PyTuple_SET_ITEM(__pyx_t_5, 2, __pyx_int_neg_1);
      __Pyx_GIVEREF(__pyx_int_neg_1);
      __pyx_t_9 = PyObject_Call(((PyObject *)((PyObject*)&PySlice_Type)), __pyx_t_5, NULL); if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1580; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_9);
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_10 = PyList_Append(((PyObject *)__pyx_v_sl), __pyx_t_9); if (unlikely(__pyx_t_10 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1580; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
      goto __pyx_L11;
    }
    /*else*/ {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1582
 *                 sl.append(slice(None, None, -1)) # this slice will reverse the data
 *             else:
 *                 startp[n] = start[n]             # <<<<<<<<<<<<<<
 *                 stridep[n] = stride[n]
 *                 sl.append(slice(None,None, 1))
 */
      __pyx_t_9 = __Pyx_GetItemInt(__pyx_v_start, __pyx_v_n, sizeof(long), PyInt_FromLong); if (!__pyx_t_9) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1582; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_9);
      __pyx_t_7 = __Pyx_PyInt_AsSize_t(__pyx_t_9); if (unlikely((__pyx_t_7 == (size_t)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1582; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
      (__pyx_v_startp[__pyx_v_n]) = __pyx_t_7;

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1583
 *             else:
 *                 startp[n] = start[n]
 *                 stridep[n] = stride[n]             # <<<<<<<<<<<<<<
 *                 sl.append(slice(None,None, 1))
 *         data = numpy.empty(shapeout, self.dtype)
 */
      __pyx_t_9 = __Pyx_GetItemInt(__pyx_v_stride, __pyx_v_n, sizeof(long), PyInt_FromLong); if (!__pyx_t_9) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1583; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_9);
      __pyx_t_8 = __Pyx_PyInt_from_py_ptrdiff_t(__pyx_t_9); if (unlikely((__pyx_t_8 == (ptrdiff_t)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1583; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
      (__pyx_v_stridep[__pyx_v_n]) = __pyx_t_8;

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1584
 *                 startp[n] = start[n]
 *                 stridep[n] = stride[n]
 *                 sl.append(slice(None,None, 1))             # <<<<<<<<<<<<<<
 *         data = numpy.empty(shapeout, self.dtype)
 *         # strides all 1 or scalar variable, use get_vara (faster)
 */
      if (unlikely(__pyx_v_sl == Py_None)) {
        PyErr_SetString(PyExc_AttributeError, "'NoneType' object has no attribute 'append'"); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1584; __pyx_clineno = __LINE__; goto __pyx_L1_error;} 
      }
      __pyx_t_9 = PyTuple_New(3); if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1584; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_9);
      __Pyx_INCREF(Py_None);
      PyTuple_SET_ITEM(__pyx_t_9, 0, Py_None);
      __Pyx_GIVEREF(Py_None);
      __Pyx_INCREF(Py_None);
      PyTuple_SET_ITEM(__pyx_t_9, 1, Py_None);
      __Pyx_GIVEREF(Py_None);
      __Pyx_INCREF(__pyx_int_1);
      PyTuple_SET_ITEM(__pyx_t_9, 2, __pyx_int_1);
      __Pyx_GIVEREF(__pyx_int_1);
      __pyx_t_5 = PyObject_Call(((PyObject *)((PyObject*)&PySlice_Type)), __pyx_t_9, NULL); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1584; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
      __pyx_t_10 = PyList_Append(((PyObject *)__pyx_v_sl), __pyx_t_5); if (unlikely(__pyx_t_10 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1584; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    }
    __pyx_L11:;
  }

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1585
 *                 stridep[n] = stride[n]
 *                 sl.append(slice(None,None, 1))
 *         data = numpy.empty(shapeout, self.dtype)             # <<<<<<<<<<<<<<
 *         # strides all 1 or scalar variable, use get_vara (faster)
 *         if sum(stride) == ndims or ndims == 0:
 */
  __pyx_t_5 = __Pyx_GetName(__pyx_m, __pyx_n_s__numpy); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1585; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __pyx_t_9 = PyObject_GetAttr(__pyx_t_5, __pyx_n_s__empty); if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1585; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_9);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __pyx_t_5 = PyTuple_New(2); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1585; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_INCREF(((PyObject *)__pyx_v_shapeout));
  PyTuple_SET_ITEM(__pyx_t_5, 0, ((PyObject *)__pyx_v_shapeout));
  __Pyx_GIVEREF(((PyObject *)__pyx_v_shapeout));
  __Pyx_INCREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype);
  PyTuple_SET_ITEM(__pyx_t_5, 1, ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype);
  __Pyx_GIVEREF(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->dtype);
  __pyx_t_3 = PyObject_Call(__pyx_t_9, __pyx_t_5, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1585; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  if (!(likely(((__pyx_t_3) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_3, __pyx_ptype_7netCDF3_ndarray))))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1585; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(((PyObject *)__pyx_v_data));
  __pyx_v_data = ((PyArrayObject *)__pyx_t_3);
  __pyx_t_3 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1587
 *         data = numpy.empty(shapeout, self.dtype)
 *         # strides all 1 or scalar variable, use get_vara (faster)
 *         if sum(stride) == ndims or ndims == 0:             # <<<<<<<<<<<<<<
 *             ierr = nc_get_vara(self._grpid, self._varid,
 *                                startp, countp, data.data)
 */
  __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1587; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_INCREF(__pyx_v_stride);
  PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_v_stride);
  __Pyx_GIVEREF(__pyx_v_stride);
  __pyx_t_5 = PyObject_Call(__pyx_builtin_sum, __pyx_t_3, NULL); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1587; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = PyInt_FromLong(__pyx_v_ndims); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1587; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_9 = PyObject_RichCompare(__pyx_t_5, __pyx_t_3, Py_EQ); if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1587; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_9);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_t_9); if (unlikely(__pyx_t_4 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1587; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
  if (!__pyx_t_4) {
    __pyx_t_11 = (__pyx_v_ndims == 0);
    __pyx_t_12 = __pyx_t_11;
  } else {
    __pyx_t_12 = __pyx_t_4;
  }
  if (__pyx_t_12) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1589
 *         if sum(stride) == ndims or ndims == 0:
 *             ierr = nc_get_vara(self._grpid, self._varid,
 *                                startp, countp, data.data)             # <<<<<<<<<<<<<<
 *         else:
 *             ierr = nc_get_vars(self._grpid, self._varid,
 */
    __pyx_v_ierr = nc_get_vara(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grpid, ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_varid, __pyx_v_startp, __pyx_v_countp, __pyx_v_data->data);
    goto __pyx_L12;
  }
  /*else*/ {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1592
 *         else:
 *             ierr = nc_get_vars(self._grpid, self._varid,
 *                                startp, countp, stridep, data.data)             # <<<<<<<<<<<<<<
 *         if negstride:
 *             # reverse data along axes with negative strides.
 */
    __pyx_v_ierr = nc_get_vars(((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_grpid, ((struct __pyx_obj_7netCDF3_Variable *)__pyx_v_self)->_varid, __pyx_v_startp, __pyx_v_countp, __pyx_v_stridep, __pyx_v_data->data);
  }
  __pyx_L12:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1593
 *             ierr = nc_get_vars(self._grpid, self._varid,
 *                                startp, countp, stridep, data.data)
 *         if negstride:             # <<<<<<<<<<<<<<
 *             # reverse data along axes with negative strides.
 *             data = data[sl].copy() # make a copy so data is contiguous.
 */
  if (__pyx_v_negstride) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1595
 *         if negstride:
 *             # reverse data along axes with negative strides.
 *             data = data[sl].copy() # make a copy so data is contiguous.             # <<<<<<<<<<<<<<
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 */
    __pyx_t_9 = PyObject_GetItem(((PyObject *)__pyx_v_data), ((PyObject *)__pyx_v_sl)); if (!__pyx_t_9) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1595; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_9);
    __pyx_t_3 = PyObject_GetAttr(__pyx_t_9, __pyx_n_s__copy); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1595; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
    __pyx_t_9 = PyObject_Call(__pyx_t_3, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1595; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_9);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    if (!(likely(((__pyx_t_9) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_9, __pyx_ptype_7netCDF3_ndarray))))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1595; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(((PyObject *)__pyx_v_data));
    __pyx_v_data = ((PyArrayObject *)__pyx_t_9);
    __pyx_t_9 = 0;
    goto __pyx_L13;
  }
  __pyx_L13:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1596
 *             # reverse data along axes with negative strides.
 *             data = data[sl].copy() # make a copy so data is contiguous.
 *         if ierr != NC_NOERR:             # <<<<<<<<<<<<<<
 *             raise RuntimeError(nc_strerror(ierr))
 *         if not self.dimensions:
 */
  __pyx_t_12 = (__pyx_v_ierr != NC_NOERR);
  if (__pyx_t_12) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1597
 *             data = data[sl].copy() # make a copy so data is contiguous.
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))             # <<<<<<<<<<<<<<
 *         if not self.dimensions:
 *             return data[0] # a scalar
 */
    __pyx_t_9 = PyBytes_FromString(nc_strerror(__pyx_v_ierr)); if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1597; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(((PyObject *)__pyx_t_9));
    __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1597; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    PyTuple_SET_ITEM(__pyx_t_3, 0, ((PyObject *)__pyx_t_9));
    __Pyx_GIVEREF(((PyObject *)__pyx_t_9));
    __pyx_t_9 = 0;
    __pyx_t_9 = PyObject_Call(__pyx_builtin_RuntimeError, __pyx_t_3, NULL); if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1597; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_9);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_Raise(__pyx_t_9, 0, 0);
    __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1597; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L14;
  }
  __pyx_L14:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1598
 *         if ierr != NC_NOERR:
 *             raise RuntimeError(nc_strerror(ierr))
 *         if not self.dimensions:             # <<<<<<<<<<<<<<
 *             return data[0] # a scalar
 *         #elif data.shape == (1,):
 */
  __pyx_t_9 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s__dimensions); if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1598; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_9);
  __pyx_t_12 = __Pyx_PyObject_IsTrue(__pyx_t_9); if (unlikely(__pyx_t_12 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1598; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
  __pyx_t_4 = (!__pyx_t_12);
  if (__pyx_t_4) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1599
 *             raise RuntimeError(nc_strerror(ierr))
 *         if not self.dimensions:
 *             return data[0] # a scalar             # <<<<<<<<<<<<<<
 *         #elif data.shape == (1,):
 *         #    # if a single item, just return a python scalar
 */
    __Pyx_XDECREF(__pyx_r);
    __pyx_t_9 = __Pyx_GetItemInt(((PyObject *)__pyx_v_data), 0, sizeof(long), PyInt_FromLong); if (!__pyx_t_9) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1599; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_9);
    __pyx_r = __pyx_t_9;
    __pyx_t_9 = 0;
    goto __pyx_L0;
    goto __pyx_L15;
  }

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1604
 *         #    # (instead of a scalar array).
 *         #    return data.item()
 *         elif squeeze_out:             # <<<<<<<<<<<<<<
 *             return data.squeeze()
 *         else:
 */
  if (__pyx_v_squeeze_out) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1605
 *         #    return data.item()
 *         elif squeeze_out:
 *             return data.squeeze()             # <<<<<<<<<<<<<<
 *         else:
 *             return data
 */
    __Pyx_XDECREF(__pyx_r);
    __pyx_t_9 = PyObject_GetAttr(((PyObject *)__pyx_v_data), __pyx_n_s__squeeze); if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1605; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_9);
    __pyx_t_3 = PyObject_Call(__pyx_t_9, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1605; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
    __pyx_r = __pyx_t_3;
    __pyx_t_3 = 0;
    goto __pyx_L0;
    goto __pyx_L15;
  }
  /*else*/ {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":1607
 *             return data.squeeze()
 *         else:
 *             return data             # <<<<<<<<<<<<<<
 * 
 * # include pure python utility functions.
 */
    __Pyx_XDECREF(__pyx_r);
    __Pyx_INCREF(((PyObject *)__pyx_v_data));
    __pyx_r = ((PyObject *)__pyx_v_data);
    goto __pyx_L0;
  }
  __pyx_L15:;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_9);
  __Pyx_AddTraceback("netCDF3.Variable._get");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_DECREF((PyObject *)__pyx_v_data);
  __Pyx_DECREF(__pyx_v_shapeout);
  __Pyx_DECREF(__pyx_v_lendim);
  __Pyx_DECREF(__pyx_v_sl);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":3
 * # utility functions (visible from python).
 * 
 * def stringtoarr(string,NUMCHARS):             # <<<<<<<<<<<<<<
 *     """
 * stringtoarr(a, NUMCHARS)
 */

static PyObject *__pyx_pf_7netCDF3_stringtoarr(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7netCDF3_stringtoarr[] = "\nstringtoarr(a, NUMCHARS)\n\nconvert a string to a character array of length NUMCHARS\n\n@param a:  Input python string.\n\n@param NUMCHARS:  number of characters used to represent string \n(if len(a) < NUMCHARS, it will be padded on the right with blanks).\n\n@return: A rank 1 numpy character array of length NUMCHARS with datatype 'S1'";
static PyObject *__pyx_pf_7netCDF3_stringtoarr(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_string = 0;
  PyObject *__pyx_v_NUMCHARS = 0;
  PyObject *__pyx_v_arr;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  Py_ssize_t __pyx_t_4;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__string,&__pyx_n_s__NUMCHARS,0};
  __Pyx_RefNannySetupContext("stringtoarr");
  __pyx_self = __pyx_self;
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[2] = {0,0};
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__string);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__NUMCHARS);
      if (likely(values[1])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("stringtoarr", 1, 2, 2, 1); {__pyx_filename = __pyx_f[1]; __pyx_lineno = 3; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "stringtoarr") < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 3; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_string = values[0];
    __pyx_v_NUMCHARS = values[1];
  } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_string = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_NUMCHARS = PyTuple_GET_ITEM(__pyx_args, 1);
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("stringtoarr", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[1]; __pyx_lineno = 3; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF3.stringtoarr");
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_v_arr = Py_None; __Pyx_INCREF(Py_None);

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":15
 * 
 * @return: A rank 1 numpy character array of length NUMCHARS with datatype 'S1'"""
 *     arr = numpy.zeros(NUMCHARS,'S1')             # <<<<<<<<<<<<<<
 *     arr[0:len(string)] = tuple(string)
 *     return arr
 */
  __pyx_t_1 = __Pyx_GetName(__pyx_m, __pyx_n_s__numpy); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 15; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyObject_GetAttr(__pyx_t_1, __pyx_n_s__zeros); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 15; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = PyTuple_New(2); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 15; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_INCREF(__pyx_v_NUMCHARS);
  PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v_NUMCHARS);
  __Pyx_GIVEREF(__pyx_v_NUMCHARS);
  __Pyx_INCREF(((PyObject *)__pyx_n_s__S1));
  PyTuple_SET_ITEM(__pyx_t_1, 1, ((PyObject *)__pyx_n_s__S1));
  __Pyx_GIVEREF(((PyObject *)__pyx_n_s__S1));
  __pyx_t_3 = PyObject_Call(__pyx_t_2, __pyx_t_1, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 15; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_v_arr);
  __pyx_v_arr = __pyx_t_3;
  __pyx_t_3 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":16
 * @return: A rank 1 numpy character array of length NUMCHARS with datatype 'S1'"""
 *     arr = numpy.zeros(NUMCHARS,'S1')
 *     arr[0:len(string)] = tuple(string)             # <<<<<<<<<<<<<<
 *     return arr
 * 
 */
  __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 16; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_INCREF(__pyx_v_string);
  PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_v_string);
  __Pyx_GIVEREF(__pyx_v_string);
  __pyx_t_1 = PyObject_Call(((PyObject *)((PyObject*)&PyTuple_Type)), __pyx_t_3, NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 16; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_4 = PyObject_Length(__pyx_v_string); if (unlikely(__pyx_t_4 == -1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 16; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PySequence_SetSlice(__pyx_v_arr, 0, __pyx_t_4, __pyx_t_1) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 16; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":17
 *     arr = numpy.zeros(NUMCHARS,'S1')
 *     arr[0:len(string)] = tuple(string)
 *     return arr             # <<<<<<<<<<<<<<
 * 
 * def stringtochar(a):
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(__pyx_v_arr);
  __pyx_r = __pyx_v_arr;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("netCDF3.stringtoarr");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_arr);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":19
 *     return arr
 * 
 * def stringtochar(a):             # <<<<<<<<<<<<<<
 *     """
 * stringtochar(a)
 */

static PyObject *__pyx_pf_7netCDF3_stringtochar(PyObject *__pyx_self, PyObject *__pyx_v_a); /*proto*/
static char __pyx_doc_7netCDF3_stringtochar[] = "\nstringtochar(a)\n\nconvert a string array to a character array with one extra dimension\n\n@param a:  Input numpy string array with numpy datatype 'SN', where N\nis the number of characters in each string.  Will be converted to\nan array of characters (datatype 'S1') of shape a.shape + (N,).\n\n@return: A numpy character array with datatype 'S1' and shape \na.shape + (N,), where N is the length of each string in a.";
static PyObject *__pyx_pf_7netCDF3_stringtochar(PyObject *__pyx_self, PyObject *__pyx_v_a) {
  PyObject *__pyx_v_b;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  __Pyx_RefNannySetupContext("stringtochar");
  __pyx_self = __pyx_self;
  __pyx_v_b = Py_None; __Pyx_INCREF(Py_None);

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":31
 * @return: A numpy character array with datatype 'S1' and shape
 * a.shape + (N,), where N is the length of each string in a."""
 *     b = numpy.array(tuple(a.tostring()),'S1')             # <<<<<<<<<<<<<<
 *     b.shape = a.shape + (a.itemsize,)
 *     return b
 */
  __pyx_t_1 = __Pyx_GetName(__pyx_m, __pyx_n_s__numpy); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 31; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyObject_GetAttr(__pyx_t_1, __pyx_n_s__array); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 31; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = PyObject_GetAttr(__pyx_v_a, __pyx_n_s__tostring); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 31; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_3 = PyObject_Call(__pyx_t_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 31; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 31; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_t_3);
  __Pyx_GIVEREF(__pyx_t_3);
  __pyx_t_3 = 0;
  __pyx_t_3 = PyObject_Call(((PyObject *)((PyObject*)&PyTuple_Type)), __pyx_t_1, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 31; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = PyTuple_New(2); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 31; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_t_3);
  __Pyx_GIVEREF(__pyx_t_3);
  __Pyx_INCREF(((PyObject *)__pyx_n_s__S1));
  PyTuple_SET_ITEM(__pyx_t_1, 1, ((PyObject *)__pyx_n_s__S1));
  __Pyx_GIVEREF(((PyObject *)__pyx_n_s__S1));
  __pyx_t_3 = 0;
  __pyx_t_3 = PyObject_Call(__pyx_t_2, __pyx_t_1, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 31; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_v_b);
  __pyx_v_b = __pyx_t_3;
  __pyx_t_3 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":32
 * a.shape + (N,), where N is the length of each string in a."""
 *     b = numpy.array(tuple(a.tostring()),'S1')
 *     b.shape = a.shape + (a.itemsize,)             # <<<<<<<<<<<<<<
 *     return b
 * 
 */
  __pyx_t_3 = PyObject_GetAttr(__pyx_v_a, __pyx_n_s__shape); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 32; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_1 = PyObject_GetAttr(__pyx_v_a, __pyx_n_s__itemsize); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 32; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 32; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_1);
  __Pyx_GIVEREF(__pyx_t_1);
  __pyx_t_1 = 0;
  __pyx_t_1 = PyNumber_Add(__pyx_t_3, __pyx_t_2); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 32; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  if (PyObject_SetAttr(__pyx_v_b, __pyx_n_s__shape, __pyx_t_1) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 32; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":33
 *     b = numpy.array(tuple(a.tostring()),'S1')
 *     b.shape = a.shape + (a.itemsize,)
 *     return b             # <<<<<<<<<<<<<<
 * 
 * def chartostring(b):
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(__pyx_v_b);
  __pyx_r = __pyx_v_b;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("netCDF3.stringtochar");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_b);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":35
 *     return b
 * 
 * def chartostring(b):             # <<<<<<<<<<<<<<
 *     """
 * chartostring(b)
 */

static PyObject *__pyx_pf_7netCDF3_chartostring(PyObject *__pyx_self, PyObject *__pyx_v_b); /*proto*/
static char __pyx_doc_7netCDF3_chartostring[] = "\nchartostring(b)\n\nconvert a character array to a string array with one less dimension.\n\n@param b:  Input character array (numpy datatype 'S1').\nWill be converted to a array of strings, where each string has a fixed\nlength of b.shape[-1] characters.\n\n@return: A numpy string array with datatype 'SN' and shape b.shape[:-1],\nwhere N=b.shape[-1].";
static PyObject *__pyx_pf_7netCDF3_chartostring(PyObject *__pyx_self, PyObject *__pyx_v_b) {
  PyObject *__pyx_v_bs;
  PyObject *__pyx_v_slen;
  PyObject *__pyx_v_a;
  PyObject *__pyx_v_n1;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  Py_ssize_t __pyx_t_3;
  Py_ssize_t __pyx_t_4;
  PyObject *__pyx_t_5 = NULL;
  PyObject *__pyx_t_6 = NULL;
  Py_ssize_t __pyx_t_7;
  __Pyx_RefNannySetupContext("chartostring");
  __pyx_self = __pyx_self;
  __pyx_v_bs = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_slen = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_a = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_n1 = Py_None; __Pyx_INCREF(Py_None);

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":47
 * @return: A numpy string array with datatype 'SN' and shape b.shape[:-1],
 * where N=b.shape[-1]."""
 *     bs = b.tostring()             # <<<<<<<<<<<<<<
 *     slen = b.shape[-1]
 *     a = numpy.array([bs[n1:n1+slen] for n1 in range(0,len(bs),slen)],'S'+repr(slen))
 */
  __pyx_t_1 = PyObject_GetAttr(__pyx_v_b, __pyx_n_s__tostring); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 47; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyObject_Call(__pyx_t_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 47; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_v_bs);
  __pyx_v_bs = __pyx_t_2;
  __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":48
 * where N=b.shape[-1]."""
 *     bs = b.tostring()
 *     slen = b.shape[-1]             # <<<<<<<<<<<<<<
 *     a = numpy.array([bs[n1:n1+slen] for n1 in range(0,len(bs),slen)],'S'+repr(slen))
 *     a.shape = b.shape[:-1]
 */
  __pyx_t_2 = PyObject_GetAttr(__pyx_v_b, __pyx_n_s__shape); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 48; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_1 = __Pyx_GetItemInt(__pyx_t_2, -1, sizeof(long), PyInt_FromLong); if (!__pyx_t_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 48; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_v_slen);
  __pyx_v_slen = __pyx_t_1;
  __pyx_t_1 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":49
 *     bs = b.tostring()
 *     slen = b.shape[-1]
 *     a = numpy.array([bs[n1:n1+slen] for n1 in range(0,len(bs),slen)],'S'+repr(slen))             # <<<<<<<<<<<<<<
 *     a.shape = b.shape[:-1]
 *     return a
 */
  __pyx_t_1 = __Pyx_GetName(__pyx_m, __pyx_n_s__numpy); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyObject_GetAttr(__pyx_t_1, __pyx_n_s__array); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = PyList_New(0); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_1));
  __pyx_t_4 = PyObject_Length(__pyx_v_bs); if (unlikely(__pyx_t_4 == -1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_t_5 = PyInt_FromSsize_t(__pyx_t_4); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __pyx_t_6 = PyTuple_New(3); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_6);
  __Pyx_INCREF(__pyx_int_0);
  PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_int_0);
  __Pyx_GIVEREF(__pyx_int_0);
  PyTuple_SET_ITEM(__pyx_t_6, 1, __pyx_t_5);
  __Pyx_GIVEREF(__pyx_t_5);
  __Pyx_INCREF(__pyx_v_slen);
  PyTuple_SET_ITEM(__pyx_t_6, 2, __pyx_v_slen);
  __Pyx_GIVEREF(__pyx_v_slen);
  __pyx_t_5 = 0;
  __pyx_t_5 = PyObject_Call(__pyx_builtin_range, __pyx_t_6, NULL); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
  if (PyList_CheckExact(__pyx_t_5) || PyTuple_CheckExact(__pyx_t_5)) {
    __pyx_t_3 = 0; __pyx_t_6 = __pyx_t_5; __Pyx_INCREF(__pyx_t_6);
  } else {
    __pyx_t_3 = -1; __pyx_t_6 = PyObject_GetIter(__pyx_t_5); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_6);
  }
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_t_6))) {
      if (__pyx_t_3 >= PyList_GET_SIZE(__pyx_t_6)) break;
      __pyx_t_5 = PyList_GET_ITEM(__pyx_t_6, __pyx_t_3); __Pyx_INCREF(__pyx_t_5); __pyx_t_3++;
    } else if (likely(PyTuple_CheckExact(__pyx_t_6))) {
      if (__pyx_t_3 >= PyTuple_GET_SIZE(__pyx_t_6)) break;
      __pyx_t_5 = PyTuple_GET_ITEM(__pyx_t_6, __pyx_t_3); __Pyx_INCREF(__pyx_t_5); __pyx_t_3++;
    } else {
      __pyx_t_5 = PyIter_Next(__pyx_t_6);
      if (!__pyx_t_5) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
      __Pyx_GOTREF(__pyx_t_5);
    }
    __Pyx_DECREF(__pyx_v_n1);
    __pyx_v_n1 = __pyx_t_5;
    __pyx_t_5 = 0;
    __pyx_t_4 = __Pyx_PyIndex_AsSsize_t(__pyx_v_n1); if (unlikely((__pyx_t_4 == (Py_ssize_t)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_t_5 = PyNumber_Add(__pyx_v_n1, __pyx_v_slen); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_5);
    __pyx_t_7 = __Pyx_PyIndex_AsSsize_t(__pyx_t_5); if (unlikely((__pyx_t_7 == (Py_ssize_t)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = PySequence_GetSlice(__pyx_v_bs, __pyx_t_4, __pyx_t_7); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_5);
    if (unlikely(PyList_Append(__pyx_t_1, (PyObject*)__pyx_t_5))) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  }
  __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_t_6 = PyObject_Repr(__pyx_v_slen); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_6);
  __pyx_t_5 = PyNumber_Add(((PyObject *)__pyx_n_s__S), __pyx_t_6); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_t_6 = PyTuple_New(2); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_6);
  __Pyx_INCREF(((PyObject *)__pyx_t_1));
  PyTuple_SET_ITEM(__pyx_t_6, 0, ((PyObject *)__pyx_t_1));
  __Pyx_GIVEREF(((PyObject *)__pyx_t_1));
  PyTuple_SET_ITEM(__pyx_t_6, 1, __pyx_t_5);
  __Pyx_GIVEREF(__pyx_t_5);
  __Pyx_DECREF(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;
  __pyx_t_5 = 0;
  __pyx_t_5 = PyObject_Call(__pyx_t_2, __pyx_t_6, NULL); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
  __Pyx_DECREF(__pyx_v_a);
  __pyx_v_a = __pyx_t_5;
  __pyx_t_5 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":50
 *     slen = b.shape[-1]
 *     a = numpy.array([bs[n1:n1+slen] for n1 in range(0,len(bs),slen)],'S'+repr(slen))
 *     a.shape = b.shape[:-1]             # <<<<<<<<<<<<<<
 *     return a
 * 
 */
  __pyx_t_5 = PyObject_GetAttr(__pyx_v_b, __pyx_n_s__shape); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 50; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __pyx_t_6 = PySequence_GetSlice(__pyx_t_5, 0, -1); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 50; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_6);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  if (PyObject_SetAttr(__pyx_v_a, __pyx_n_s__shape, __pyx_t_6) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 50; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":51
 *     a = numpy.array([bs[n1:n1+slen] for n1 in range(0,len(bs),slen)],'S'+repr(slen))
 *     a.shape = b.shape[:-1]
 *     return a             # <<<<<<<<<<<<<<
 * 
 * def date2num(dates,units,calendar='standard'):
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(__pyx_v_a);
  __pyx_r = __pyx_v_a;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_AddTraceback("netCDF3.chartostring");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_bs);
  __Pyx_DECREF(__pyx_v_slen);
  __Pyx_DECREF(__pyx_v_a);
  __Pyx_DECREF(__pyx_v_n1);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":53
 *     return a
 * 
 * def date2num(dates,units,calendar='standard'):             # <<<<<<<<<<<<<<
 *     """
 * date2num(dates,units,calendar='standard')
 */

static PyObject *__pyx_pf_7netCDF3_date2num(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7netCDF3_date2num[] = "\ndate2num(dates,units,calendar='standard')\n\nReturn numeric time values given datetime objects. The units\nof the numeric time values are described by the L{units} argument\nand the L{calendar} keyword. The datetime objects must\nbe in UTC with no time-zone offset.  If there is a \ntime-zone offset in C{units}, it will be applied to the\nreturned numeric values.\n\nLike the matplotlib C{date2num} function, except that it allows\nfor different units and calendars.  Behaves the same if\nC{units = 'days since 0001-01-01 00:00:00'} and \nC{calendar = 'proleptic_gregorian'}.\n\n@param dates: A datetime object or a sequence of datetime objects.\n The datetime objects should not include a time-zone offset.\n\n@param units: a string of the form C{'B{time units} since B{reference time}}'\n describing the time units. B{C{time units}} can be days, hours, minutes\n or seconds.  B{C{reference time}} is the time origin. A valid choice\n would be units=C{'hours since 1800-01-01 00:00:00 -6:00'}.\n\n@param calendar: describes the calendar used in the time calculations. \n All the values currently defined in the U{CF metadata convention \n <http://cf-pcmdi.llnl.gov/documents/cf-conventions/>} are supported.\n Valid calendars C{'standard', 'gregorian', 'proleptic_gregorian'\n 'noleap', '365_day', '360_day', 'julian', 'all_leap', '366_day'}.\n Default is C{'standard'}, which is a mixed Julian/Gregorian calendar.\n\n@return: a numeric time value, or an array of numeric time values.\n\nThe maximum resolution of the numeric time values is 1 second.\n    ";
static PyObject *__pyx_pf_7netCDF3_date2num(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_dates = 0;
  PyObject *__pyx_v_units = 0;
  PyObject *__pyx_v_calendar = 0;
  PyObject *__pyx_v_cdftime;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__dates,&__pyx_n_s__units,&__pyx_n_s__calendar,0};
  __Pyx_RefNannySetupContext("date2num");
  __pyx_self = __pyx_self;
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[3] = {0,0,0};
    values[2] = ((PyObject *)__pyx_n_s__standard);
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__dates);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__units);
      if (likely(values[1])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("date2num", 0, 2, 3, 1); {__pyx_filename = __pyx_f[1]; __pyx_lineno = 53; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
      case  2:
      if (kw_args > 0) {
        PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s__calendar);
        if (value) { values[2] = value; kw_args--; }
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "date2num") < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 53; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_dates = values[0];
    __pyx_v_units = values[1];
    __pyx_v_calendar = values[2];
  } else {
    __pyx_v_calendar = ((PyObject *)__pyx_n_s__standard);
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  3:
      __pyx_v_calendar = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2:
      __pyx_v_units = PyTuple_GET_ITEM(__pyx_args, 1);
      __pyx_v_dates = PyTuple_GET_ITEM(__pyx_args, 0);
      break;
      default: goto __pyx_L5_argtuple_error;
    }
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("date2num", 0, 2, 3, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[1]; __pyx_lineno = 53; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF3.date2num");
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_v_cdftime = Py_None; __Pyx_INCREF(Py_None);

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":88
 * The maximum resolution of the numeric time values is 1 second.
 *     """
 *     cdftime = netcdftime.utime(units,calendar=calendar)             # <<<<<<<<<<<<<<
 *     return cdftime.date2num(dates)
 * 
 */
  __pyx_t_1 = __Pyx_GetName(__pyx_m, __pyx_n_s__netcdftime); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 88; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyObject_GetAttr(__pyx_t_1, __pyx_n_s__utime); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 88; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 88; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_INCREF(__pyx_v_units);
  PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v_units);
  __Pyx_GIVEREF(__pyx_v_units);
  __pyx_t_3 = PyDict_New(); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 88; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_3));
  if (PyDict_SetItem(__pyx_t_3, ((PyObject *)__pyx_n_s__calendar), __pyx_v_calendar) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 88; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_t_4 = PyEval_CallObjectWithKeywords(__pyx_t_2, __pyx_t_1, ((PyObject *)__pyx_t_3)); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 88; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(((PyObject *)__pyx_t_3)); __pyx_t_3 = 0;
  __Pyx_DECREF(__pyx_v_cdftime);
  __pyx_v_cdftime = __pyx_t_4;
  __pyx_t_4 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":89
 *     """
 *     cdftime = netcdftime.utime(units,calendar=calendar)
 *     return cdftime.date2num(dates)             # <<<<<<<<<<<<<<
 * 
 * def num2date(times,units,calendar='standard'):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_4 = PyObject_GetAttr(__pyx_v_cdftime, __pyx_n_s__date2num); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 89; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 89; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_INCREF(__pyx_v_dates);
  PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_v_dates);
  __Pyx_GIVEREF(__pyx_v_dates);
  __pyx_t_1 = PyObject_Call(__pyx_t_4, __pyx_t_3, NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 89; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("netCDF3.date2num");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_cdftime);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":91
 *     return cdftime.date2num(dates)
 * 
 * def num2date(times,units,calendar='standard'):             # <<<<<<<<<<<<<<
 *     """
 * num2date(times,units,calendar='standard')
 */

static PyObject *__pyx_pf_7netCDF3_num2date(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7netCDF3_num2date[] = "\nnum2date(times,units,calendar='standard')\n\nReturn datetime objects given numeric time values. The units\nof the numeric time values are described by the C{units} argument\nand the C{calendar} keyword. The returned datetime objects represent \nUTC with no time-zone offset, even if the specified \nC{units} contain a time-zone offset.\n\nLike the matplotlib C{num2date} function, except that it allows\nfor different units and calendars.  Behaves the same if\nC{units = 'days since 001-01-01 00:00:00'} and \nC{calendar = 'proleptic_gregorian'}.\n\n@param times: numeric time values. Maximum resolution is 1 second.\n\n@param units: a string of the form C{'B{time units} since B{reference time}}'\ndescribing the time units. B{C{time units}} can be days, hours, minutes\nor seconds.  B{C{reference time}} is the time origin. A valid choice\nwould be units=C{'hours since 1800-01-01 00:00:00 -6:00'}.\n\n@param calendar: describes the calendar used in the time calculations. \nAll the values currently defined in the U{CF metadata convention \n<http://cf-pcmdi.llnl.gov/documents/cf-conventions/>} are supported.\nValid calendars C{'standard', 'gregorian', 'proleptic_gregorian'\n'noleap', '365_day', '360_day', 'julian', 'all_leap', '366_day'}.\nDefault is C{'standard'}, which is a mixed Julian/Gregorian calendar.\n\n@return: a datetime instance, or an array of datetime instances.\n\nThe datetime instances returned are 'real' python datetime \nobjects if the date falls in the Gregorian calendar (i.e. \nC{calendar='proleptic_gregorian'}, or C{calendar = 'standard'} or C{'gregorian'}\nand the date is after 1582-10-15). Otherwise, they are 'phony' datetime \nobjects which support some but not all the methods of 'real' python\ndatetime objects.  This is because the python datetime module cannot\nthe uses the C{'proleptic_gregorian'} calendar, even before the switch\noccured from the Julian calendar in 1582. The datetime instances\ndo not contain a time-zone offset, even if the specified C{units}\ncontains one.\n    ";
static PyObject *__pyx_pf_7netCDF3_num2date(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_times = 0;
  PyObject *__pyx_v_units = 0;
  PyObject *__pyx_v_calendar = 0;
  PyObject *__pyx_v_cdftime;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__times,&__pyx_n_s__units,&__pyx_n_s__calendar,0};
  __Pyx_RefNannySetupContext("num2date");
  __pyx_self = __pyx_self;
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[3] = {0,0,0};
    values[2] = ((PyObject *)__pyx_n_s__standard);
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__times);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__units);
      if (likely(values[1])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("num2date", 0, 2, 3, 1); {__pyx_filename = __pyx_f[1]; __pyx_lineno = 91; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
      case  2:
      if (kw_args > 0) {
        PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s__calendar);
        if (value) { values[2] = value; kw_args--; }
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "num2date") < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 91; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_times = values[0];
    __pyx_v_units = values[1];
    __pyx_v_calendar = values[2];
  } else {
    __pyx_v_calendar = ((PyObject *)__pyx_n_s__standard);
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  3:
      __pyx_v_calendar = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2:
      __pyx_v_units = PyTuple_GET_ITEM(__pyx_args, 1);
      __pyx_v_times = PyTuple_GET_ITEM(__pyx_args, 0);
      break;
      default: goto __pyx_L5_argtuple_error;
    }
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("num2date", 0, 2, 3, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[1]; __pyx_lineno = 91; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF3.num2date");
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_v_cdftime = Py_None; __Pyx_INCREF(Py_None);

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":133
 * contains one.
 *     """
 *     cdftime = netcdftime.utime(units,calendar=calendar)             # <<<<<<<<<<<<<<
 *     return cdftime.num2date(times)
 * 
 */
  __pyx_t_1 = __Pyx_GetName(__pyx_m, __pyx_n_s__netcdftime); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 133; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyObject_GetAttr(__pyx_t_1, __pyx_n_s__utime); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 133; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 133; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_INCREF(__pyx_v_units);
  PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v_units);
  __Pyx_GIVEREF(__pyx_v_units);
  __pyx_t_3 = PyDict_New(); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 133; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_3));
  if (PyDict_SetItem(__pyx_t_3, ((PyObject *)__pyx_n_s__calendar), __pyx_v_calendar) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 133; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_t_4 = PyEval_CallObjectWithKeywords(__pyx_t_2, __pyx_t_1, ((PyObject *)__pyx_t_3)); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 133; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(((PyObject *)__pyx_t_3)); __pyx_t_3 = 0;
  __Pyx_DECREF(__pyx_v_cdftime);
  __pyx_v_cdftime = __pyx_t_4;
  __pyx_t_4 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":134
 *     """
 *     cdftime = netcdftime.utime(units,calendar=calendar)
 *     return cdftime.num2date(times)             # <<<<<<<<<<<<<<
 * 
 * def date2index(dates, nctime, calendar=None, select='exact'):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_4 = PyObject_GetAttr(__pyx_v_cdftime, __pyx_n_s__num2date); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 134; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 134; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_INCREF(__pyx_v_times);
  PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_v_times);
  __Pyx_GIVEREF(__pyx_v_times);
  __pyx_t_1 = PyObject_Call(__pyx_t_4, __pyx_t_3, NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 134; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("netCDF3.num2date");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_cdftime);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":136
 *     return cdftime.num2date(times)
 * 
 * def date2index(dates, nctime, calendar=None, select='exact'):             # <<<<<<<<<<<<<<
 *     """
 * date2index(dates, nctime, calendar=None, select='exact')
 */

static PyObject *__pyx_pf_7netCDF3_date2index(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7netCDF3_date2index[] = "\ndate2index(dates, nctime, calendar=None, select='exact')\n\nReturn indices of a netCDF time variable corresponding to the given dates.\n\n@param dates: A datetime object or a sequence of datetime objects.\nThe datetime objects should not include a time-zone offset.\n\n@param nctime: A netCDF time variable object. The nctime object must have a\nC{units} attribute.\n\n@param calendar: Describes the calendar used in the time calculation.\nValid calendars C{'standard', 'gregorian', 'proleptic_gregorian'\n'noleap', '365_day', '360_day', 'julian', 'all_leap', '366_day'}.\nDefault is C{'standard'}, which is a mixed Julian/Gregorian calendar\nIf C{calendar} is None, its value is given by C{nctime.calendar} or\nC{standard} if no such attribute exists.\n\n@param select: C{'exact', 'before', 'after', 'nearest'}\nThe index selection method. C{exact} will return the indices perfectly \nmatching the dates given. C{before} and C{after} will return the indices \ncorresponding to the dates just before or just after the given dates if \nan exact match cannot be found. C{nearest} will return the indices that \ncorrespond to the closest dates. \n      \n@return: an index (indices) of the netCDF time variable corresponding\nto the given datetime object(s).\n    ";
static PyObject *__pyx_pf_7netCDF3_date2index(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_dates = 0;
  PyObject *__pyx_v_nctime = 0;
  PyObject *__pyx_v_calendar = 0;
  PyObject *__pyx_v_select = 0;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__dates,&__pyx_n_s__nctime,&__pyx_n_s__calendar,&__pyx_n_s__select,0};
  __Pyx_RefNannySetupContext("date2index");
  __pyx_self = __pyx_self;
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[4] = {0,0,0,0};
    values[2] = ((PyObject *)Py_None);
    values[3] = ((PyObject *)__pyx_n_s__exact);
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
      case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__dates);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__nctime);
      if (likely(values[1])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("date2index", 0, 2, 4, 1); {__pyx_filename = __pyx_f[1]; __pyx_lineno = 136; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
      case  2:
      if (kw_args > 0) {
        PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s__calendar);
        if (value) { values[2] = value; kw_args--; }
      }
      case  3:
      if (kw_args > 0) {
        PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s__select);
        if (value) { values[3] = value; kw_args--; }
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "date2index") < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 136; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_dates = values[0];
    __pyx_v_nctime = values[1];
    __pyx_v_calendar = values[2];
    __pyx_v_select = values[3];
  } else {
    __pyx_v_calendar = ((PyObject *)Py_None);
    __pyx_v_select = ((PyObject *)__pyx_n_s__exact);
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  4:
      __pyx_v_select = PyTuple_GET_ITEM(__pyx_args, 3);
      case  3:
      __pyx_v_calendar = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2:
      __pyx_v_nctime = PyTuple_GET_ITEM(__pyx_args, 1);
      __pyx_v_dates = PyTuple_GET_ITEM(__pyx_args, 0);
      break;
      default: goto __pyx_L5_argtuple_error;
    }
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("date2index", 0, 2, 4, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[1]; __pyx_lineno = 136; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF3.date2index");
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":165
 * to the given datetime object(s).
 *     """
 *     return netcdftime.date2index(dates, nctime, calendar, select)             # <<<<<<<<<<<<<<
 * 
 * def getlibversion():
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = __Pyx_GetName(__pyx_m, __pyx_n_s__netcdftime); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 165; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyObject_GetAttr(__pyx_t_1, __pyx_n_s__date2index); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 165; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = PyTuple_New(4); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 165; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_INCREF(__pyx_v_dates);
  PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v_dates);
  __Pyx_GIVEREF(__pyx_v_dates);
  __Pyx_INCREF(__pyx_v_nctime);
  PyTuple_SET_ITEM(__pyx_t_1, 1, __pyx_v_nctime);
  __Pyx_GIVEREF(__pyx_v_nctime);
  __Pyx_INCREF(__pyx_v_calendar);
  PyTuple_SET_ITEM(__pyx_t_1, 2, __pyx_v_calendar);
  __Pyx_GIVEREF(__pyx_v_calendar);
  __Pyx_INCREF(__pyx_v_select);
  PyTuple_SET_ITEM(__pyx_t_1, 3, __pyx_v_select);
  __Pyx_GIVEREF(__pyx_v_select);
  __pyx_t_3 = PyObject_Call(__pyx_t_2, __pyx_t_1, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 165; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_r = __pyx_t_3;
  __pyx_t_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("netCDF3.date2index");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":167
 *     return netcdftime.date2index(dates, nctime, calendar, select)
 * 
 * def getlibversion():             # <<<<<<<<<<<<<<
 *     """
 * getlibversion()
 */

static PyObject *__pyx_pf_7netCDF3_getlibversion(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused); /*proto*/
static char __pyx_doc_7netCDF3_getlibversion[] = "\ngetlibversion()\n\nreturns a string describing the version of the netcdf library\nused to build the module, and when it was built.\n    ";
static PyObject *__pyx_pf_7netCDF3_getlibversion(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused) {
  char *__pyx_v_libstring;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  __Pyx_RefNannySetupContext("getlibversion");
  __pyx_self = __pyx_self;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":175
 *     """
 *     cdef char *libstring
 *     libstring = nc_inq_libvers()             # <<<<<<<<<<<<<<
 *     return PyString_FromString(libstring)
 * 
 */
  __pyx_v_libstring = nc_inq_libvers();

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":176
 *     cdef char *libstring
 *     libstring = nc_inq_libvers()
 *     return PyString_FromString(libstring)             # <<<<<<<<<<<<<<
 * 
 * class MFDataset(Dataset):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = PyString_FromString(__pyx_v_libstring); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 176; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("netCDF3.getlibversion");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":210
 *     """
 * 
 *     def __init__(self, files, check=False, exclude=[]):             # <<<<<<<<<<<<<<
 *         """
 * Open a Dataset spanning multiple files, making it look as if it was a
 */

static PyObject *__pyx_pf_7netCDF3_9MFDataset___init__(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7netCDF3_9MFDataset___init__[] = "\nOpen a Dataset spanning multiple files, making it look as if it was a \nsingle file. Variables in the list of files that share the same unlimited \ndimension are aggregated. \n\nAdapted from U{pycdf <http://pysclint.sourceforge.net/pycdf>} by Andre Gosselin.\n\nUsage:\n\nnc = MFDataset(files, check=False, exclude=[])\n\n@param files: either a sequence of netCDF files or a string with a \nwildcard (converted to a sorted list of files using glob)  The first file \nin the list will become the \"master\" file, defining all the record \nvariables (variables with an unlimited dimension) which may span \nsubsequent files. Attribute access returns attributes only from \"master\" \nfile. The files are always opened in read-only mode.\n\n@param check: True if you want to do consistency checking to ensure the \ncorrect variables structure for all of the netcdf files.  Checking makes \nthe initialization of the MFDataset instance much slower. Default is \nFalse.\n\n@param exclude: A list of variable names to exclude from aggregation. \nDefault is an empty list.\n       ";
static PyMethodDef __pyx_mdef_7netCDF3_9MFDataset___init__ = {__Pyx_NAMESTR("__init__"), (PyCFunction)__pyx_pf_7netCDF3_9MFDataset___init__, METH_VARARGS|METH_KEYWORDS, __Pyx_DOCSTR(__pyx_doc_7netCDF3_9MFDataset___init__)};
static PyObject *__pyx_pf_7netCDF3_9MFDataset___init__(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_files = 0;
  PyObject *__pyx_v_check = 0;
  PyObject *__pyx_v_exclude = 0;
  PyObject *__pyx_v_msg;
  PyObject *__pyx_v_master;
  struct __pyx_obj_7netCDF3_Dataset *__pyx_v_cdfm;
  PyObject *__pyx_v_name;
  PyObject *__pyx_v_value;
  PyObject *__pyx_v_unlimDimId;
  PyObject *__pyx_v_dimname;
  PyObject *__pyx_v_dim;
  PyObject *__pyx_v_unlimDimName;
  PyObject *__pyx_v_masterRecVar;
  PyObject *__pyx_v_vName;
  PyObject *__pyx_v_v;
  PyObject *__pyx_v_dims;
  PyObject *__pyx_v_shape;
  PyObject *__pyx_v_type;
  PyObject *__pyx_v_cdf;
  PyObject *__pyx_v_cdfVLen;
  PyObject *__pyx_v_cdfRecVar;
  PyObject *__pyx_v_f;
  struct __pyx_obj_7netCDF3_Dataset *__pyx_v_part;
  PyObject *__pyx_v_varInfo;
  PyObject *__pyx_v_vInst;
  PyObject *__pyx_v_masterDims;
  PyObject *__pyx_v_masterShape;
  PyObject *__pyx_v_masterType;
  PyObject *__pyx_v_extDims;
  PyObject *__pyx_v_extShape;
  PyObject *__pyx_v_extType;
  PyObject *__pyx_v_varname;
  PyObject *__pyx_v_var;
  PyObject *__pyx_v_dset;
  PyObject *__pyx_r = NULL;
  int __pyx_t_1;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  Py_ssize_t __pyx_t_5;
  PyObject *__pyx_t_6 = NULL;
  PyObject *__pyx_t_7 = NULL;
  Py_ssize_t __pyx_t_8;
  int __pyx_t_9;
  int __pyx_t_10;
  PyObject *__pyx_t_11 = NULL;
  PyObject *__pyx_t_12 = NULL;
  Py_ssize_t __pyx_t_13;
  Py_ssize_t __pyx_t_14;
  int __pyx_t_15;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__self,&__pyx_n_s__files,&__pyx_n_s__check,&__pyx_n_s__exclude,0};
  __Pyx_RefNannySetupContext("__init__");
  __pyx_self = __pyx_self;
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[4] = {0,0,0,0};
    values[2] = __pyx_k_25;
    values[3] = __pyx_k_26;
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
      case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__self);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__files);
      if (likely(values[1])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("__init__", 0, 2, 4, 1); {__pyx_filename = __pyx_f[1]; __pyx_lineno = 210; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
      case  2:
      if (kw_args > 0) {
        PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s__check);
        if (value) { values[2] = value; kw_args--; }
      }
      case  3:
      if (kw_args > 0) {
        PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s__exclude);
        if (value) { values[3] = value; kw_args--; }
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "__init__") < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 210; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_self = values[0];
    __pyx_v_files = values[1];
    __pyx_v_check = values[2];
    __pyx_v_exclude = values[3];
  } else {
    __pyx_v_check = __pyx_k_25;
    __pyx_v_exclude = __pyx_k_26;
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  4:
      __pyx_v_exclude = PyTuple_GET_ITEM(__pyx_args, 3);
      case  3:
      __pyx_v_check = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2:
      __pyx_v_files = PyTuple_GET_ITEM(__pyx_args, 1);
      __pyx_v_self = PyTuple_GET_ITEM(__pyx_args, 0);
      break;
      default: goto __pyx_L5_argtuple_error;
    }
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("__init__", 0, 2, 4, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[1]; __pyx_lineno = 210; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF3.MFDataset.__init__");
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __Pyx_INCREF(__pyx_v_files);
  __pyx_v_msg = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_master = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_cdfm = ((struct __pyx_obj_7netCDF3_Dataset *)Py_None); __Pyx_INCREF(Py_None);
  __pyx_v_name = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_value = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_unlimDimId = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_dimname = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_dim = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_unlimDimName = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_masterRecVar = ((PyObject *)Py_None); __Pyx_INCREF(Py_None);
  __pyx_v_vName = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_v = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_dims = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_shape = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_type = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_cdf = ((PyObject *)Py_None); __Pyx_INCREF(Py_None);
  __pyx_v_cdfVLen = ((PyObject *)Py_None); __Pyx_INCREF(Py_None);
  __pyx_v_cdfRecVar = ((PyObject *)Py_None); __Pyx_INCREF(Py_None);
  __pyx_v_f = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_part = ((struct __pyx_obj_7netCDF3_Dataset *)Py_None); __Pyx_INCREF(Py_None);
  __pyx_v_varInfo = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_vInst = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_masterDims = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_masterShape = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_masterType = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_extDims = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_extShape = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_extType = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_varname = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_var = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_dset = Py_None; __Pyx_INCREF(Py_None);

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":240
 *         # Open the master file in the base class, so that the CDFMF instance
 *         # can be used like a CDF instance.
 *         if isinstance(files, str):             # <<<<<<<<<<<<<<
 *             if files.startswith('http'):
 *                 msg='cannot using file globbing for remote (OPeNDAP) datasets'
 */
  __pyx_t_1 = PyString_Check(__pyx_v_files); 
  if (__pyx_t_1) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":241
 *         # can be used like a CDF instance.
 *         if isinstance(files, str):
 *             if files.startswith('http'):             # <<<<<<<<<<<<<<
 *                 msg='cannot using file globbing for remote (OPeNDAP) datasets'
 *                 raise ValueError(msg)
 */
    __pyx_t_2 = PyObject_GetAttr(__pyx_v_files, __pyx_n_s__startswith); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 241; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 241; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_INCREF(((PyObject *)__pyx_n_s__http));
    PyTuple_SET_ITEM(__pyx_t_3, 0, ((PyObject *)__pyx_n_s__http));
    __Pyx_GIVEREF(((PyObject *)__pyx_n_s__http));
    __pyx_t_4 = PyObject_Call(__pyx_t_2, __pyx_t_3, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 241; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely(__pyx_t_1 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 241; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    if (__pyx_t_1) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":242
 *         if isinstance(files, str):
 *             if files.startswith('http'):
 *                 msg='cannot using file globbing for remote (OPeNDAP) datasets'             # <<<<<<<<<<<<<<
 *                 raise ValueError(msg)
 *             else:
 */
      __Pyx_INCREF(((PyObject *)__pyx_kp_s_27));
      __Pyx_DECREF(__pyx_v_msg);
      __pyx_v_msg = ((PyObject *)__pyx_kp_s_27);

      /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":243
 *             if files.startswith('http'):
 *                 msg='cannot using file globbing for remote (OPeNDAP) datasets'
 *                 raise ValueError(msg)             # <<<<<<<<<<<<<<
 *             else:
 *                 files = sorted(glob(files))
 */
      __pyx_t_4 = PyTuple_New(1); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 243; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_INCREF(__pyx_v_msg);
      PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_v_msg);
      __Pyx_GIVEREF(__pyx_v_msg);
      __pyx_t_3 = PyObject_Call(__pyx_builtin_ValueError, __pyx_t_4, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 243; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __Pyx_Raise(__pyx_t_3, 0, 0);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      {__pyx_filename = __pyx_f[1]; __pyx_lineno = 243; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L7;
    }
    /*else*/ {

      /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":245
 *                 raise ValueError(msg)
 *             else:
 *                 files = sorted(glob(files))             # <<<<<<<<<<<<<<
 * 
 *         master = files[0]
 */
      __pyx_t_3 = __Pyx_GetName(__pyx_m, __pyx_n_s__glob); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 245; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __pyx_t_4 = PyTuple_New(1); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 245; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_INCREF(__pyx_v_files);
      PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_v_files);
      __Pyx_GIVEREF(__pyx_v_files);
      __pyx_t_2 = PyObject_Call(__pyx_t_3, __pyx_t_4, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 245; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_2);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_4 = PyTuple_New(1); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 245; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_2);
      __Pyx_GIVEREF(__pyx_t_2);
      __pyx_t_2 = 0;
      __pyx_t_2 = PyObject_Call(__pyx_builtin_sorted, __pyx_t_4, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 245; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_2);
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __Pyx_DECREF(__pyx_v_files);
      __pyx_v_files = __pyx_t_2;
      __pyx_t_2 = 0;
    }
    __pyx_L7:;
    goto __pyx_L6;
  }
  __pyx_L6:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":247
 *                 files = sorted(glob(files))
 * 
 *         master = files[0]             # <<<<<<<<<<<<<<
 * 
 *         # Open the master again, this time as a classic CDF instance. This will avoid
 */
  __pyx_t_2 = __Pyx_GetItemInt(__pyx_v_files, 0, sizeof(long), PyInt_FromLong); if (!__pyx_t_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 247; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_v_master);
  __pyx_v_master = __pyx_t_2;
  __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":251
 *         # Open the master again, this time as a classic CDF instance. This will avoid
 *         # calling methods of the CDFMF subclass when querying the master file.
 *         cdfm = Dataset(master)             # <<<<<<<<<<<<<<
 *         # copy attributes from master.
 *         for name, value in cdfm.__dict__.items():
 */
  __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 251; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_INCREF(__pyx_v_master);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_master);
  __Pyx_GIVEREF(__pyx_v_master);
  __pyx_t_4 = PyObject_Call(((PyObject *)((PyObject*)__pyx_ptype_7netCDF3_Dataset)), __pyx_t_2, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 251; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(((PyObject *)__pyx_v_cdfm));
  __pyx_v_cdfm = ((struct __pyx_obj_7netCDF3_Dataset *)__pyx_t_4);
  __pyx_t_4 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":253
 *         cdfm = Dataset(master)
 *         # copy attributes from master.
 *         for name, value in cdfm.__dict__.items():             # <<<<<<<<<<<<<<
 *             self.__dict__[name] = value
 * 
 */
  __pyx_t_4 = PyObject_GetAttr(((PyObject *)__pyx_v_cdfm), __pyx_n_s____dict__); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 253; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __pyx_t_2 = PyObject_GetAttr(__pyx_t_4, __pyx_n_s__items); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 253; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = PyObject_Call(__pyx_t_2, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 253; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  if (PyList_CheckExact(__pyx_t_4) || PyTuple_CheckExact(__pyx_t_4)) {
    __pyx_t_5 = 0; __pyx_t_2 = __pyx_t_4; __Pyx_INCREF(__pyx_t_2);
  } else {
    __pyx_t_5 = -1; __pyx_t_2 = PyObject_GetIter(__pyx_t_4); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 253; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
  }
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_t_2))) {
      if (__pyx_t_5 >= PyList_GET_SIZE(__pyx_t_2)) break;
      __pyx_t_4 = PyList_GET_ITEM(__pyx_t_2, __pyx_t_5); __Pyx_INCREF(__pyx_t_4); __pyx_t_5++;
    } else if (likely(PyTuple_CheckExact(__pyx_t_2))) {
      if (__pyx_t_5 >= PyTuple_GET_SIZE(__pyx_t_2)) break;
      __pyx_t_4 = PyTuple_GET_ITEM(__pyx_t_2, __pyx_t_5); __Pyx_INCREF(__pyx_t_4); __pyx_t_5++;
    } else {
      __pyx_t_4 = PyIter_Next(__pyx_t_2);
      if (!__pyx_t_4) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 253; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
      __Pyx_GOTREF(__pyx_t_4);
    }
    if (PyTuple_CheckExact(__pyx_t_4) && likely(PyTuple_GET_SIZE(__pyx_t_4) == 2)) {
      PyObject* tuple = __pyx_t_4;
      __pyx_t_3 = PyTuple_GET_ITEM(tuple, 0); __Pyx_INCREF(__pyx_t_3);
      __pyx_t_6 = PyTuple_GET_ITEM(tuple, 1); __Pyx_INCREF(__pyx_t_6);
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __Pyx_DECREF(__pyx_v_name);
      __pyx_v_name = __pyx_t_3;
      __pyx_t_3 = 0;
      __Pyx_DECREF(__pyx_v_value);
      __pyx_v_value = __pyx_t_6;
      __pyx_t_6 = 0;
    } else {
      __pyx_t_7 = PyObject_GetIter(__pyx_t_4); if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 253; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_7);
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_3 = __Pyx_UnpackItem(__pyx_t_7, 0); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 253; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __pyx_t_6 = __Pyx_UnpackItem(__pyx_t_7, 1); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 253; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_6);
      if (__Pyx_EndUnpack(__pyx_t_7, 2) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 253; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
      __Pyx_DECREF(__pyx_v_name);
      __pyx_v_name = __pyx_t_3;
      __pyx_t_3 = 0;
      __Pyx_DECREF(__pyx_v_value);
      __pyx_v_value = __pyx_t_6;
      __pyx_t_6 = 0;
    }

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":254
 *         # copy attributes from master.
 *         for name, value in cdfm.__dict__.items():
 *             self.__dict__[name] = value             # <<<<<<<<<<<<<<
 * 
 *         # Make sure the master defines an unlimited dimension.
 */
    __pyx_t_4 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s____dict__); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 254; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    if (PyObject_SetItem(__pyx_t_4, __pyx_v_name, __pyx_v_value) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 254; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":257
 * 
 *         # Make sure the master defines an unlimited dimension.
 *         unlimDimId = None             # <<<<<<<<<<<<<<
 *         for dimname,dim in cdfm.dimensions.items():
 *             if dim.isunlimited():
 */
  __Pyx_INCREF(Py_None);
  __Pyx_DECREF(__pyx_v_unlimDimId);
  __pyx_v_unlimDimId = Py_None;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":258
 *         # Make sure the master defines an unlimited dimension.
 *         unlimDimId = None
 *         for dimname,dim in cdfm.dimensions.items():             # <<<<<<<<<<<<<<
 *             if dim.isunlimited():
 *                 unlimDimId = dim
 */
  __pyx_t_2 = PyObject_GetAttr(__pyx_v_cdfm->dimensions, __pyx_n_s__items); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 258; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_4 = PyObject_Call(__pyx_t_2, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 258; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  if (PyList_CheckExact(__pyx_t_4) || PyTuple_CheckExact(__pyx_t_4)) {
    __pyx_t_5 = 0; __pyx_t_2 = __pyx_t_4; __Pyx_INCREF(__pyx_t_2);
  } else {
    __pyx_t_5 = -1; __pyx_t_2 = PyObject_GetIter(__pyx_t_4); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 258; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
  }
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_t_2))) {
      if (__pyx_t_5 >= PyList_GET_SIZE(__pyx_t_2)) break;
      __pyx_t_4 = PyList_GET_ITEM(__pyx_t_2, __pyx_t_5); __Pyx_INCREF(__pyx_t_4); __pyx_t_5++;
    } else if (likely(PyTuple_CheckExact(__pyx_t_2))) {
      if (__pyx_t_5 >= PyTuple_GET_SIZE(__pyx_t_2)) break;
      __pyx_t_4 = PyTuple_GET_ITEM(__pyx_t_2, __pyx_t_5); __Pyx_INCREF(__pyx_t_4); __pyx_t_5++;
    } else {
      __pyx_t_4 = PyIter_Next(__pyx_t_2);
      if (!__pyx_t_4) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 258; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
      __Pyx_GOTREF(__pyx_t_4);
    }
    if (PyTuple_CheckExact(__pyx_t_4) && likely(PyTuple_GET_SIZE(__pyx_t_4) == 2)) {
      PyObject* tuple = __pyx_t_4;
      __pyx_t_6 = PyTuple_GET_ITEM(tuple, 0); __Pyx_INCREF(__pyx_t_6);
      __pyx_t_3 = PyTuple_GET_ITEM(tuple, 1); __Pyx_INCREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __Pyx_DECREF(__pyx_v_dimname);
      __pyx_v_dimname = __pyx_t_6;
      __pyx_t_6 = 0;
      __Pyx_DECREF(__pyx_v_dim);
      __pyx_v_dim = __pyx_t_3;
      __pyx_t_3 = 0;
    } else {
      __pyx_t_7 = PyObject_GetIter(__pyx_t_4); if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 258; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_7);
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_6 = __Pyx_UnpackItem(__pyx_t_7, 0); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 258; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_6);
      __pyx_t_3 = __Pyx_UnpackItem(__pyx_t_7, 1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 258; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      if (__Pyx_EndUnpack(__pyx_t_7, 2) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 258; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
      __Pyx_DECREF(__pyx_v_dimname);
      __pyx_v_dimname = __pyx_t_6;
      __pyx_t_6 = 0;
      __Pyx_DECREF(__pyx_v_dim);
      __pyx_v_dim = __pyx_t_3;
      __pyx_t_3 = 0;
    }

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":259
 *         unlimDimId = None
 *         for dimname,dim in cdfm.dimensions.items():
 *             if dim.isunlimited():             # <<<<<<<<<<<<<<
 *                 unlimDimId = dim
 *                 unlimDimName = dimname
 */
    __pyx_t_4 = PyObject_GetAttr(__pyx_v_dim, __pyx_n_s__isunlimited); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 259; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_3 = PyObject_Call(__pyx_t_4, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 259; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_1 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 259; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    if (__pyx_t_1) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":260
 *         for dimname,dim in cdfm.dimensions.items():
 *             if dim.isunlimited():
 *                 unlimDimId = dim             # <<<<<<<<<<<<<<
 *                 unlimDimName = dimname
 *         if unlimDimId is None:
 */
      __Pyx_INCREF(__pyx_v_dim);
      __Pyx_DECREF(__pyx_v_unlimDimId);
      __pyx_v_unlimDimId = __pyx_v_dim;

      /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":261
 *             if dim.isunlimited():
 *                 unlimDimId = dim
 *                 unlimDimName = dimname             # <<<<<<<<<<<<<<
 *         if unlimDimId is None:
 *             raise IOError("master dataset %s does not have an unlimited dimension" % master)
 */
      __Pyx_INCREF(__pyx_v_dimname);
      __Pyx_DECREF(__pyx_v_unlimDimName);
      __pyx_v_unlimDimName = __pyx_v_dimname;
      goto __pyx_L12;
    }
    __pyx_L12:;
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":262
 *                 unlimDimId = dim
 *                 unlimDimName = dimname
 *         if unlimDimId is None:             # <<<<<<<<<<<<<<
 *             raise IOError("master dataset %s does not have an unlimited dimension" % master)
 * 
 */
  __pyx_t_1 = (__pyx_v_unlimDimId == Py_None);
  if (__pyx_t_1) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":263
 *                 unlimDimName = dimname
 *         if unlimDimId is None:
 *             raise IOError("master dataset %s does not have an unlimited dimension" % master)             # <<<<<<<<<<<<<<
 * 
 *         # Get info on all record variables defined in the master.
 */
    __pyx_t_2 = PyNumber_Remainder(((PyObject *)__pyx_kp_s_28), __pyx_v_master); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 263; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(((PyObject *)__pyx_t_2));
    __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 263; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    PyTuple_SET_ITEM(__pyx_t_3, 0, ((PyObject *)__pyx_t_2));
    __Pyx_GIVEREF(((PyObject *)__pyx_t_2));
    __pyx_t_2 = 0;
    __pyx_t_2 = PyObject_Call(__pyx_builtin_IOError, __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 263; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_Raise(__pyx_t_2, 0, 0);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    {__pyx_filename = __pyx_f[1]; __pyx_lineno = 263; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L13;
  }
  __pyx_L13:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":267
 *         # Get info on all record variables defined in the master.
 *         # Make sure the master defines at least one record variable.
 *         masterRecVar = {}             # <<<<<<<<<<<<<<
 *         for vName,v in cdfm.variables.items():
 *             # skip variables specified in exclude list.
 */
  __pyx_t_2 = PyDict_New(); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 267; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_2));
  __Pyx_DECREF(((PyObject *)__pyx_v_masterRecVar));
  __pyx_v_masterRecVar = __pyx_t_2;
  __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":268
 *         # Make sure the master defines at least one record variable.
 *         masterRecVar = {}
 *         for vName,v in cdfm.variables.items():             # <<<<<<<<<<<<<<
 *             # skip variables specified in exclude list.
 *             if vName in exclude: continue
 */
  __pyx_t_2 = PyObject_GetAttr(__pyx_v_cdfm->variables, __pyx_n_s__items); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 268; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = PyObject_Call(__pyx_t_2, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 268; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  if (PyList_CheckExact(__pyx_t_3) || PyTuple_CheckExact(__pyx_t_3)) {
    __pyx_t_5 = 0; __pyx_t_2 = __pyx_t_3; __Pyx_INCREF(__pyx_t_2);
  } else {
    __pyx_t_5 = -1; __pyx_t_2 = PyObject_GetIter(__pyx_t_3); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 268; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
  }
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_t_2))) {
      if (__pyx_t_5 >= PyList_GET_SIZE(__pyx_t_2)) break;
      __pyx_t_3 = PyList_GET_ITEM(__pyx_t_2, __pyx_t_5); __Pyx_INCREF(__pyx_t_3); __pyx_t_5++;
    } else if (likely(PyTuple_CheckExact(__pyx_t_2))) {
      if (__pyx_t_5 >= PyTuple_GET_SIZE(__pyx_t_2)) break;
      __pyx_t_3 = PyTuple_GET_ITEM(__pyx_t_2, __pyx_t_5); __Pyx_INCREF(__pyx_t_3); __pyx_t_5++;
    } else {
      __pyx_t_3 = PyIter_Next(__pyx_t_2);
      if (!__pyx_t_3) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 268; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
      __Pyx_GOTREF(__pyx_t_3);
    }
    if (PyTuple_CheckExact(__pyx_t_3) && likely(PyTuple_GET_SIZE(__pyx_t_3) == 2)) {
      PyObject* tuple = __pyx_t_3;
      __pyx_t_4 = PyTuple_GET_ITEM(tuple, 0); __Pyx_INCREF(__pyx_t_4);
      __pyx_t_6 = PyTuple_GET_ITEM(tuple, 1); __Pyx_INCREF(__pyx_t_6);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_DECREF(__pyx_v_vName);
      __pyx_v_vName = __pyx_t_4;
      __pyx_t_4 = 0;
      __Pyx_DECREF(__pyx_v_v);
      __pyx_v_v = __pyx_t_6;
      __pyx_t_6 = 0;
    } else {
      __pyx_t_7 = PyObject_GetIter(__pyx_t_3); if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 268; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_7);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_4 = __Pyx_UnpackItem(__pyx_t_7, 0); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 268; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      __pyx_t_6 = __Pyx_UnpackItem(__pyx_t_7, 1); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 268; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_6);
      if (__Pyx_EndUnpack(__pyx_t_7, 2) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 268; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
      __Pyx_DECREF(__pyx_v_vName);
      __pyx_v_vName = __pyx_t_4;
      __pyx_t_4 = 0;
      __Pyx_DECREF(__pyx_v_v);
      __pyx_v_v = __pyx_t_6;
      __pyx_t_6 = 0;
    }

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":270
 *         for vName,v in cdfm.variables.items():
 *             # skip variables specified in exclude list.
 *             if vName in exclude: continue             # <<<<<<<<<<<<<<
 *             dims = v.dimensions
 *             shape = v.shape
 */
    __pyx_t_1 = ((PySequence_Contains(__pyx_v_exclude, __pyx_v_vName))); if (unlikely(__pyx_t_1 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 270; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (__pyx_t_1) {
      goto __pyx_L14_continue;
      goto __pyx_L16;
    }
    __pyx_L16:;

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":271
 *             # skip variables specified in exclude list.
 *             if vName in exclude: continue
 *             dims = v.dimensions             # <<<<<<<<<<<<<<
 *             shape = v.shape
 *             type = v.dtype
 */
    __pyx_t_3 = PyObject_GetAttr(__pyx_v_v, __pyx_n_s__dimensions); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 271; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_v_dims);
    __pyx_v_dims = __pyx_t_3;
    __pyx_t_3 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":272
 *             if vName in exclude: continue
 *             dims = v.dimensions
 *             shape = v.shape             # <<<<<<<<<<<<<<
 *             type = v.dtype
 *             # Be carefull: we may deal with a scalar (dimensionless) variable.
 */
    __pyx_t_3 = PyObject_GetAttr(__pyx_v_v, __pyx_n_s__shape); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 272; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_v_shape);
    __pyx_v_shape = __pyx_t_3;
    __pyx_t_3 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":273
 *             dims = v.dimensions
 *             shape = v.shape
 *             type = v.dtype             # <<<<<<<<<<<<<<
 *             # Be carefull: we may deal with a scalar (dimensionless) variable.
 *             # Unlimited dimension always occupies index 0.
 */
    __pyx_t_3 = PyObject_GetAttr(__pyx_v_v, __pyx_n_s__dtype); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 273; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_v_type);
    __pyx_v_type = __pyx_t_3;
    __pyx_t_3 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":276
 *             # Be carefull: we may deal with a scalar (dimensionless) variable.
 *             # Unlimited dimension always occupies index 0.
 *             if (len(dims) > 0 and unlimDimName == dims[0]):             # <<<<<<<<<<<<<<
 *                 masterRecVar[vName] = (dims, shape, type)
 *         if len(masterRecVar) == 0:
 */
    __pyx_t_8 = PyObject_Length(__pyx_v_dims); if (unlikely(__pyx_t_8 == -1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 276; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_t_1 = (__pyx_t_8 > 0);
    if (__pyx_t_1) {
      __pyx_t_3 = __Pyx_GetItemInt(__pyx_v_dims, 0, sizeof(long), PyInt_FromLong); if (!__pyx_t_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 276; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __pyx_t_6 = PyObject_RichCompare(__pyx_v_unlimDimName, __pyx_t_3, Py_EQ); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 276; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_6);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_9 = __Pyx_PyObject_IsTrue(__pyx_t_6); if (unlikely(__pyx_t_9 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 276; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_t_10 = __pyx_t_9;
    } else {
      __pyx_t_10 = __pyx_t_1;
    }
    if (__pyx_t_10) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":277
 *             # Unlimited dimension always occupies index 0.
 *             if (len(dims) > 0 and unlimDimName == dims[0]):
 *                 masterRecVar[vName] = (dims, shape, type)             # <<<<<<<<<<<<<<
 *         if len(masterRecVar) == 0:
 *             raise IOError("master dataset %s does not have any record variable" % master)
 */
      __pyx_t_6 = PyTuple_New(3); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 277; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_6);
      __Pyx_INCREF(__pyx_v_dims);
      PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_v_dims);
      __Pyx_GIVEREF(__pyx_v_dims);
      __Pyx_INCREF(__pyx_v_shape);
      PyTuple_SET_ITEM(__pyx_t_6, 1, __pyx_v_shape);
      __Pyx_GIVEREF(__pyx_v_shape);
      __Pyx_INCREF(__pyx_v_type);
      PyTuple_SET_ITEM(__pyx_t_6, 2, __pyx_v_type);
      __Pyx_GIVEREF(__pyx_v_type);
      if (PyDict_SetItem(((PyObject *)__pyx_v_masterRecVar), __pyx_v_vName, __pyx_t_6) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 277; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
      goto __pyx_L17;
    }
    __pyx_L17:;
    __pyx_L14_continue:;
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":278
 *             if (len(dims) > 0 and unlimDimName == dims[0]):
 *                 masterRecVar[vName] = (dims, shape, type)
 *         if len(masterRecVar) == 0:             # <<<<<<<<<<<<<<
 *             raise IOError("master dataset %s does not have any record variable" % master)
 * 
 */
  if (unlikely(__pyx_v_masterRecVar == Py_None)) {
    PyErr_SetString(PyExc_TypeError, "object of type 'NoneType' has no len()"); {__pyx_filename = __pyx_f[1]; __pyx_lineno = 278; __pyx_clineno = __LINE__; goto __pyx_L1_error;} 
  }
  __pyx_t_5 = PyDict_Size(((PyObject *)__pyx_v_masterRecVar)); 
  __pyx_t_10 = (__pyx_t_5 == 0);
  if (__pyx_t_10) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":279
 *                 masterRecVar[vName] = (dims, shape, type)
 *         if len(masterRecVar) == 0:
 *             raise IOError("master dataset %s does not have any record variable" % master)             # <<<<<<<<<<<<<<
 * 
 *         # Create the following:
 */
    __pyx_t_2 = PyNumber_Remainder(((PyObject *)__pyx_kp_s_29), __pyx_v_master); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 279; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(((PyObject *)__pyx_t_2));
    __pyx_t_6 = PyTuple_New(1); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 279; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_6);
    PyTuple_SET_ITEM(__pyx_t_6, 0, ((PyObject *)__pyx_t_2));
    __Pyx_GIVEREF(((PyObject *)__pyx_t_2));
    __pyx_t_2 = 0;
    __pyx_t_2 = PyObject_Call(__pyx_builtin_IOError, __pyx_t_6, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 279; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    __Pyx_Raise(__pyx_t_2, 0, 0);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    {__pyx_filename = __pyx_f[1]; __pyx_lineno = 279; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L18;
  }
  __pyx_L18:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":287
 *         #             a list of the corresponding Variable instance, one for each
 *         #             cdf file of the file set
 *         cdf = [cdfm]             # <<<<<<<<<<<<<<
 *         self._cdf = cdf        # Store this now, because dim() method needs it
 *         cdfVLen = [len(unlimDimId)]
 */
  __pyx_t_2 = PyList_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 287; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_2));
  __Pyx_INCREF(((PyObject *)__pyx_v_cdfm));
  PyList_SET_ITEM(__pyx_t_2, 0, ((PyObject *)__pyx_v_cdfm));
  __Pyx_GIVEREF(((PyObject *)__pyx_v_cdfm));
  __Pyx_DECREF(((PyObject *)__pyx_v_cdf));
  __pyx_v_cdf = __pyx_t_2;
  __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":288
 *         #             cdf file of the file set
 *         cdf = [cdfm]
 *         self._cdf = cdf        # Store this now, because dim() method needs it             # <<<<<<<<<<<<<<
 *         cdfVLen = [len(unlimDimId)]
 *         cdfRecVar = {}
 */
  if (PyObject_SetAttr(__pyx_v_self, __pyx_n_s___cdf, ((PyObject *)__pyx_v_cdf)) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 288; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":289
 *         cdf = [cdfm]
 *         self._cdf = cdf        # Store this now, because dim() method needs it
 *         cdfVLen = [len(unlimDimId)]             # <<<<<<<<<<<<<<
 *         cdfRecVar = {}
 *         for v in masterRecVar.keys():
 */
  __pyx_t_5 = PyObject_Length(__pyx_v_unlimDimId); if (unlikely(__pyx_t_5 == -1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 289; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_t_2 = PyInt_FromSsize_t(__pyx_t_5); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 289; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_6 = PyList_New(1); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 289; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_6));
  PyList_SET_ITEM(__pyx_t_6, 0, __pyx_t_2);
  __Pyx_GIVEREF(__pyx_t_2);
  __pyx_t_2 = 0;
  __Pyx_DECREF(((PyObject *)__pyx_v_cdfVLen));
  __pyx_v_cdfVLen = __pyx_t_6;
  __pyx_t_6 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":290
 *         self._cdf = cdf        # Store this now, because dim() method needs it
 *         cdfVLen = [len(unlimDimId)]
 *         cdfRecVar = {}             # <<<<<<<<<<<<<<
 *         for v in masterRecVar.keys():
 *             cdfRecVar[v] = [cdfm.variables[v]]
 */
  __pyx_t_6 = PyDict_New(); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 290; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_6));
  __Pyx_DECREF(((PyObject *)__pyx_v_cdfRecVar));
  __pyx_v_cdfRecVar = __pyx_t_6;
  __pyx_t_6 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":291
 *         cdfVLen = [len(unlimDimId)]
 *         cdfRecVar = {}
 *         for v in masterRecVar.keys():             # <<<<<<<<<<<<<<
 *             cdfRecVar[v] = [cdfm.variables[v]]
 * 
 */
  __pyx_t_6 = PyDict_Keys(((PyObject *)__pyx_v_masterRecVar)); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 291; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_6);
  if (PyList_CheckExact(__pyx_t_6) || PyTuple_CheckExact(__pyx_t_6)) {
    __pyx_t_5 = 0; __pyx_t_2 = __pyx_t_6; __Pyx_INCREF(__pyx_t_2);
  } else {
    __pyx_t_5 = -1; __pyx_t_2 = PyObject_GetIter(__pyx_t_6); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 291; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
  }
  __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_t_2))) {
      if (__pyx_t_5 >= PyList_GET_SIZE(__pyx_t_2)) break;
      __pyx_t_6 = PyList_GET_ITEM(__pyx_t_2, __pyx_t_5); __Pyx_INCREF(__pyx_t_6); __pyx_t_5++;
    } else if (likely(PyTuple_CheckExact(__pyx_t_2))) {
      if (__pyx_t_5 >= PyTuple_GET_SIZE(__pyx_t_2)) break;
      __pyx_t_6 = PyTuple_GET_ITEM(__pyx_t_2, __pyx_t_5); __Pyx_INCREF(__pyx_t_6); __pyx_t_5++;
    } else {
      __pyx_t_6 = PyIter_Next(__pyx_t_2);
      if (!__pyx_t_6) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 291; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
      __Pyx_GOTREF(__pyx_t_6);
    }
    __Pyx_DECREF(__pyx_v_v);
    __pyx_v_v = __pyx_t_6;
    __pyx_t_6 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":292
 *         cdfRecVar = {}
 *         for v in masterRecVar.keys():
 *             cdfRecVar[v] = [cdfm.variables[v]]             # <<<<<<<<<<<<<<
 * 
 *         # Open each remaining file in read-only mode.
 */
    __pyx_t_6 = PyObject_GetItem(__pyx_v_cdfm->variables, __pyx_v_v); if (!__pyx_t_6) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 292; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_6);
    __pyx_t_3 = PyList_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 292; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(((PyObject *)__pyx_t_3));
    PyList_SET_ITEM(__pyx_t_3, 0, __pyx_t_6);
    __Pyx_GIVEREF(__pyx_t_6);
    __pyx_t_6 = 0;
    if (PyDict_SetItem(((PyObject *)__pyx_v_cdfRecVar), __pyx_v_v, ((PyObject *)__pyx_t_3)) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 292; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(((PyObject *)__pyx_t_3)); __pyx_t_3 = 0;
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":297
 *         # Make sure each file defines the same record variables as the master
 *         # and that the variables are defined in the same way (name, shape and type)
 *         for f in files[1:]:             # <<<<<<<<<<<<<<
 *             part = Dataset(f)
 *             varInfo = part.variables
 */
  __pyx_t_2 = PySequence_GetSlice(__pyx_v_files, 1, PY_SSIZE_T_MAX); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 297; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  if (PyList_CheckExact(__pyx_t_2) || PyTuple_CheckExact(__pyx_t_2)) {
    __pyx_t_5 = 0; __pyx_t_3 = __pyx_t_2; __Pyx_INCREF(__pyx_t_3);
  } else {
    __pyx_t_5 = -1; __pyx_t_3 = PyObject_GetIter(__pyx_t_2); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 297; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_t_3))) {
      if (__pyx_t_5 >= PyList_GET_SIZE(__pyx_t_3)) break;
      __pyx_t_2 = PyList_GET_ITEM(__pyx_t_3, __pyx_t_5); __Pyx_INCREF(__pyx_t_2); __pyx_t_5++;
    } else if (likely(PyTuple_CheckExact(__pyx_t_3))) {
      if (__pyx_t_5 >= PyTuple_GET_SIZE(__pyx_t_3)) break;
      __pyx_t_2 = PyTuple_GET_ITEM(__pyx_t_3, __pyx_t_5); __Pyx_INCREF(__pyx_t_2); __pyx_t_5++;
    } else {
      __pyx_t_2 = PyIter_Next(__pyx_t_3);
      if (!__pyx_t_2) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 297; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
      __Pyx_GOTREF(__pyx_t_2);
    }
    __Pyx_DECREF(__pyx_v_f);
    __pyx_v_f = __pyx_t_2;
    __pyx_t_2 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":298
 *         # and that the variables are defined in the same way (name, shape and type)
 *         for f in files[1:]:
 *             part = Dataset(f)             # <<<<<<<<<<<<<<
 *             varInfo = part.variables
 *             for v in masterRecVar.keys():
 */
    __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 298; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_INCREF(__pyx_v_f);
    PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_f);
    __Pyx_GIVEREF(__pyx_v_f);
    __pyx_t_6 = PyObject_Call(((PyObject *)((PyObject*)__pyx_ptype_7netCDF3_Dataset)), __pyx_t_2, NULL); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 298; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_6);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_DECREF(((PyObject *)__pyx_v_part));
    __pyx_v_part = ((struct __pyx_obj_7netCDF3_Dataset *)__pyx_t_6);
    __pyx_t_6 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":299
 *         for f in files[1:]:
 *             part = Dataset(f)
 *             varInfo = part.variables             # <<<<<<<<<<<<<<
 *             for v in masterRecVar.keys():
 *                 if check:
 */
    __Pyx_INCREF(__pyx_v_part->variables);
    __Pyx_DECREF(__pyx_v_varInfo);
    __pyx_v_varInfo = __pyx_v_part->variables;

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":300
 *             part = Dataset(f)
 *             varInfo = part.variables
 *             for v in masterRecVar.keys():             # <<<<<<<<<<<<<<
 *                 if check:
 *                     # Make sure master rec var is also defined here.
 */
    __pyx_t_6 = PyDict_Keys(((PyObject *)__pyx_v_masterRecVar)); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 300; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_6);
    if (PyList_CheckExact(__pyx_t_6) || PyTuple_CheckExact(__pyx_t_6)) {
      __pyx_t_8 = 0; __pyx_t_2 = __pyx_t_6; __Pyx_INCREF(__pyx_t_2);
    } else {
      __pyx_t_8 = -1; __pyx_t_2 = PyObject_GetIter(__pyx_t_6); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 300; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_2);
    }
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    for (;;) {
      if (likely(PyList_CheckExact(__pyx_t_2))) {
        if (__pyx_t_8 >= PyList_GET_SIZE(__pyx_t_2)) break;
        __pyx_t_6 = PyList_GET_ITEM(__pyx_t_2, __pyx_t_8); __Pyx_INCREF(__pyx_t_6); __pyx_t_8++;
      } else if (likely(PyTuple_CheckExact(__pyx_t_2))) {
        if (__pyx_t_8 >= PyTuple_GET_SIZE(__pyx_t_2)) break;
        __pyx_t_6 = PyTuple_GET_ITEM(__pyx_t_2, __pyx_t_8); __Pyx_INCREF(__pyx_t_6); __pyx_t_8++;
      } else {
        __pyx_t_6 = PyIter_Next(__pyx_t_2);
        if (!__pyx_t_6) {
          if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 300; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          break;
        }
        __Pyx_GOTREF(__pyx_t_6);
      }
      __Pyx_DECREF(__pyx_v_v);
      __pyx_v_v = __pyx_t_6;
      __pyx_t_6 = 0;

      /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":301
 *             varInfo = part.variables
 *             for v in masterRecVar.keys():
 *                 if check:             # <<<<<<<<<<<<<<
 *                     # Make sure master rec var is also defined here.
 *                     if v not in varInfo.keys():
 */
      __pyx_t_10 = __Pyx_PyObject_IsTrue(__pyx_v_check); if (unlikely(__pyx_t_10 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 301; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      if (__pyx_t_10) {

        /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":303
 *                 if check:
 *                     # Make sure master rec var is also defined here.
 *                     if v not in varInfo.keys():             # <<<<<<<<<<<<<<
 *                         raise IOError("record variable %s not defined in %s" % (v, f))
 * 
 */
        __pyx_t_6 = PyObject_GetAttr(__pyx_v_varInfo, __pyx_n_s__keys); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 303; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_6);
        __pyx_t_4 = PyObject_Call(__pyx_t_6, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 303; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_4);
        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
        __pyx_t_10 = (__Pyx_NegateNonNeg(PySequence_Contains(__pyx_t_4, __pyx_v_v))); if (unlikely(__pyx_t_10 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 303; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
        if (__pyx_t_10) {

          /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":304
 *                     # Make sure master rec var is also defined here.
 *                     if v not in varInfo.keys():
 *                         raise IOError("record variable %s not defined in %s" % (v, f))             # <<<<<<<<<<<<<<
 * 
 *                     # Make sure it is a record var.
 */
          __pyx_t_4 = PyTuple_New(2); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 304; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_4);
          __Pyx_INCREF(__pyx_v_v);
          PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_v_v);
          __Pyx_GIVEREF(__pyx_v_v);
          __Pyx_INCREF(__pyx_v_f);
          PyTuple_SET_ITEM(__pyx_t_4, 1, __pyx_v_f);
          __Pyx_GIVEREF(__pyx_v_f);
          __pyx_t_6 = PyNumber_Remainder(((PyObject *)__pyx_kp_s_30), __pyx_t_4); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 304; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(((PyObject *)__pyx_t_6));
          __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
          __pyx_t_4 = PyTuple_New(1); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 304; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_4);
          PyTuple_SET_ITEM(__pyx_t_4, 0, ((PyObject *)__pyx_t_6));
          __Pyx_GIVEREF(((PyObject *)__pyx_t_6));
          __pyx_t_6 = 0;
          __pyx_t_6 = PyObject_Call(__pyx_builtin_IOError, __pyx_t_4, NULL); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 304; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_6);
          __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
          __Pyx_Raise(__pyx_t_6, 0, 0);
          __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
          {__pyx_filename = __pyx_f[1]; __pyx_lineno = 304; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          goto __pyx_L26;
        }
        __pyx_L26:;

        /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":307
 * 
 *                     # Make sure it is a record var.
 *                     vInst = part.variables[v]             # <<<<<<<<<<<<<<
 *                     if not part.dimensions[vInst.dimensions[0]].isunlimited():
 *                         raise MFDataset("variable %s is not a record var inside %s" % (v, f))
 */
        __pyx_t_6 = PyObject_GetItem(__pyx_v_part->variables, __pyx_v_v); if (!__pyx_t_6) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 307; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_6);
        __Pyx_DECREF(__pyx_v_vInst);
        __pyx_v_vInst = __pyx_t_6;
        __pyx_t_6 = 0;

        /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":308
 *                     # Make sure it is a record var.
 *                     vInst = part.variables[v]
 *                     if not part.dimensions[vInst.dimensions[0]].isunlimited():             # <<<<<<<<<<<<<<
 *                         raise MFDataset("variable %s is not a record var inside %s" % (v, f))
 * 
 */
        __pyx_t_6 = PyObject_GetAttr(__pyx_v_vInst, __pyx_n_s__dimensions); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 308; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_6);
        __pyx_t_4 = __Pyx_GetItemInt(__pyx_t_6, 0, sizeof(long), PyInt_FromLong); if (!__pyx_t_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 308; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_4);
        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
        __pyx_t_6 = PyObject_GetItem(__pyx_v_part->dimensions, __pyx_t_4); if (!__pyx_t_6) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 308; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_6);
        __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
        __pyx_t_4 = PyObject_GetAttr(__pyx_t_6, __pyx_n_s__isunlimited); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 308; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_4);
        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
        __pyx_t_6 = PyObject_Call(__pyx_t_4, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 308; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_6);
        __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
        __pyx_t_10 = __Pyx_PyObject_IsTrue(__pyx_t_6); if (unlikely(__pyx_t_10 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 308; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
        __pyx_t_1 = (!__pyx_t_10);
        if (__pyx_t_1) {

          /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":309
 *                     vInst = part.variables[v]
 *                     if not part.dimensions[vInst.dimensions[0]].isunlimited():
 *                         raise MFDataset("variable %s is not a record var inside %s" % (v, f))             # <<<<<<<<<<<<<<
 * 
 *                     masterDims, masterShape, masterType = masterRecVar[v][:3]
 */
          __pyx_t_6 = __Pyx_GetName(__pyx_m, __pyx_n_s__MFDataset); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 309; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_6);
          __pyx_t_4 = PyTuple_New(2); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 309; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_4);
          __Pyx_INCREF(__pyx_v_v);
          PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_v_v);
          __Pyx_GIVEREF(__pyx_v_v);
          __Pyx_INCREF(__pyx_v_f);
          PyTuple_SET_ITEM(__pyx_t_4, 1, __pyx_v_f);
          __Pyx_GIVEREF(__pyx_v_f);
          __pyx_t_7 = PyNumber_Remainder(((PyObject *)__pyx_kp_s_31), __pyx_t_4); if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 309; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(((PyObject *)__pyx_t_7));
          __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
          __pyx_t_4 = PyTuple_New(1); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 309; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_4);
          PyTuple_SET_ITEM(__pyx_t_4, 0, ((PyObject *)__pyx_t_7));
          __Pyx_GIVEREF(((PyObject *)__pyx_t_7));
          __pyx_t_7 = 0;
          __pyx_t_7 = PyObject_Call(__pyx_t_6, __pyx_t_4, NULL); if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 309; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_7);
          __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
          __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
          __Pyx_Raise(__pyx_t_7, 0, 0);
          __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
          {__pyx_filename = __pyx_f[1]; __pyx_lineno = 309; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          goto __pyx_L27;
        }
        __pyx_L27:;

        /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":311
 *                         raise MFDataset("variable %s is not a record var inside %s" % (v, f))
 * 
 *                     masterDims, masterShape, masterType = masterRecVar[v][:3]             # <<<<<<<<<<<<<<
 *                     extDims, extShape, extType = varInfo[v][:3]
 *                     extDims = varInfo[v].dimensions
 */
        __pyx_t_7 = __Pyx_PyDict_GetItem(((PyObject *)__pyx_v_masterRecVar), __pyx_v_v); if (!__pyx_t_7) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 311; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_7);
        __pyx_t_4 = PySequence_GetSlice(__pyx_t_7, 0, 3); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 311; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_4);
        __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
        if (PyTuple_CheckExact(__pyx_t_4) && likely(PyTuple_GET_SIZE(__pyx_t_4) == 3)) {
          PyObject* tuple = __pyx_t_4;
          __pyx_t_7 = PyTuple_GET_ITEM(tuple, 0); __Pyx_INCREF(__pyx_t_7);
          __pyx_t_6 = PyTuple_GET_ITEM(tuple, 1); __Pyx_INCREF(__pyx_t_6);
          __pyx_t_11 = PyTuple_GET_ITEM(tuple, 2); __Pyx_INCREF(__pyx_t_11);
          __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
          __Pyx_DECREF(__pyx_v_masterDims);
          __pyx_v_masterDims = __pyx_t_7;
          __pyx_t_7 = 0;
          __Pyx_DECREF(__pyx_v_masterShape);
          __pyx_v_masterShape = __pyx_t_6;
          __pyx_t_6 = 0;
          __Pyx_DECREF(__pyx_v_masterType);
          __pyx_v_masterType = __pyx_t_11;
          __pyx_t_11 = 0;
        } else {
          __pyx_t_12 = PyObject_GetIter(__pyx_t_4); if (unlikely(!__pyx_t_12)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 311; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_12);
          __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
          __pyx_t_7 = __Pyx_UnpackItem(__pyx_t_12, 0); if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 311; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_7);
          __pyx_t_6 = __Pyx_UnpackItem(__pyx_t_12, 1); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 311; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_6);
          __pyx_t_11 = __Pyx_UnpackItem(__pyx_t_12, 2); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 311; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_11);
          if (__Pyx_EndUnpack(__pyx_t_12, 3) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 311; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
          __Pyx_DECREF(__pyx_v_masterDims);
          __pyx_v_masterDims = __pyx_t_7;
          __pyx_t_7 = 0;
          __Pyx_DECREF(__pyx_v_masterShape);
          __pyx_v_masterShape = __pyx_t_6;
          __pyx_t_6 = 0;
          __Pyx_DECREF(__pyx_v_masterType);
          __pyx_v_masterType = __pyx_t_11;
          __pyx_t_11 = 0;
        }

        /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":312
 * 
 *                     masterDims, masterShape, masterType = masterRecVar[v][:3]
 *                     extDims, extShape, extType = varInfo[v][:3]             # <<<<<<<<<<<<<<
 *                     extDims = varInfo[v].dimensions
 *                     extShape = varInfo[v].shape
 */
        __pyx_t_4 = PyObject_GetItem(__pyx_v_varInfo, __pyx_v_v); if (!__pyx_t_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 312; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_4);
        __pyx_t_11 = PySequence_GetSlice(__pyx_t_4, 0, 3); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 312; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_11);
        __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
        if (PyTuple_CheckExact(__pyx_t_11) && likely(PyTuple_GET_SIZE(__pyx_t_11) == 3)) {
          PyObject* tuple = __pyx_t_11;
          __pyx_t_4 = PyTuple_GET_ITEM(tuple, 0); __Pyx_INCREF(__pyx_t_4);
          __pyx_t_6 = PyTuple_GET_ITEM(tuple, 1); __Pyx_INCREF(__pyx_t_6);
          __pyx_t_7 = PyTuple_GET_ITEM(tuple, 2); __Pyx_INCREF(__pyx_t_7);
          __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
          __Pyx_DECREF(__pyx_v_extDims);
          __pyx_v_extDims = __pyx_t_4;
          __pyx_t_4 = 0;
          __Pyx_DECREF(__pyx_v_extShape);
          __pyx_v_extShape = __pyx_t_6;
          __pyx_t_6 = 0;
          __Pyx_DECREF(__pyx_v_extType);
          __pyx_v_extType = __pyx_t_7;
          __pyx_t_7 = 0;
        } else {
          __pyx_t_12 = PyObject_GetIter(__pyx_t_11); if (unlikely(!__pyx_t_12)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 312; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_12);
          __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
          __pyx_t_4 = __Pyx_UnpackItem(__pyx_t_12, 0); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 312; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_4);
          __pyx_t_6 = __Pyx_UnpackItem(__pyx_t_12, 1); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 312; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_6);
          __pyx_t_7 = __Pyx_UnpackItem(__pyx_t_12, 2); if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 312; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_7);
          if (__Pyx_EndUnpack(__pyx_t_12, 3) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 312; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
          __Pyx_DECREF(__pyx_v_extDims);
          __pyx_v_extDims = __pyx_t_4;
          __pyx_t_4 = 0;
          __Pyx_DECREF(__pyx_v_extShape);
          __pyx_v_extShape = __pyx_t_6;
          __pyx_t_6 = 0;
          __Pyx_DECREF(__pyx_v_extType);
          __pyx_v_extType = __pyx_t_7;
          __pyx_t_7 = 0;
        }

        /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":313
 *                     masterDims, masterShape, masterType = masterRecVar[v][:3]
 *                     extDims, extShape, extType = varInfo[v][:3]
 *                     extDims = varInfo[v].dimensions             # <<<<<<<<<<<<<<
 *                     extShape = varInfo[v].shape
 *                     extType = varInfo[v].dtype
 */
        __pyx_t_11 = PyObject_GetItem(__pyx_v_varInfo, __pyx_v_v); if (!__pyx_t_11) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 313; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_11);
        __pyx_t_7 = PyObject_GetAttr(__pyx_t_11, __pyx_n_s__dimensions); if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 313; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_7);
        __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
        __Pyx_DECREF(__pyx_v_extDims);
        __pyx_v_extDims = __pyx_t_7;
        __pyx_t_7 = 0;

        /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":314
 *                     extDims, extShape, extType = varInfo[v][:3]
 *                     extDims = varInfo[v].dimensions
 *                     extShape = varInfo[v].shape             # <<<<<<<<<<<<<<
 *                     extType = varInfo[v].dtype
 *                     # Check that dimension names are identical.
 */
        __pyx_t_7 = PyObject_GetItem(__pyx_v_varInfo, __pyx_v_v); if (!__pyx_t_7) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 314; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_7);
        __pyx_t_11 = PyObject_GetAttr(__pyx_t_7, __pyx_n_s__shape); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 314; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_11);
        __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
        __Pyx_DECREF(__pyx_v_extShape);
        __pyx_v_extShape = __pyx_t_11;
        __pyx_t_11 = 0;

        /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":315
 *                     extDims = varInfo[v].dimensions
 *                     extShape = varInfo[v].shape
 *                     extType = varInfo[v].dtype             # <<<<<<<<<<<<<<
 *                     # Check that dimension names are identical.
 *                     if masterDims != extDims:
 */
        __pyx_t_11 = PyObject_GetItem(__pyx_v_varInfo, __pyx_v_v); if (!__pyx_t_11) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 315; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_11);
        __pyx_t_7 = PyObject_GetAttr(__pyx_t_11, __pyx_n_s__dtype); if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 315; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_7);
        __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
        __Pyx_DECREF(__pyx_v_extType);
        __pyx_v_extType = __pyx_t_7;
        __pyx_t_7 = 0;

        /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":317
 *                     extType = varInfo[v].dtype
 *                     # Check that dimension names are identical.
 *                     if masterDims != extDims:             # <<<<<<<<<<<<<<
 *                         raise IOError("variable %s : dimensions mismatch between "
 *                                        "master %s (%s) and extension %s (%s)" %
 */
        __pyx_t_7 = PyObject_RichCompare(__pyx_v_masterDims, __pyx_v_extDims, Py_NE); if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 317; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_7);
        __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_t_7); if (unlikely(__pyx_t_1 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 317; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
        if (__pyx_t_1) {

          /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":320
 *                         raise IOError("variable %s : dimensions mismatch between "
 *                                        "master %s (%s) and extension %s (%s)" %
 *                                        (v, master, masterDims, f, extDims))             # <<<<<<<<<<<<<<
 * 
 *                     # Check that the ranks are identical, and the dimension lengths are
 */
          __pyx_t_7 = PyTuple_New(5); if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 320; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_7);
          __Pyx_INCREF(__pyx_v_v);
          PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_v_v);
          __Pyx_GIVEREF(__pyx_v_v);
          __Pyx_INCREF(__pyx_v_master);
          PyTuple_SET_ITEM(__pyx_t_7, 1, __pyx_v_master);
          __Pyx_GIVEREF(__pyx_v_master);
          __Pyx_INCREF(__pyx_v_masterDims);
          PyTuple_SET_ITEM(__pyx_t_7, 2, __pyx_v_masterDims);
          __Pyx_GIVEREF(__pyx_v_masterDims);
          __Pyx_INCREF(__pyx_v_f);
          PyTuple_SET_ITEM(__pyx_t_7, 3, __pyx_v_f);
          __Pyx_GIVEREF(__pyx_v_f);
          __Pyx_INCREF(__pyx_v_extDims);
          PyTuple_SET_ITEM(__pyx_t_7, 4, __pyx_v_extDims);
          __Pyx_GIVEREF(__pyx_v_extDims);
          __pyx_t_11 = PyNumber_Remainder(((PyObject *)__pyx_kp_s_32), __pyx_t_7); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 319; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(((PyObject *)__pyx_t_11));
          __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
          __pyx_t_7 = PyTuple_New(1); if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 318; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_7);
          PyTuple_SET_ITEM(__pyx_t_7, 0, ((PyObject *)__pyx_t_11));
          __Pyx_GIVEREF(((PyObject *)__pyx_t_11));
          __pyx_t_11 = 0;
          __pyx_t_11 = PyObject_Call(__pyx_builtin_IOError, __pyx_t_7, NULL); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 318; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_11);
          __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
          __Pyx_Raise(__pyx_t_11, 0, 0);
          __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
          {__pyx_filename = __pyx_f[1]; __pyx_lineno = 318; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          goto __pyx_L28;
        }
        __pyx_L28:;

        /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":325
 *                     # identical (except for that of the unlimited dimension, which of
 *                     # course may vary.
 *                     if len(masterShape) != len(extShape):             # <<<<<<<<<<<<<<
 *                         raise IOError("variable %s : rank mismatch between "
 *                                        "master %s (%s) and extension %s (%s)" %
 */
        __pyx_t_13 = PyObject_Length(__pyx_v_masterShape); if (unlikely(__pyx_t_13 == -1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 325; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_t_14 = PyObject_Length(__pyx_v_extShape); if (unlikely(__pyx_t_14 == -1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 325; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __pyx_t_1 = (__pyx_t_13 != __pyx_t_14);
        if (__pyx_t_1) {

          /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":328
 *                         raise IOError("variable %s : rank mismatch between "
 *                                        "master %s (%s) and extension %s (%s)" %
 *                                        (v, master, len(masterShape), f, len(extShape)))             # <<<<<<<<<<<<<<
 *                     if masterShape[1:] != extShape[1:]:
 *                         raise IOError("variable %s : shape mismatch between "
 */
          __pyx_t_14 = PyObject_Length(__pyx_v_masterShape); if (unlikely(__pyx_t_14 == -1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 328; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __pyx_t_11 = PyInt_FromSsize_t(__pyx_t_14); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 328; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_11);
          __pyx_t_14 = PyObject_Length(__pyx_v_extShape); if (unlikely(__pyx_t_14 == -1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 328; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __pyx_t_7 = PyInt_FromSsize_t(__pyx_t_14); if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 328; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_7);
          __pyx_t_6 = PyTuple_New(5); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 328; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_6);
          __Pyx_INCREF(__pyx_v_v);
          PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_v_v);
          __Pyx_GIVEREF(__pyx_v_v);
          __Pyx_INCREF(__pyx_v_master);
          PyTuple_SET_ITEM(__pyx_t_6, 1, __pyx_v_master);
          __Pyx_GIVEREF(__pyx_v_master);
          PyTuple_SET_ITEM(__pyx_t_6, 2, __pyx_t_11);
          __Pyx_GIVEREF(__pyx_t_11);
          __Pyx_INCREF(__pyx_v_f);
          PyTuple_SET_ITEM(__pyx_t_6, 3, __pyx_v_f);
          __Pyx_GIVEREF(__pyx_v_f);
          PyTuple_SET_ITEM(__pyx_t_6, 4, __pyx_t_7);
          __Pyx_GIVEREF(__pyx_t_7);
          __pyx_t_11 = 0;
          __pyx_t_7 = 0;
          __pyx_t_7 = PyNumber_Remainder(((PyObject *)__pyx_kp_s_33), __pyx_t_6); if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 327; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(((PyObject *)__pyx_t_7));
          __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
          __pyx_t_6 = PyTuple_New(1); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 326; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_6);
          PyTuple_SET_ITEM(__pyx_t_6, 0, ((PyObject *)__pyx_t_7));
          __Pyx_GIVEREF(((PyObject *)__pyx_t_7));
          __pyx_t_7 = 0;
          __pyx_t_7 = PyObject_Call(__pyx_builtin_IOError, __pyx_t_6, NULL); if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 326; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_7);
          __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
          __Pyx_Raise(__pyx_t_7, 0, 0);
          __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
          {__pyx_filename = __pyx_f[1]; __pyx_lineno = 326; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          goto __pyx_L29;
        }
        __pyx_L29:;

        /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":329
 *                                        "master %s (%s) and extension %s (%s)" %
 *                                        (v, master, len(masterShape), f, len(extShape)))
 *                     if masterShape[1:] != extShape[1:]:             # <<<<<<<<<<<<<<
 *                         raise IOError("variable %s : shape mismatch between "
 *                                        "master %s (%s) and extension %s (%s)" %
 */
        __pyx_t_7 = PySequence_GetSlice(__pyx_v_masterShape, 1, PY_SSIZE_T_MAX); if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 329; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_7);
        __pyx_t_6 = PySequence_GetSlice(__pyx_v_extShape, 1, PY_SSIZE_T_MAX); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 329; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_6);
        __pyx_t_11 = PyObject_RichCompare(__pyx_t_7, __pyx_t_6, Py_NE); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 329; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_11);
        __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
        __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_t_11); if (unlikely(__pyx_t_1 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 329; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
        if (__pyx_t_1) {

          /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":332
 *                         raise IOError("variable %s : shape mismatch between "
 *                                        "master %s (%s) and extension %s (%s)" %
 *                                        (v, master, masterShape, f, extShape))             # <<<<<<<<<<<<<<
 * 
 *                     # Check that the data types are identical.
 */
          __pyx_t_11 = PyTuple_New(5); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 332; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_11);
          __Pyx_INCREF(__pyx_v_v);
          PyTuple_SET_ITEM(__pyx_t_11, 0, __pyx_v_v);
          __Pyx_GIVEREF(__pyx_v_v);
          __Pyx_INCREF(__pyx_v_master);
          PyTuple_SET_ITEM(__pyx_t_11, 1, __pyx_v_master);
          __Pyx_GIVEREF(__pyx_v_master);
          __Pyx_INCREF(__pyx_v_masterShape);
          PyTuple_SET_ITEM(__pyx_t_11, 2, __pyx_v_masterShape);
          __Pyx_GIVEREF(__pyx_v_masterShape);
          __Pyx_INCREF(__pyx_v_f);
          PyTuple_SET_ITEM(__pyx_t_11, 3, __pyx_v_f);
          __Pyx_GIVEREF(__pyx_v_f);
          __Pyx_INCREF(__pyx_v_extShape);
          PyTuple_SET_ITEM(__pyx_t_11, 4, __pyx_v_extShape);
          __Pyx_GIVEREF(__pyx_v_extShape);
          __pyx_t_6 = PyNumber_Remainder(((PyObject *)__pyx_kp_s_34), __pyx_t_11); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 331; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(((PyObject *)__pyx_t_6));
          __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
          __pyx_t_11 = PyTuple_New(1); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 330; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_11);
          PyTuple_SET_ITEM(__pyx_t_11, 0, ((PyObject *)__pyx_t_6));
          __Pyx_GIVEREF(((PyObject *)__pyx_t_6));
          __pyx_t_6 = 0;
          __pyx_t_6 = PyObject_Call(__pyx_builtin_IOError, __pyx_t_11, NULL); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 330; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_6);
          __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
          __Pyx_Raise(__pyx_t_6, 0, 0);
          __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
          {__pyx_filename = __pyx_f[1]; __pyx_lineno = 330; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          goto __pyx_L30;
        }
        __pyx_L30:;

        /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":335
 * 
 *                     # Check that the data types are identical.
 *                     if masterType != extType:             # <<<<<<<<<<<<<<
 *                         raise IOError("variable %s : data type mismatch between "
 *                                        "master %s (%s) and extension %s (%s)" %
 */
        __pyx_t_6 = PyObject_RichCompare(__pyx_v_masterType, __pyx_v_extType, Py_NE); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 335; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_6);
        __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_t_6); if (unlikely(__pyx_t_1 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 335; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
        if (__pyx_t_1) {

          /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":338
 *                         raise IOError("variable %s : data type mismatch between "
 *                                        "master %s (%s) and extension %s (%s)" %
 *                                        (v, master, masterType, f, extType))             # <<<<<<<<<<<<<<
 * 
 *                     # Everythig ok.
 */
          __pyx_t_6 = PyTuple_New(5); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 338; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_6);
          __Pyx_INCREF(__pyx_v_v);
          PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_v_v);
          __Pyx_GIVEREF(__pyx_v_v);
          __Pyx_INCREF(__pyx_v_master);
          PyTuple_SET_ITEM(__pyx_t_6, 1, __pyx_v_master);
          __Pyx_GIVEREF(__pyx_v_master);
          __Pyx_INCREF(__pyx_v_masterType);
          PyTuple_SET_ITEM(__pyx_t_6, 2, __pyx_v_masterType);
          __Pyx_GIVEREF(__pyx_v_masterType);
          __Pyx_INCREF(__pyx_v_f);
          PyTuple_SET_ITEM(__pyx_t_6, 3, __pyx_v_f);
          __Pyx_GIVEREF(__pyx_v_f);
          __Pyx_INCREF(__pyx_v_extType);
          PyTuple_SET_ITEM(__pyx_t_6, 4, __pyx_v_extType);
          __Pyx_GIVEREF(__pyx_v_extType);
          __pyx_t_11 = PyNumber_Remainder(((PyObject *)__pyx_kp_s_35), __pyx_t_6); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 337; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(((PyObject *)__pyx_t_11));
          __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
          __pyx_t_6 = PyTuple_New(1); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 336; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_6);
          PyTuple_SET_ITEM(__pyx_t_6, 0, ((PyObject *)__pyx_t_11));
          __Pyx_GIVEREF(((PyObject *)__pyx_t_11));
          __pyx_t_11 = 0;
          __pyx_t_11 = PyObject_Call(__pyx_builtin_IOError, __pyx_t_6, NULL); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 336; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_11);
          __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
          __Pyx_Raise(__pyx_t_11, 0, 0);
          __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
          {__pyx_filename = __pyx_f[1]; __pyx_lineno = 336; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          goto __pyx_L31;
        }
        __pyx_L31:;

        /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":341
 * 
 *                     # Everythig ok.
 *                     cdfRecVar[v].append(vInst)             # <<<<<<<<<<<<<<
 *                 else:
 *                     # No making sure of anything -- assume this is ok..
 */
        __pyx_t_11 = __Pyx_PyDict_GetItem(((PyObject *)__pyx_v_cdfRecVar), __pyx_v_v); if (!__pyx_t_11) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 341; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_11);
        __pyx_t_6 = __Pyx_PyObject_Append(__pyx_t_11, __pyx_v_vInst); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 341; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_6);
        __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
        goto __pyx_L25;
      }
      /*else*/ {

        /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":344
 *                 else:
 *                     # No making sure of anything -- assume this is ok..
 *                     vInst = part.variables[v]             # <<<<<<<<<<<<<<
 *                     cdfRecVar[v].append(vInst)
 * 
 */
        __pyx_t_6 = PyObject_GetItem(__pyx_v_part->variables, __pyx_v_v); if (!__pyx_t_6) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 344; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_6);
        __Pyx_DECREF(__pyx_v_vInst);
        __pyx_v_vInst = __pyx_t_6;
        __pyx_t_6 = 0;

        /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":345
 *                     # No making sure of anything -- assume this is ok..
 *                     vInst = part.variables[v]
 *                     cdfRecVar[v].append(vInst)             # <<<<<<<<<<<<<<
 * 
 *             cdf.append(part)
 */
        __pyx_t_6 = __Pyx_PyDict_GetItem(((PyObject *)__pyx_v_cdfRecVar), __pyx_v_v); if (!__pyx_t_6) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 345; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_6);
        __pyx_t_11 = __Pyx_PyObject_Append(__pyx_t_6, __pyx_v_vInst); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 345; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_11);
        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
        __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
      }
      __pyx_L25:;
    }
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":347
 *                     cdfRecVar[v].append(vInst)
 * 
 *             cdf.append(part)             # <<<<<<<<<<<<<<
 *             cdfVLen.append(len(part.dimensions[unlimDimName]))
 * 
 */
    if (unlikely(__pyx_v_cdf == Py_None)) {
      PyErr_SetString(PyExc_AttributeError, "'NoneType' object has no attribute 'append'"); {__pyx_filename = __pyx_f[1]; __pyx_lineno = 347; __pyx_clineno = __LINE__; goto __pyx_L1_error;} 
    }
    __pyx_t_15 = PyList_Append(((PyObject *)__pyx_v_cdf), ((PyObject *)__pyx_v_part)); if (unlikely(__pyx_t_15 == -1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 347; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":348
 * 
 *             cdf.append(part)
 *             cdfVLen.append(len(part.dimensions[unlimDimName]))             # <<<<<<<<<<<<<<
 * 
 *         # Attach attributes to the MFDataset instance.
 */
    if (unlikely(__pyx_v_cdfVLen == Py_None)) {
      PyErr_SetString(PyExc_AttributeError, "'NoneType' object has no attribute 'append'"); {__pyx_filename = __pyx_f[1]; __pyx_lineno = 348; __pyx_clineno = __LINE__; goto __pyx_L1_error;} 
    }
    __pyx_t_2 = PyObject_GetItem(__pyx_v_part->dimensions, __pyx_v_unlimDimName); if (!__pyx_t_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 348; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_8 = PyObject_Length(__pyx_t_2); if (unlikely(__pyx_t_8 == -1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 348; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = PyInt_FromSsize_t(__pyx_t_8); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 348; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_15 = PyList_Append(((PyObject *)__pyx_v_cdfVLen), __pyx_t_2); if (unlikely(__pyx_t_15 == -1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 348; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  }
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":352
 *         # Attach attributes to the MFDataset instance.
 *         # A local __setattr__() method is required for them.
 *         self._files = files            # list of cdf file names in the set             # <<<<<<<<<<<<<<
 *         self._cdfVLen = cdfVLen              # list of unlimited lengths
 *         self._cdfTLen = sum(cdfVLen) # total length
 */
  if (PyObject_SetAttr(__pyx_v_self, __pyx_n_s___files, __pyx_v_files) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 352; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":353
 *         # A local __setattr__() method is required for them.
 *         self._files = files            # list of cdf file names in the set
 *         self._cdfVLen = cdfVLen              # list of unlimited lengths             # <<<<<<<<<<<<<<
 *         self._cdfTLen = sum(cdfVLen) # total length
 *         self._cdfRecVar = cdfRecVar          # dictionary of Variable instances for all
 */
  if (PyObject_SetAttr(__pyx_v_self, __pyx_n_s___cdfVLen, ((PyObject *)__pyx_v_cdfVLen)) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 353; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":354
 *         self._files = files            # list of cdf file names in the set
 *         self._cdfVLen = cdfVLen              # list of unlimited lengths
 *         self._cdfTLen = sum(cdfVLen) # total length             # <<<<<<<<<<<<<<
 *         self._cdfRecVar = cdfRecVar          # dictionary of Variable instances for all
 *                                              # the record variables
 */
  __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 354; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_INCREF(((PyObject *)__pyx_v_cdfVLen));
  PyTuple_SET_ITEM(__pyx_t_3, 0, ((PyObject *)__pyx_v_cdfVLen));
  __Pyx_GIVEREF(((PyObject *)__pyx_v_cdfVLen));
  __pyx_t_2 = PyObject_Call(__pyx_builtin_sum, __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 354; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  if (PyObject_SetAttr(__pyx_v_self, __pyx_n_s___cdfTLen, __pyx_t_2) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 354; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":355
 *         self._cdfVLen = cdfVLen              # list of unlimited lengths
 *         self._cdfTLen = sum(cdfVLen) # total length
 *         self._cdfRecVar = cdfRecVar          # dictionary of Variable instances for all             # <<<<<<<<<<<<<<
 *                                              # the record variables
 *         self._dims = cdfm.dimensions
 */
  if (PyObject_SetAttr(__pyx_v_self, __pyx_n_s___cdfRecVar, ((PyObject *)__pyx_v_cdfRecVar)) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 355; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":357
 *         self._cdfRecVar = cdfRecVar          # dictionary of Variable instances for all
 *                                              # the record variables
 *         self._dims = cdfm.dimensions             # <<<<<<<<<<<<<<
 *         for dimname, dim in self._dims.items():
 *             if dim.isunlimited():
 */
  if (PyObject_SetAttr(__pyx_v_self, __pyx_n_s___dims, __pyx_v_cdfm->dimensions) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 357; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":358
 *                                              # the record variables
 *         self._dims = cdfm.dimensions
 *         for dimname, dim in self._dims.items():             # <<<<<<<<<<<<<<
 *             if dim.isunlimited():
 *                 self._dims[dimname] = _Dimension(dimname, dim, self._cdfVLen, self._cdfTLen)
 */
  __pyx_t_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___dims); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 358; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = PyObject_GetAttr(__pyx_t_2, __pyx_n_s__items); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 358; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = PyObject_Call(__pyx_t_3, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 358; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  if (PyList_CheckExact(__pyx_t_2) || PyTuple_CheckExact(__pyx_t_2)) {
    __pyx_t_5 = 0; __pyx_t_3 = __pyx_t_2; __Pyx_INCREF(__pyx_t_3);
  } else {
    __pyx_t_5 = -1; __pyx_t_3 = PyObject_GetIter(__pyx_t_2); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 358; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_t_3))) {
      if (__pyx_t_5 >= PyList_GET_SIZE(__pyx_t_3)) break;
      __pyx_t_2 = PyList_GET_ITEM(__pyx_t_3, __pyx_t_5); __Pyx_INCREF(__pyx_t_2); __pyx_t_5++;
    } else if (likely(PyTuple_CheckExact(__pyx_t_3))) {
      if (__pyx_t_5 >= PyTuple_GET_SIZE(__pyx_t_3)) break;
      __pyx_t_2 = PyTuple_GET_ITEM(__pyx_t_3, __pyx_t_5); __Pyx_INCREF(__pyx_t_2); __pyx_t_5++;
    } else {
      __pyx_t_2 = PyIter_Next(__pyx_t_3);
      if (!__pyx_t_2) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 358; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
      __Pyx_GOTREF(__pyx_t_2);
    }
    if (PyTuple_CheckExact(__pyx_t_2) && likely(PyTuple_GET_SIZE(__pyx_t_2) == 2)) {
      PyObject* tuple = __pyx_t_2;
      __pyx_t_11 = PyTuple_GET_ITEM(tuple, 0); __Pyx_INCREF(__pyx_t_11);
      __pyx_t_6 = PyTuple_GET_ITEM(tuple, 1); __Pyx_INCREF(__pyx_t_6);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __Pyx_DECREF(__pyx_v_dimname);
      __pyx_v_dimname = __pyx_t_11;
      __pyx_t_11 = 0;
      __Pyx_DECREF(__pyx_v_dim);
      __pyx_v_dim = __pyx_t_6;
      __pyx_t_6 = 0;
    } else {
      __pyx_t_7 = PyObject_GetIter(__pyx_t_2); if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 358; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_7);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_11 = __Pyx_UnpackItem(__pyx_t_7, 0); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 358; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_11);
      __pyx_t_6 = __Pyx_UnpackItem(__pyx_t_7, 1); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 358; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_6);
      if (__Pyx_EndUnpack(__pyx_t_7, 2) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 358; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
      __Pyx_DECREF(__pyx_v_dimname);
      __pyx_v_dimname = __pyx_t_11;
      __pyx_t_11 = 0;
      __Pyx_DECREF(__pyx_v_dim);
      __pyx_v_dim = __pyx_t_6;
      __pyx_t_6 = 0;
    }

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":359
 *         self._dims = cdfm.dimensions
 *         for dimname, dim in self._dims.items():
 *             if dim.isunlimited():             # <<<<<<<<<<<<<<
 *                 self._dims[dimname] = _Dimension(dimname, dim, self._cdfVLen, self._cdfTLen)
 *         self._vars = cdfm.variables
 */
    __pyx_t_2 = PyObject_GetAttr(__pyx_v_dim, __pyx_n_s__isunlimited); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 359; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_6 = PyObject_Call(__pyx_t_2, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 359; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_6);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_t_6); if (unlikely(__pyx_t_1 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 359; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    if (__pyx_t_1) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":360
 *         for dimname, dim in self._dims.items():
 *             if dim.isunlimited():
 *                 self._dims[dimname] = _Dimension(dimname, dim, self._cdfVLen, self._cdfTLen)             # <<<<<<<<<<<<<<
 *         self._vars = cdfm.variables
 *         for varname,var in self._vars.items():
 */
      __pyx_t_6 = __Pyx_GetName(__pyx_m, __pyx_n_s___Dimension); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 360; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_6);
      __pyx_t_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___cdfVLen); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 360; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_2);
      __pyx_t_11 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___cdfTLen); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 360; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_11);
      __pyx_t_7 = PyTuple_New(4); if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 360; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_7);
      __Pyx_INCREF(__pyx_v_dimname);
      PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_v_dimname);
      __Pyx_GIVEREF(__pyx_v_dimname);
      __Pyx_INCREF(__pyx_v_dim);
      PyTuple_SET_ITEM(__pyx_t_7, 1, __pyx_v_dim);
      __Pyx_GIVEREF(__pyx_v_dim);
      PyTuple_SET_ITEM(__pyx_t_7, 2, __pyx_t_2);
      __Pyx_GIVEREF(__pyx_t_2);
      PyTuple_SET_ITEM(__pyx_t_7, 3, __pyx_t_11);
      __Pyx_GIVEREF(__pyx_t_11);
      __pyx_t_2 = 0;
      __pyx_t_11 = 0;
      __pyx_t_11 = PyObject_Call(__pyx_t_6, __pyx_t_7, NULL); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 360; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_11);
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
      __pyx_t_7 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___dims); if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 360; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_7);
      if (PyObject_SetItem(__pyx_t_7, __pyx_v_dimname, __pyx_t_11) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 360; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
      __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
      goto __pyx_L34;
    }
    __pyx_L34:;
  }
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":361
 *             if dim.isunlimited():
 *                 self._dims[dimname] = _Dimension(dimname, dim, self._cdfVLen, self._cdfTLen)
 *         self._vars = cdfm.variables             # <<<<<<<<<<<<<<
 *         for varname,var in self._vars.items():
 *             if varname in self._cdfRecVar.keys():
 */
  if (PyObject_SetAttr(__pyx_v_self, __pyx_n_s___vars, __pyx_v_cdfm->variables) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 361; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":362
 *                 self._dims[dimname] = _Dimension(dimname, dim, self._cdfVLen, self._cdfTLen)
 *         self._vars = cdfm.variables
 *         for varname,var in self._vars.items():             # <<<<<<<<<<<<<<
 *             if varname in self._cdfRecVar.keys():
 *                 self._vars[varname] = _Variable(self, varname, var, unlimDimName)
 */
  __pyx_t_3 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___vars); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 362; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_11 = PyObject_GetAttr(__pyx_t_3, __pyx_n_s__items); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 362; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_11);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = PyObject_Call(__pyx_t_11, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 362; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
  if (PyList_CheckExact(__pyx_t_3) || PyTuple_CheckExact(__pyx_t_3)) {
    __pyx_t_5 = 0; __pyx_t_11 = __pyx_t_3; __Pyx_INCREF(__pyx_t_11);
  } else {
    __pyx_t_5 = -1; __pyx_t_11 = PyObject_GetIter(__pyx_t_3); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 362; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_11);
  }
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_t_11))) {
      if (__pyx_t_5 >= PyList_GET_SIZE(__pyx_t_11)) break;
      __pyx_t_3 = PyList_GET_ITEM(__pyx_t_11, __pyx_t_5); __Pyx_INCREF(__pyx_t_3); __pyx_t_5++;
    } else if (likely(PyTuple_CheckExact(__pyx_t_11))) {
      if (__pyx_t_5 >= PyTuple_GET_SIZE(__pyx_t_11)) break;
      __pyx_t_3 = PyTuple_GET_ITEM(__pyx_t_11, __pyx_t_5); __Pyx_INCREF(__pyx_t_3); __pyx_t_5++;
    } else {
      __pyx_t_3 = PyIter_Next(__pyx_t_11);
      if (!__pyx_t_3) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 362; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
      __Pyx_GOTREF(__pyx_t_3);
    }
    if (PyTuple_CheckExact(__pyx_t_3) && likely(PyTuple_GET_SIZE(__pyx_t_3) == 2)) {
      PyObject* tuple = __pyx_t_3;
      __pyx_t_7 = PyTuple_GET_ITEM(tuple, 0); __Pyx_INCREF(__pyx_t_7);
      __pyx_t_6 = PyTuple_GET_ITEM(tuple, 1); __Pyx_INCREF(__pyx_t_6);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_DECREF(__pyx_v_varname);
      __pyx_v_varname = __pyx_t_7;
      __pyx_t_7 = 0;
      __Pyx_DECREF(__pyx_v_var);
      __pyx_v_var = __pyx_t_6;
      __pyx_t_6 = 0;
    } else {
      __pyx_t_2 = PyObject_GetIter(__pyx_t_3); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 362; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_2);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_7 = __Pyx_UnpackItem(__pyx_t_2, 0); if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 362; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_7);
      __pyx_t_6 = __Pyx_UnpackItem(__pyx_t_2, 1); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 362; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_6);
      if (__Pyx_EndUnpack(__pyx_t_2, 2) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 362; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __Pyx_DECREF(__pyx_v_varname);
      __pyx_v_varname = __pyx_t_7;
      __pyx_t_7 = 0;
      __Pyx_DECREF(__pyx_v_var);
      __pyx_v_var = __pyx_t_6;
      __pyx_t_6 = 0;
    }

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":363
 *         self._vars = cdfm.variables
 *         for varname,var in self._vars.items():
 *             if varname in self._cdfRecVar.keys():             # <<<<<<<<<<<<<<
 *                 self._vars[varname] = _Variable(self, varname, var, unlimDimName)
 *         self._file_format = []
 */
    __pyx_t_3 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___cdfRecVar); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 363; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_6 = PyObject_GetAttr(__pyx_t_3, __pyx_n_s__keys); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 363; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_6);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = PyObject_Call(__pyx_t_6, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 363; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_1 = ((PySequence_Contains(__pyx_t_3, __pyx_v_varname))); if (unlikely(__pyx_t_1 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 363; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    if (__pyx_t_1) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":364
 *         for varname,var in self._vars.items():
 *             if varname in self._cdfRecVar.keys():
 *                 self._vars[varname] = _Variable(self, varname, var, unlimDimName)             # <<<<<<<<<<<<<<
 *         self._file_format = []
 *         for dset in self._cdf:
 */
      __pyx_t_3 = __Pyx_GetName(__pyx_m, __pyx_n_s___Variable); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 364; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __pyx_t_6 = PyTuple_New(4); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 364; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_6);
      __Pyx_INCREF(__pyx_v_self);
      PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_v_self);
      __Pyx_GIVEREF(__pyx_v_self);
      __Pyx_INCREF(__pyx_v_varname);
      PyTuple_SET_ITEM(__pyx_t_6, 1, __pyx_v_varname);
      __Pyx_GIVEREF(__pyx_v_varname);
      __Pyx_INCREF(__pyx_v_var);
      PyTuple_SET_ITEM(__pyx_t_6, 2, __pyx_v_var);
      __Pyx_GIVEREF(__pyx_v_var);
      __Pyx_INCREF(__pyx_v_unlimDimName);
      PyTuple_SET_ITEM(__pyx_t_6, 3, __pyx_v_unlimDimName);
      __Pyx_GIVEREF(__pyx_v_unlimDimName);
      __pyx_t_7 = PyObject_Call(__pyx_t_3, __pyx_t_6, NULL); if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 364; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_7);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
      __pyx_t_6 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___vars); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 364; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_6);
      if (PyObject_SetItem(__pyx_t_6, __pyx_v_varname, __pyx_t_7) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 364; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
      goto __pyx_L37;
    }
    __pyx_L37:;
  }
  __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":365
 *             if varname in self._cdfRecVar.keys():
 *                 self._vars[varname] = _Variable(self, varname, var, unlimDimName)
 *         self._file_format = []             # <<<<<<<<<<<<<<
 *         for dset in self._cdf:
 *             if dset.file_format == 'NETCDF4':
 */
  __pyx_t_11 = PyList_New(0); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 365; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_11));
  if (PyObject_SetAttr(__pyx_v_self, __pyx_n_s___file_format, ((PyObject *)__pyx_t_11)) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 365; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(((PyObject *)__pyx_t_11)); __pyx_t_11 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":366
 *                 self._vars[varname] = _Variable(self, varname, var, unlimDimName)
 *         self._file_format = []
 *         for dset in self._cdf:             # <<<<<<<<<<<<<<
 *             if dset.file_format == 'NETCDF4':
 *                 raise ValueError('MFNetCDF4 only works with NETCDF3_CLASSIC, NETCDF3_64BIT and NETCDF4_CLASSIC formatted files, not NETCDF4')
 */
  __pyx_t_11 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___cdf); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 366; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_11);
  if (PyList_CheckExact(__pyx_t_11) || PyTuple_CheckExact(__pyx_t_11)) {
    __pyx_t_5 = 0; __pyx_t_7 = __pyx_t_11; __Pyx_INCREF(__pyx_t_7);
  } else {
    __pyx_t_5 = -1; __pyx_t_7 = PyObject_GetIter(__pyx_t_11); if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 366; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_7);
  }
  __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_t_7))) {
      if (__pyx_t_5 >= PyList_GET_SIZE(__pyx_t_7)) break;
      __pyx_t_11 = PyList_GET_ITEM(__pyx_t_7, __pyx_t_5); __Pyx_INCREF(__pyx_t_11); __pyx_t_5++;
    } else if (likely(PyTuple_CheckExact(__pyx_t_7))) {
      if (__pyx_t_5 >= PyTuple_GET_SIZE(__pyx_t_7)) break;
      __pyx_t_11 = PyTuple_GET_ITEM(__pyx_t_7, __pyx_t_5); __Pyx_INCREF(__pyx_t_11); __pyx_t_5++;
    } else {
      __pyx_t_11 = PyIter_Next(__pyx_t_7);
      if (!__pyx_t_11) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 366; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
      __Pyx_GOTREF(__pyx_t_11);
    }
    __Pyx_DECREF(__pyx_v_dset);
    __pyx_v_dset = __pyx_t_11;
    __pyx_t_11 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":367
 *         self._file_format = []
 *         for dset in self._cdf:
 *             if dset.file_format == 'NETCDF4':             # <<<<<<<<<<<<<<
 *                 raise ValueError('MFNetCDF4 only works with NETCDF3_CLASSIC, NETCDF3_64BIT and NETCDF4_CLASSIC formatted files, not NETCDF4')
 *             self._file_format.append(dset.file_format)
 */
    __pyx_t_11 = PyObject_GetAttr(__pyx_v_dset, __pyx_n_s__file_format); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 367; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_11);
    __pyx_t_6 = PyObject_RichCompare(__pyx_t_11, ((PyObject *)__pyx_n_s__NETCDF4), Py_EQ); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 367; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_6);
    __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
    __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_t_6); if (unlikely(__pyx_t_1 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 367; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    if (__pyx_t_1) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":368
 *         for dset in self._cdf:
 *             if dset.file_format == 'NETCDF4':
 *                 raise ValueError('MFNetCDF4 only works with NETCDF3_CLASSIC, NETCDF3_64BIT and NETCDF4_CLASSIC formatted files, not NETCDF4')             # <<<<<<<<<<<<<<
 *             self._file_format.append(dset.file_format)
 * 
 */
      __pyx_t_6 = PyTuple_New(1); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 368; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_6);
      __Pyx_INCREF(((PyObject *)__pyx_kp_s_36));
      PyTuple_SET_ITEM(__pyx_t_6, 0, ((PyObject *)__pyx_kp_s_36));
      __Pyx_GIVEREF(((PyObject *)__pyx_kp_s_36));
      __pyx_t_11 = PyObject_Call(__pyx_builtin_ValueError, __pyx_t_6, NULL); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 368; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_11);
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
      __Pyx_Raise(__pyx_t_11, 0, 0);
      __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
      {__pyx_filename = __pyx_f[1]; __pyx_lineno = 368; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L40;
    }
    __pyx_L40:;

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":369
 *             if dset.file_format == 'NETCDF4':
 *                 raise ValueError('MFNetCDF4 only works with NETCDF3_CLASSIC, NETCDF3_64BIT and NETCDF4_CLASSIC formatted files, not NETCDF4')
 *             self._file_format.append(dset.file_format)             # <<<<<<<<<<<<<<
 * 
 *     def __setattr__(self, name, value):
 */
    __pyx_t_11 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___file_format); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 369; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_11);
    __pyx_t_6 = PyObject_GetAttr(__pyx_v_dset, __pyx_n_s__file_format); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 369; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_6);
    __pyx_t_3 = __Pyx_PyObject_Append(__pyx_t_11, __pyx_t_6); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 369; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  }
  __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_XDECREF(__pyx_t_7);
  __Pyx_XDECREF(__pyx_t_11);
  __Pyx_XDECREF(__pyx_t_12);
  __Pyx_AddTraceback("netCDF3.MFDataset.__init__");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_msg);
  __Pyx_DECREF(__pyx_v_master);
  __Pyx_DECREF((PyObject *)__pyx_v_cdfm);
  __Pyx_DECREF(__pyx_v_name);
  __Pyx_DECREF(__pyx_v_value);
  __Pyx_DECREF(__pyx_v_unlimDimId);
  __Pyx_DECREF(__pyx_v_dimname);
  __Pyx_DECREF(__pyx_v_dim);
  __Pyx_DECREF(__pyx_v_unlimDimName);
  __Pyx_DECREF(__pyx_v_masterRecVar);
  __Pyx_DECREF(__pyx_v_vName);
  __Pyx_DECREF(__pyx_v_v);
  __Pyx_DECREF(__pyx_v_dims);
  __Pyx_DECREF(__pyx_v_shape);
  __Pyx_DECREF(__pyx_v_type);
  __Pyx_DECREF(__pyx_v_cdf);
  __Pyx_DECREF(__pyx_v_cdfVLen);
  __Pyx_DECREF(__pyx_v_cdfRecVar);
  __Pyx_DECREF(__pyx_v_f);
  __Pyx_DECREF((PyObject *)__pyx_v_part);
  __Pyx_DECREF(__pyx_v_varInfo);
  __Pyx_DECREF(__pyx_v_vInst);
  __Pyx_DECREF(__pyx_v_masterDims);
  __Pyx_DECREF(__pyx_v_masterShape);
  __Pyx_DECREF(__pyx_v_masterType);
  __Pyx_DECREF(__pyx_v_extDims);
  __Pyx_DECREF(__pyx_v_extShape);
  __Pyx_DECREF(__pyx_v_extType);
  __Pyx_DECREF(__pyx_v_varname);
  __Pyx_DECREF(__pyx_v_var);
  __Pyx_DECREF(__pyx_v_dset);
  __Pyx_DECREF(__pyx_v_files);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":371
 *             self._file_format.append(dset.file_format)
 * 
 *     def __setattr__(self, name, value):             # <<<<<<<<<<<<<<
 *         """override base class attribute creation"""
 *         self.__dict__[name] = value
 */

static PyObject *__pyx_pf_7netCDF3_9MFDataset___setattr__(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7netCDF3_9MFDataset___setattr__[] = "override base class attribute creation";
static PyMethodDef __pyx_mdef_7netCDF3_9MFDataset___setattr__ = {__Pyx_NAMESTR("__setattr__"), (PyCFunction)__pyx_pf_7netCDF3_9MFDataset___setattr__, METH_VARARGS|METH_KEYWORDS, __Pyx_DOCSTR(__pyx_doc_7netCDF3_9MFDataset___setattr__)};
static PyObject *__pyx_pf_7netCDF3_9MFDataset___setattr__(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_name = 0;
  PyObject *__pyx_v_value = 0;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__self,&__pyx_n_s__name,&__pyx_n_s__value,0};
  __Pyx_RefNannySetupContext("__setattr__");
  __pyx_self = __pyx_self;
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[3] = {0,0,0};
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__self);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__name);
      if (likely(values[1])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("__setattr__", 1, 3, 3, 1); {__pyx_filename = __pyx_f[1]; __pyx_lineno = 371; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
      case  2:
      values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__value);
      if (likely(values[2])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("__setattr__", 1, 3, 3, 2); {__pyx_filename = __pyx_f[1]; __pyx_lineno = 371; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "__setattr__") < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 371; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_self = values[0];
    __pyx_v_name = values[1];
    __pyx_v_value = values[2];
  } else if (PyTuple_GET_SIZE(__pyx_args) != 3) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_self = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_name = PyTuple_GET_ITEM(__pyx_args, 1);
    __pyx_v_value = PyTuple_GET_ITEM(__pyx_args, 2);
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("__setattr__", 1, 3, 3, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[1]; __pyx_lineno = 371; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF3.MFDataset.__setattr__");
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":373
 *     def __setattr__(self, name, value):
 *         """override base class attribute creation"""
 *         self.__dict__[name] = value             # <<<<<<<<<<<<<<
 * 
 *     def __getattribute__(self, name):
 */
  __pyx_t_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s____dict__); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 373; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  if (PyObject_SetItem(__pyx_t_1, __pyx_v_name, __pyx_v_value) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 373; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("netCDF3.MFDataset.__setattr__");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":375
 *         self.__dict__[name] = value
 * 
 *     def __getattribute__(self, name):             # <<<<<<<<<<<<<<
 *         if name in ['variables','dimensions','file_format']:
 *             if name == 'dimensions': return self._dims
 */

static PyObject *__pyx_pf_7netCDF3_9MFDataset___getattribute__(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_7netCDF3_9MFDataset___getattribute__ = {__Pyx_NAMESTR("__getattribute__"), (PyCFunction)__pyx_pf_7netCDF3_9MFDataset___getattribute__, METH_VARARGS|METH_KEYWORDS, __Pyx_DOCSTR(0)};
static PyObject *__pyx_pf_7netCDF3_9MFDataset___getattribute__(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_name = 0;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  int __pyx_t_3;
  int __pyx_t_4;
  int __pyx_t_5;
  PyObject *__pyx_t_6 = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__self,&__pyx_n_s__name,0};
  __Pyx_RefNannySetupContext("__getattribute__");
  __pyx_self = __pyx_self;
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[2] = {0,0};
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__self);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__name);
      if (likely(values[1])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("__getattribute__", 1, 2, 2, 1); {__pyx_filename = __pyx_f[1]; __pyx_lineno = 375; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "__getattribute__") < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 375; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_self = values[0];
    __pyx_v_name = values[1];
  } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_self = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_name = PyTuple_GET_ITEM(__pyx_args, 1);
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("__getattribute__", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[1]; __pyx_lineno = 375; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF3.MFDataset.__getattribute__");
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":376
 * 
 *     def __getattribute__(self, name):
 *         if name in ['variables','dimensions','file_format']:             # <<<<<<<<<<<<<<
 *             if name == 'dimensions': return self._dims
 *             if name == 'variables': return self._vars
 */
  __Pyx_INCREF(__pyx_v_name);
  __pyx_t_1 = __pyx_v_name;
  __pyx_t_2 = PyObject_RichCompare(__pyx_t_1, ((PyObject *)__pyx_n_s__variables), Py_EQ); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 376; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely((__pyx_t_3 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 376; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_4 = __pyx_t_3;
  if (!__pyx_t_4) {
    __pyx_t_2 = PyObject_RichCompare(__pyx_t_1, ((PyObject *)__pyx_n_s__dimensions), Py_EQ); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 376; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely((__pyx_t_3 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 376; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_5 = __pyx_t_3;
    __pyx_t_3 = __pyx_t_5;
  } else {
    __pyx_t_3 = __pyx_t_4;
  }
  if (!__pyx_t_3) {
    __pyx_t_2 = PyObject_RichCompare(__pyx_t_1, ((PyObject *)__pyx_n_s__file_format), Py_EQ); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 376; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely((__pyx_t_4 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 376; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_5 = __pyx_t_4;
    __pyx_t_4 = __pyx_t_5;
  } else {
    __pyx_t_4 = __pyx_t_3;
  }
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_3 = __pyx_t_4;
  if (__pyx_t_3) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":377
 *     def __getattribute__(self, name):
 *         if name in ['variables','dimensions','file_format']:
 *             if name == 'dimensions': return self._dims             # <<<<<<<<<<<<<<
 *             if name == 'variables': return self._vars
 *             if name == 'file_format': return self._file_format
 */
    __pyx_t_1 = PyObject_RichCompare(__pyx_v_name, ((PyObject *)__pyx_n_s__dimensions), Py_EQ); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 377; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_3 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 377; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    if (__pyx_t_3) {
      __Pyx_XDECREF(__pyx_r);
      __pyx_t_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___dims); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 377; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      __pyx_r = __pyx_t_1;
      __pyx_t_1 = 0;
      goto __pyx_L0;
      goto __pyx_L7;
    }
    __pyx_L7:;

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":378
 *         if name in ['variables','dimensions','file_format']:
 *             if name == 'dimensions': return self._dims
 *             if name == 'variables': return self._vars             # <<<<<<<<<<<<<<
 *             if name == 'file_format': return self._file_format
 *         else:
 */
    __pyx_t_1 = PyObject_RichCompare(__pyx_v_name, ((PyObject *)__pyx_n_s__variables), Py_EQ); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 378; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_3 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 378; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    if (__pyx_t_3) {
      __Pyx_XDECREF(__pyx_r);
      __pyx_t_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___vars); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 378; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      __pyx_r = __pyx_t_1;
      __pyx_t_1 = 0;
      goto __pyx_L0;
      goto __pyx_L8;
    }
    __pyx_L8:;

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":379
 *             if name == 'dimensions': return self._dims
 *             if name == 'variables': return self._vars
 *             if name == 'file_format': return self._file_format             # <<<<<<<<<<<<<<
 *         else:
 *             return Dataset.__getattribute__(self, name)
 */
    __pyx_t_1 = PyObject_RichCompare(__pyx_v_name, ((PyObject *)__pyx_n_s__file_format), Py_EQ); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 379; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_3 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 379; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    if (__pyx_t_3) {
      __Pyx_XDECREF(__pyx_r);
      __pyx_t_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___file_format); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 379; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      __pyx_r = __pyx_t_1;
      __pyx_t_1 = 0;
      goto __pyx_L0;
      goto __pyx_L9;
    }
    __pyx_L9:;
    goto __pyx_L6;
  }
  /*else*/ {

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":381
 *             if name == 'file_format': return self._file_format
 *         else:
 *             return Dataset.__getattribute__(self, name)             # <<<<<<<<<<<<<<
 * 
 *     def ncattrs(self):
 */
    __Pyx_XDECREF(__pyx_r);
    __pyx_t_1 = PyObject_GetAttr(((PyObject *)((PyObject*)__pyx_ptype_7netCDF3_Dataset)), __pyx_n_s____getattribute__); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 381; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 381; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_INCREF(__pyx_v_self);
    PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_self);
    __Pyx_GIVEREF(__pyx_v_self);
    __Pyx_INCREF(__pyx_v_name);
    PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_v_name);
    __Pyx_GIVEREF(__pyx_v_name);
    __pyx_t_6 = PyObject_Call(__pyx_t_1, __pyx_t_2, NULL); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 381; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_6);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_r = __pyx_t_6;
    __pyx_t_6 = 0;
    goto __pyx_L0;
  }
  __pyx_L6:;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_AddTraceback("netCDF3.MFDataset.__getattribute__");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":383
 *             return Dataset.__getattribute__(self, name)
 * 
 *     def ncattrs(self):             # <<<<<<<<<<<<<<
 *         return self._cdf[0].__dict__.keys()
 * 
 */

static PyObject *__pyx_pf_7netCDF3_9MFDataset_ncattrs(PyObject *__pyx_self, PyObject *__pyx_v_self); /*proto*/
static PyMethodDef __pyx_mdef_7netCDF3_9MFDataset_ncattrs = {__Pyx_NAMESTR("ncattrs"), (PyCFunction)__pyx_pf_7netCDF3_9MFDataset_ncattrs, METH_O, __Pyx_DOCSTR(0)};
static PyObject *__pyx_pf_7netCDF3_9MFDataset_ncattrs(PyObject *__pyx_self, PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  __Pyx_RefNannySetupContext("ncattrs");
  __pyx_self = __pyx_self;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":384
 * 
 *     def ncattrs(self):
 *         return self._cdf[0].__dict__.keys()             # <<<<<<<<<<<<<<
 * 
 *     def close(self):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___cdf); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 384; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = __Pyx_GetItemInt(__pyx_t_1, 0, sizeof(long), PyInt_FromLong); if (!__pyx_t_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 384; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = PyObject_GetAttr(__pyx_t_2, __pyx_n_s____dict__); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 384; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = PyObject_GetAttr(__pyx_t_1, __pyx_n_s__keys); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 384; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = PyObject_Call(__pyx_t_2, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 384; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_AddTraceback("netCDF3.MFDataset.ncattrs");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":386
 *         return self._cdf[0].__dict__.keys()
 * 
 *     def close(self):             # <<<<<<<<<<<<<<
 *         for dset in self._cdf:
 *             dset.close()
 */

static PyObject *__pyx_pf_7netCDF3_9MFDataset_close(PyObject *__pyx_self, PyObject *__pyx_v_self); /*proto*/
static PyMethodDef __pyx_mdef_7netCDF3_9MFDataset_close = {__Pyx_NAMESTR("close"), (PyCFunction)__pyx_pf_7netCDF3_9MFDataset_close, METH_O, __Pyx_DOCSTR(0)};
static PyObject *__pyx_pf_7netCDF3_9MFDataset_close(PyObject *__pyx_self, PyObject *__pyx_v_self) {
  PyObject *__pyx_v_dset;
  PyObject *__pyx_r = NULL;
  Py_ssize_t __pyx_t_1;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  __Pyx_RefNannySetupContext("close");
  __pyx_self = __pyx_self;
  __pyx_v_dset = Py_None; __Pyx_INCREF(Py_None);

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":387
 * 
 *     def close(self):
 *         for dset in self._cdf:             # <<<<<<<<<<<<<<
 *             dset.close()
 * 
 */
  __pyx_t_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___cdf); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 387; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  if (PyList_CheckExact(__pyx_t_2) || PyTuple_CheckExact(__pyx_t_2)) {
    __pyx_t_1 = 0; __pyx_t_3 = __pyx_t_2; __Pyx_INCREF(__pyx_t_3);
  } else {
    __pyx_t_1 = -1; __pyx_t_3 = PyObject_GetIter(__pyx_t_2); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 387; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_t_3))) {
      if (__pyx_t_1 >= PyList_GET_SIZE(__pyx_t_3)) break;
      __pyx_t_2 = PyList_GET_ITEM(__pyx_t_3, __pyx_t_1); __Pyx_INCREF(__pyx_t_2); __pyx_t_1++;
    } else if (likely(PyTuple_CheckExact(__pyx_t_3))) {
      if (__pyx_t_1 >= PyTuple_GET_SIZE(__pyx_t_3)) break;
      __pyx_t_2 = PyTuple_GET_ITEM(__pyx_t_3, __pyx_t_1); __Pyx_INCREF(__pyx_t_2); __pyx_t_1++;
    } else {
      __pyx_t_2 = PyIter_Next(__pyx_t_3);
      if (!__pyx_t_2) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 387; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
      __Pyx_GOTREF(__pyx_t_2);
    }
    __Pyx_DECREF(__pyx_v_dset);
    __pyx_v_dset = __pyx_t_2;
    __pyx_t_2 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":388
 *     def close(self):
 *         for dset in self._cdf:
 *             dset.close()             # <<<<<<<<<<<<<<
 * 
 * class _Dimension(object):
 */
    __pyx_t_2 = PyObject_GetAttr(__pyx_v_dset, __pyx_n_s__close); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 388; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_4 = PyObject_Call(__pyx_t_2, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 388; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  }
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("netCDF3.MFDataset.close");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_dset);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":391
 * 
 * class _Dimension(object):
 *     def __init__(self, dimname, dim, dimlens, dimtotlen):             # <<<<<<<<<<<<<<
 *         self.dimlens = dimlens
 *         self.dimtotlen = dimtotlen
 */

static PyObject *__pyx_pf_7netCDF3_10_Dimension___init__(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_7netCDF3_10_Dimension___init__ = {__Pyx_NAMESTR("__init__"), (PyCFunction)__pyx_pf_7netCDF3_10_Dimension___init__, METH_VARARGS|METH_KEYWORDS, __Pyx_DOCSTR(0)};
static PyObject *__pyx_pf_7netCDF3_10_Dimension___init__(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_dimname = 0;
  PyObject *__pyx_v_dim = 0;
  PyObject *__pyx_v_dimlens = 0;
  PyObject *__pyx_v_dimtotlen = 0;
  PyObject *__pyx_r = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__self,&__pyx_n_s__dimname,&__pyx_n_s__dim,&__pyx_n_s__dimlens,&__pyx_n_s__dimtotlen,0};
  __Pyx_RefNannySetupContext("__init__");
  __pyx_self = __pyx_self;
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[5] = {0,0,0,0,0};
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
      case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
      case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__self);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__dimname);
      if (likely(values[1])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("__init__", 1, 5, 5, 1); {__pyx_filename = __pyx_f[1]; __pyx_lineno = 391; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
      case  2:
      values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__dim);
      if (likely(values[2])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("__init__", 1, 5, 5, 2); {__pyx_filename = __pyx_f[1]; __pyx_lineno = 391; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
      case  3:
      values[3] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__dimlens);
      if (likely(values[3])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("__init__", 1, 5, 5, 3); {__pyx_filename = __pyx_f[1]; __pyx_lineno = 391; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
      case  4:
      values[4] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__dimtotlen);
      if (likely(values[4])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("__init__", 1, 5, 5, 4); {__pyx_filename = __pyx_f[1]; __pyx_lineno = 391; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "__init__") < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 391; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_self = values[0];
    __pyx_v_dimname = values[1];
    __pyx_v_dim = values[2];
    __pyx_v_dimlens = values[3];
    __pyx_v_dimtotlen = values[4];
  } else if (PyTuple_GET_SIZE(__pyx_args) != 5) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_self = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_dimname = PyTuple_GET_ITEM(__pyx_args, 1);
    __pyx_v_dim = PyTuple_GET_ITEM(__pyx_args, 2);
    __pyx_v_dimlens = PyTuple_GET_ITEM(__pyx_args, 3);
    __pyx_v_dimtotlen = PyTuple_GET_ITEM(__pyx_args, 4);
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("__init__", 1, 5, 5, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[1]; __pyx_lineno = 391; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF3._Dimension.__init__");
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":392
 * class _Dimension(object):
 *     def __init__(self, dimname, dim, dimlens, dimtotlen):
 *         self.dimlens = dimlens             # <<<<<<<<<<<<<<
 *         self.dimtotlen = dimtotlen
 *     def __len__(self):
 */
  if (PyObject_SetAttr(__pyx_v_self, __pyx_n_s__dimlens, __pyx_v_dimlens) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 392; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":393
 *     def __init__(self, dimname, dim, dimlens, dimtotlen):
 *         self.dimlens = dimlens
 *         self.dimtotlen = dimtotlen             # <<<<<<<<<<<<<<
 *     def __len__(self):
 *         return self.dimtotlen
 */
  if (PyObject_SetAttr(__pyx_v_self, __pyx_n_s__dimtotlen, __pyx_v_dimtotlen) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 393; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_AddTraceback("netCDF3._Dimension.__init__");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":394
 *         self.dimlens = dimlens
 *         self.dimtotlen = dimtotlen
 *     def __len__(self):             # <<<<<<<<<<<<<<
 *         return self.dimtotlen
 *     def isunlimited(self):
 */

static PyObject *__pyx_pf_7netCDF3_10_Dimension___len__(PyObject *__pyx_self, PyObject *__pyx_v_self); /*proto*/
static PyMethodDef __pyx_mdef_7netCDF3_10_Dimension___len__ = {__Pyx_NAMESTR("__len__"), (PyCFunction)__pyx_pf_7netCDF3_10_Dimension___len__, METH_O, __Pyx_DOCSTR(0)};
static PyObject *__pyx_pf_7netCDF3_10_Dimension___len__(PyObject *__pyx_self, PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  __Pyx_RefNannySetupContext("__len__");
  __pyx_self = __pyx_self;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":395
 *         self.dimtotlen = dimtotlen
 *     def __len__(self):
 *         return self.dimtotlen             # <<<<<<<<<<<<<<
 *     def isunlimited(self):
 *         return True
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s__dimtotlen); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 395; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("netCDF3._Dimension.__len__");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":396
 *     def __len__(self):
 *         return self.dimtotlen
 *     def isunlimited(self):             # <<<<<<<<<<<<<<
 *         return True
 * 
 */

static PyObject *__pyx_pf_7netCDF3_10_Dimension_isunlimited(PyObject *__pyx_self, PyObject *__pyx_v_self); /*proto*/
static PyMethodDef __pyx_mdef_7netCDF3_10_Dimension_isunlimited = {__Pyx_NAMESTR("isunlimited"), (PyCFunction)__pyx_pf_7netCDF3_10_Dimension_isunlimited, METH_O, __Pyx_DOCSTR(0)};
static PyObject *__pyx_pf_7netCDF3_10_Dimension_isunlimited(PyObject *__pyx_self, PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  __Pyx_RefNannySetupContext("isunlimited");
  __pyx_self = __pyx_self;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":397
 *         return self.dimtotlen
 *     def isunlimited(self):
 *         return True             # <<<<<<<<<<<<<<
 * 
 * class _Variable(object):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = __Pyx_PyBool_FromLong(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 397; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("netCDF3._Dimension.isunlimited");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":400
 * 
 * class _Variable(object):
 *     def __init__(self, dset, varname, var, recdimname):             # <<<<<<<<<<<<<<
 *         self.dimensions = var.dimensions
 *         self._dset = dset
 */

static PyObject *__pyx_pf_7netCDF3_9_Variable___init__(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_7netCDF3_9_Variable___init__ = {__Pyx_NAMESTR("__init__"), (PyCFunction)__pyx_pf_7netCDF3_9_Variable___init__, METH_VARARGS|METH_KEYWORDS, __Pyx_DOCSTR(0)};
static PyObject *__pyx_pf_7netCDF3_9_Variable___init__(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_dset = 0;
  PyObject *__pyx_v_varname = 0;
  PyObject *__pyx_v_var = 0;
  PyObject *__pyx_v_recdimname = 0;
  PyObject *__pyx_v_name;
  PyObject *__pyx_v_value;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  Py_ssize_t __pyx_t_3;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  PyObject *__pyx_t_6 = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__self,&__pyx_n_s__dset,&__pyx_n_s__varname,&__pyx_n_s__var,&__pyx_n_s__recdimname,0};
  __Pyx_RefNannySetupContext("__init__");
  __pyx_self = __pyx_self;
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[5] = {0,0,0,0,0};
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
      case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
      case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__self);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__dset);
      if (likely(values[1])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("__init__", 1, 5, 5, 1); {__pyx_filename = __pyx_f[1]; __pyx_lineno = 400; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
      case  2:
      values[2] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__varname);
      if (likely(values[2])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("__init__", 1, 5, 5, 2); {__pyx_filename = __pyx_f[1]; __pyx_lineno = 400; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
      case  3:
      values[3] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__var);
      if (likely(values[3])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("__init__", 1, 5, 5, 3); {__pyx_filename = __pyx_f[1]; __pyx_lineno = 400; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
      case  4:
      values[4] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__recdimname);
      if (likely(values[4])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("__init__", 1, 5, 5, 4); {__pyx_filename = __pyx_f[1]; __pyx_lineno = 400; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "__init__") < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 400; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_self = values[0];
    __pyx_v_dset = values[1];
    __pyx_v_varname = values[2];
    __pyx_v_var = values[3];
    __pyx_v_recdimname = values[4];
  } else if (PyTuple_GET_SIZE(__pyx_args) != 5) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_self = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_dset = PyTuple_GET_ITEM(__pyx_args, 1);
    __pyx_v_varname = PyTuple_GET_ITEM(__pyx_args, 2);
    __pyx_v_var = PyTuple_GET_ITEM(__pyx_args, 3);
    __pyx_v_recdimname = PyTuple_GET_ITEM(__pyx_args, 4);
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("__init__", 1, 5, 5, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[1]; __pyx_lineno = 400; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF3._Variable.__init__");
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_v_name = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_value = Py_None; __Pyx_INCREF(Py_None);

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":401
 * class _Variable(object):
 *     def __init__(self, dset, varname, var, recdimname):
 *         self.dimensions = var.dimensions             # <<<<<<<<<<<<<<
 *         self._dset = dset
 *         self._mastervar = var
 */
  __pyx_t_1 = PyObject_GetAttr(__pyx_v_var, __pyx_n_s__dimensions); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 401; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  if (PyObject_SetAttr(__pyx_v_self, __pyx_n_s__dimensions, __pyx_t_1) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 401; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":402
 *     def __init__(self, dset, varname, var, recdimname):
 *         self.dimensions = var.dimensions
 *         self._dset = dset             # <<<<<<<<<<<<<<
 *         self._mastervar = var
 *         self._recVar = dset._cdfRecVar[varname]
 */
  if (PyObject_SetAttr(__pyx_v_self, __pyx_n_s___dset, __pyx_v_dset) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 402; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":403
 *         self.dimensions = var.dimensions
 *         self._dset = dset
 *         self._mastervar = var             # <<<<<<<<<<<<<<
 *         self._recVar = dset._cdfRecVar[varname]
 *         self._recdimname = recdimname
 */
  if (PyObject_SetAttr(__pyx_v_self, __pyx_n_s___mastervar, __pyx_v_var) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 403; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":404
 *         self._dset = dset
 *         self._mastervar = var
 *         self._recVar = dset._cdfRecVar[varname]             # <<<<<<<<<<<<<<
 *         self._recdimname = recdimname
 *         self._recLen = dset._cdfVLen
 */
  __pyx_t_1 = PyObject_GetAttr(__pyx_v_dset, __pyx_n_s___cdfRecVar); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 404; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyObject_GetItem(__pyx_t_1, __pyx_v_varname); if (!__pyx_t_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 404; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  if (PyObject_SetAttr(__pyx_v_self, __pyx_n_s___recVar, __pyx_t_2) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 404; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":405
 *         self._mastervar = var
 *         self._recVar = dset._cdfRecVar[varname]
 *         self._recdimname = recdimname             # <<<<<<<<<<<<<<
 *         self._recLen = dset._cdfVLen
 *         self.dtype = var.dtype
 */
  if (PyObject_SetAttr(__pyx_v_self, __pyx_n_s___recdimname, __pyx_v_recdimname) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 405; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":406
 *         self._recVar = dset._cdfRecVar[varname]
 *         self._recdimname = recdimname
 *         self._recLen = dset._cdfVLen             # <<<<<<<<<<<<<<
 *         self.dtype = var.dtype
 *         # copy attributes from master.
 */
  __pyx_t_2 = PyObject_GetAttr(__pyx_v_dset, __pyx_n_s___cdfVLen); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 406; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  if (PyObject_SetAttr(__pyx_v_self, __pyx_n_s___recLen, __pyx_t_2) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 406; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":407
 *         self._recdimname = recdimname
 *         self._recLen = dset._cdfVLen
 *         self.dtype = var.dtype             # <<<<<<<<<<<<<<
 *         # copy attributes from master.
 *         for name, value in var.__dict__.items():
 */
  __pyx_t_2 = PyObject_GetAttr(__pyx_v_var, __pyx_n_s__dtype); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 407; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  if (PyObject_SetAttr(__pyx_v_self, __pyx_n_s__dtype, __pyx_t_2) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 407; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":409
 *         self.dtype = var.dtype
 *         # copy attributes from master.
 *         for name, value in var.__dict__.items():             # <<<<<<<<<<<<<<
 *             self.__dict__[name] = value
 *     def typecode(self):
 */
  __pyx_t_2 = PyObject_GetAttr(__pyx_v_var, __pyx_n_s____dict__); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 409; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_1 = PyObject_GetAttr(__pyx_t_2, __pyx_n_s__items); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 409; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = PyObject_Call(__pyx_t_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 409; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  if (PyList_CheckExact(__pyx_t_2) || PyTuple_CheckExact(__pyx_t_2)) {
    __pyx_t_3 = 0; __pyx_t_1 = __pyx_t_2; __Pyx_INCREF(__pyx_t_1);
  } else {
    __pyx_t_3 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_t_2); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 409; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_t_1))) {
      if (__pyx_t_3 >= PyList_GET_SIZE(__pyx_t_1)) break;
      __pyx_t_2 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_3); __Pyx_INCREF(__pyx_t_2); __pyx_t_3++;
    } else if (likely(PyTuple_CheckExact(__pyx_t_1))) {
      if (__pyx_t_3 >= PyTuple_GET_SIZE(__pyx_t_1)) break;
      __pyx_t_2 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_3); __Pyx_INCREF(__pyx_t_2); __pyx_t_3++;
    } else {
      __pyx_t_2 = PyIter_Next(__pyx_t_1);
      if (!__pyx_t_2) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 409; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
      __Pyx_GOTREF(__pyx_t_2);
    }
    if (PyTuple_CheckExact(__pyx_t_2) && likely(PyTuple_GET_SIZE(__pyx_t_2) == 2)) {
      PyObject* tuple = __pyx_t_2;
      __pyx_t_4 = PyTuple_GET_ITEM(tuple, 0); __Pyx_INCREF(__pyx_t_4);
      __pyx_t_5 = PyTuple_GET_ITEM(tuple, 1); __Pyx_INCREF(__pyx_t_5);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __Pyx_DECREF(__pyx_v_name);
      __pyx_v_name = __pyx_t_4;
      __pyx_t_4 = 0;
      __Pyx_DECREF(__pyx_v_value);
      __pyx_v_value = __pyx_t_5;
      __pyx_t_5 = 0;
    } else {
      __pyx_t_6 = PyObject_GetIter(__pyx_t_2); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 409; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_6);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_4 = __Pyx_UnpackItem(__pyx_t_6, 0); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 409; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      __pyx_t_5 = __Pyx_UnpackItem(__pyx_t_6, 1); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 409; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_5);
      if (__Pyx_EndUnpack(__pyx_t_6, 2) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 409; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
      __Pyx_DECREF(__pyx_v_name);
      __pyx_v_name = __pyx_t_4;
      __pyx_t_4 = 0;
      __Pyx_DECREF(__pyx_v_value);
      __pyx_v_value = __pyx_t_5;
      __pyx_t_5 = 0;
    }

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":410
 *         # copy attributes from master.
 *         for name, value in var.__dict__.items():
 *             self.__dict__[name] = value             # <<<<<<<<<<<<<<
 *     def typecode(self):
 *         return self.dtype
 */
    __pyx_t_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s____dict__); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 410; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    if (PyObject_SetItem(__pyx_t_2, __pyx_v_name, __pyx_v_value) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 410; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  }
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_AddTraceback("netCDF3._Variable.__init__");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_name);
  __Pyx_DECREF(__pyx_v_value);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":411
 *         for name, value in var.__dict__.items():
 *             self.__dict__[name] = value
 *     def typecode(self):             # <<<<<<<<<<<<<<
 *         return self.dtype
 *     def ncattrs(self):
 */

static PyObject *__pyx_pf_7netCDF3_9_Variable_typecode(PyObject *__pyx_self, PyObject *__pyx_v_self); /*proto*/
static PyMethodDef __pyx_mdef_7netCDF3_9_Variable_typecode = {__Pyx_NAMESTR("typecode"), (PyCFunction)__pyx_pf_7netCDF3_9_Variable_typecode, METH_O, __Pyx_DOCSTR(0)};
static PyObject *__pyx_pf_7netCDF3_9_Variable_typecode(PyObject *__pyx_self, PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  __Pyx_RefNannySetupContext("typecode");
  __pyx_self = __pyx_self;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":412
 *             self.__dict__[name] = value
 *     def typecode(self):
 *         return self.dtype             # <<<<<<<<<<<<<<
 *     def ncattrs(self):
 *         return self._mastervar.__dict__.keys()
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s__dtype); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 412; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("netCDF3._Variable.typecode");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":413
 *     def typecode(self):
 *         return self.dtype
 *     def ncattrs(self):             # <<<<<<<<<<<<<<
 *         return self._mastervar.__dict__.keys()
 *     def __getattr__(self,name):
 */

static PyObject *__pyx_pf_7netCDF3_9_Variable_ncattrs(PyObject *__pyx_self, PyObject *__pyx_v_self); /*proto*/
static PyMethodDef __pyx_mdef_7netCDF3_9_Variable_ncattrs = {__Pyx_NAMESTR("ncattrs"), (PyCFunction)__pyx_pf_7netCDF3_9_Variable_ncattrs, METH_O, __Pyx_DOCSTR(0)};
static PyObject *__pyx_pf_7netCDF3_9_Variable_ncattrs(PyObject *__pyx_self, PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  __Pyx_RefNannySetupContext("ncattrs");
  __pyx_self = __pyx_self;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":414
 *         return self.dtype
 *     def ncattrs(self):
 *         return self._mastervar.__dict__.keys()             # <<<<<<<<<<<<<<
 *     def __getattr__(self,name):
 *         if name == 'shape': return self._shape()
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___mastervar); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 414; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyObject_GetAttr(__pyx_t_1, __pyx_n_s____dict__); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 414; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = PyObject_GetAttr(__pyx_t_2, __pyx_n_s__keys); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 414; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = PyObject_Call(__pyx_t_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 414; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_AddTraceback("netCDF3._Variable.ncattrs");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":415
 *     def ncattrs(self):
 *         return self._mastervar.__dict__.keys()
 *     def __getattr__(self,name):             # <<<<<<<<<<<<<<
 *         if name == 'shape': return self._shape()
 *         if name == 'ndim': return len(self._shape())
 */

static PyObject *__pyx_pf_7netCDF3_9_Variable___getattr__(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_7netCDF3_9_Variable___getattr__ = {__Pyx_NAMESTR("__getattr__"), (PyCFunction)__pyx_pf_7netCDF3_9_Variable___getattr__, METH_VARARGS|METH_KEYWORDS, __Pyx_DOCSTR(0)};
static PyObject *__pyx_pf_7netCDF3_9_Variable___getattr__(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_name = 0;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  int __pyx_t_2;
  PyObject *__pyx_t_3 = NULL;
  Py_ssize_t __pyx_t_4;
  PyObject *__pyx_t_5 = NULL;
  PyObject *__pyx_t_6 = NULL;
  PyObject *__pyx_t_7 = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__self,&__pyx_n_s__name,0};
  __Pyx_RefNannySetupContext("__getattr__");
  __pyx_self = __pyx_self;
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[2] = {0,0};
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__self);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__name);
      if (likely(values[1])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("__getattr__", 1, 2, 2, 1); {__pyx_filename = __pyx_f[1]; __pyx_lineno = 415; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "__getattr__") < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 415; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_self = values[0];
    __pyx_v_name = values[1];
  } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_self = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_name = PyTuple_GET_ITEM(__pyx_args, 1);
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("__getattr__", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[1]; __pyx_lineno = 415; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF3._Variable.__getattr__");
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":416
 *         return self._mastervar.__dict__.keys()
 *     def __getattr__(self,name):
 *         if name == 'shape': return self._shape()             # <<<<<<<<<<<<<<
 *         if name == 'ndim': return len(self._shape())
 *         try:
 */
  __pyx_t_1 = PyObject_RichCompare(__pyx_v_name, ((PyObject *)__pyx_n_s__shape), Py_EQ); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 416; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_2 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 416; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  if (__pyx_t_2) {
    __Pyx_XDECREF(__pyx_r);
    __pyx_t_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___shape); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 416; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_3 = PyObject_Call(__pyx_t_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 416; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_r = __pyx_t_3;
    __pyx_t_3 = 0;
    goto __pyx_L0;
    goto __pyx_L6;
  }
  __pyx_L6:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":417
 *     def __getattr__(self,name):
 *         if name == 'shape': return self._shape()
 *         if name == 'ndim': return len(self._shape())             # <<<<<<<<<<<<<<
 *         try:
 *             return self.__dict__[name]
 */
  __pyx_t_3 = PyObject_RichCompare(__pyx_v_name, ((PyObject *)__pyx_n_s__ndim), Py_EQ); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 417; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_2 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 417; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  if (__pyx_t_2) {
    __Pyx_XDECREF(__pyx_r);
    __pyx_t_3 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___shape); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 417; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_1 = PyObject_Call(__pyx_t_3, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 417; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_4 = PyObject_Length(__pyx_t_1); if (unlikely(__pyx_t_4 == -1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 417; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __pyx_t_1 = PyInt_FromSsize_t(__pyx_t_4); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 417; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_r = __pyx_t_1;
    __pyx_t_1 = 0;
    goto __pyx_L0;
    goto __pyx_L7;
  }
  __pyx_L7:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":418
 *         if name == 'shape': return self._shape()
 *         if name == 'ndim': return len(self._shape())
 *         try:             # <<<<<<<<<<<<<<
 *             return self.__dict__[name]
 *         except:
 */
  {
    PyObject *__pyx_save_exc_type, *__pyx_save_exc_value, *__pyx_save_exc_tb;
    __Pyx_ExceptionSave(&__pyx_save_exc_type, &__pyx_save_exc_value, &__pyx_save_exc_tb);
    __Pyx_XGOTREF(__pyx_save_exc_type);
    __Pyx_XGOTREF(__pyx_save_exc_value);
    __Pyx_XGOTREF(__pyx_save_exc_tb);
    /*try:*/ {

      /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":419
 *         if name == 'ndim': return len(self._shape())
 *         try:
 *             return self.__dict__[name]             # <<<<<<<<<<<<<<
 *         except:
 *             raise AttributeError(name)
 */
      __Pyx_XDECREF(__pyx_r);
      __pyx_t_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s____dict__); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 419; __pyx_clineno = __LINE__; goto __pyx_L8_error;}
      __Pyx_GOTREF(__pyx_t_1);
      __pyx_t_3 = PyObject_GetItem(__pyx_t_1, __pyx_v_name); if (!__pyx_t_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 419; __pyx_clineno = __LINE__; goto __pyx_L8_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_r = __pyx_t_3;
      __pyx_t_3 = 0;
      goto __pyx_L12_try_return;
    }
    __Pyx_XDECREF(__pyx_save_exc_type); __pyx_save_exc_type = 0;
    __Pyx_XDECREF(__pyx_save_exc_value); __pyx_save_exc_value = 0;
    __Pyx_XDECREF(__pyx_save_exc_tb); __pyx_save_exc_tb = 0;
    goto __pyx_L15_try_end;
    __pyx_L12_try_return:;
    __Pyx_XGIVEREF(__pyx_save_exc_type);
    __Pyx_XGIVEREF(__pyx_save_exc_value);
    __Pyx_XGIVEREF(__pyx_save_exc_tb);
    __Pyx_ExceptionReset(__pyx_save_exc_type, __pyx_save_exc_value, __pyx_save_exc_tb);
    goto __pyx_L0;
    __pyx_L8_error:;
    __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":420
 *         try:
 *             return self.__dict__[name]
 *         except:             # <<<<<<<<<<<<<<
 *             raise AttributeError(name)
 *     def __len__(self):
 */
    /*except:*/ {
      __Pyx_AddTraceback("netCDF3._Variable.__getattr__");
      if (__Pyx_GetException(&__pyx_t_3, &__pyx_t_1, &__pyx_t_5) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 420; __pyx_clineno = __LINE__; goto __pyx_L10_except_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_GOTREF(__pyx_t_5);

      /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":421
 *             return self.__dict__[name]
 *         except:
 *             raise AttributeError(name)             # <<<<<<<<<<<<<<
 *     def __len__(self):
 *         return self._shape()[0]
 */
      __pyx_t_6 = PyTuple_New(1); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 421; __pyx_clineno = __LINE__; goto __pyx_L10_except_error;}
      __Pyx_GOTREF(__pyx_t_6);
      __Pyx_INCREF(__pyx_v_name);
      PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_v_name);
      __Pyx_GIVEREF(__pyx_v_name);
      __pyx_t_7 = PyObject_Call(__pyx_builtin_AttributeError, __pyx_t_6, NULL); if (unlikely(!__pyx_t_7)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 421; __pyx_clineno = __LINE__; goto __pyx_L10_except_error;}
      __Pyx_GOTREF(__pyx_t_7);
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
      __Pyx_Raise(__pyx_t_7, 0, 0);
      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
      {__pyx_filename = __pyx_f[1]; __pyx_lineno = 421; __pyx_clineno = __LINE__; goto __pyx_L10_except_error;}
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      goto __pyx_L9_exception_handled;
    }
    __pyx_L10_except_error:;
    __Pyx_XGIVEREF(__pyx_save_exc_type);
    __Pyx_XGIVEREF(__pyx_save_exc_value);
    __Pyx_XGIVEREF(__pyx_save_exc_tb);
    __Pyx_ExceptionReset(__pyx_save_exc_type, __pyx_save_exc_value, __pyx_save_exc_tb);
    goto __pyx_L1_error;
    __pyx_L9_exception_handled:;
    __Pyx_XGIVEREF(__pyx_save_exc_type);
    __Pyx_XGIVEREF(__pyx_save_exc_value);
    __Pyx_XGIVEREF(__pyx_save_exc_tb);
    __Pyx_ExceptionReset(__pyx_save_exc_type, __pyx_save_exc_value, __pyx_save_exc_tb);
    __pyx_L15_try_end:;
  }

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_XDECREF(__pyx_t_7);
  __Pyx_AddTraceback("netCDF3._Variable.__getattr__");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":422
 *         except:
 *             raise AttributeError(name)
 *     def __len__(self):             # <<<<<<<<<<<<<<
 *         return self._shape()[0]
 *     def _shape(self):
 */

static PyObject *__pyx_pf_7netCDF3_9_Variable___len__(PyObject *__pyx_self, PyObject *__pyx_v_self); /*proto*/
static PyMethodDef __pyx_mdef_7netCDF3_9_Variable___len__ = {__Pyx_NAMESTR("__len__"), (PyCFunction)__pyx_pf_7netCDF3_9_Variable___len__, METH_O, __Pyx_DOCSTR(0)};
static PyObject *__pyx_pf_7netCDF3_9_Variable___len__(PyObject *__pyx_self, PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  __Pyx_RefNannySetupContext("__len__");
  __pyx_self = __pyx_self;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":423
 *             raise AttributeError(name)
 *     def __len__(self):
 *         return self._shape()[0]             # <<<<<<<<<<<<<<
 *     def _shape(self):
 *         recdimlen = len(self._dset.dimensions[self._recdimname])
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___shape); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 423; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyObject_Call(__pyx_t_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 423; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = __Pyx_GetItemInt(__pyx_t_2, 0, sizeof(long), PyInt_FromLong); if (!__pyx_t_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 423; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_AddTraceback("netCDF3._Variable.__len__");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":424
 *     def __len__(self):
 *         return self._shape()[0]
 *     def _shape(self):             # <<<<<<<<<<<<<<
 *         recdimlen = len(self._dset.dimensions[self._recdimname])
 *         return (recdimlen,) + self._mastervar.shape[1:]
 */

static PyObject *__pyx_pf_7netCDF3_9_Variable__shape(PyObject *__pyx_self, PyObject *__pyx_v_self); /*proto*/
static PyMethodDef __pyx_mdef_7netCDF3_9_Variable__shape = {__Pyx_NAMESTR("_shape"), (PyCFunction)__pyx_pf_7netCDF3_9_Variable__shape, METH_O, __Pyx_DOCSTR(0)};
static PyObject *__pyx_pf_7netCDF3_9_Variable__shape(PyObject *__pyx_self, PyObject *__pyx_v_self) {
  Py_ssize_t __pyx_v_recdimlen;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  Py_ssize_t __pyx_t_4;
  __Pyx_RefNannySetupContext("_shape");
  __pyx_self = __pyx_self;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":425
 *         return self._shape()[0]
 *     def _shape(self):
 *         recdimlen = len(self._dset.dimensions[self._recdimname])             # <<<<<<<<<<<<<<
 *         return (recdimlen,) + self._mastervar.shape[1:]
 *     def set_auto_maskandscale(self,val):
 */
  __pyx_t_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___dset); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 425; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyObject_GetAttr(__pyx_t_1, __pyx_n_s__dimensions); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 425; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___recdimname); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 425; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_3 = PyObject_GetItem(__pyx_t_2, __pyx_t_1); if (!__pyx_t_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 425; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_4 = PyObject_Length(__pyx_t_3); if (unlikely(__pyx_t_4 == -1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 425; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_v_recdimlen = __pyx_t_4;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":426
 *     def _shape(self):
 *         recdimlen = len(self._dset.dimensions[self._recdimname])
 *         return (recdimlen,) + self._mastervar.shape[1:]             # <<<<<<<<<<<<<<
 *     def set_auto_maskandscale(self,val):
 *         for v in self._recVar:
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_3 = PyInt_FromSsize_t(__pyx_v_recdimlen); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 426; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 426; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_t_3);
  __Pyx_GIVEREF(__pyx_t_3);
  __pyx_t_3 = 0;
  __pyx_t_3 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___mastervar); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 426; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_2 = PyObject_GetAttr(__pyx_t_3, __pyx_n_s__shape); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 426; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = PySequence_GetSlice(__pyx_t_2, 1, PY_SSIZE_T_MAX); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 426; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = PyNumber_Add(__pyx_t_1, __pyx_t_3); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 426; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("netCDF3._Variable._shape");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":427
 *         recdimlen = len(self._dset.dimensions[self._recdimname])
 *         return (recdimlen,) + self._mastervar.shape[1:]
 *     def set_auto_maskandscale(self,val):             # <<<<<<<<<<<<<<
 *         for v in self._recVar:
 *             v.set_auto_maskandscale(val)
 */

static PyObject *__pyx_pf_7netCDF3_9_Variable_set_auto_maskandscale(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_7netCDF3_9_Variable_set_auto_maskandscale = {__Pyx_NAMESTR("set_auto_maskandscale"), (PyCFunction)__pyx_pf_7netCDF3_9_Variable_set_auto_maskandscale, METH_VARARGS|METH_KEYWORDS, __Pyx_DOCSTR(0)};
static PyObject *__pyx_pf_7netCDF3_9_Variable_set_auto_maskandscale(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_val = 0;
  PyObject *__pyx_v_v;
  PyObject *__pyx_r = NULL;
  Py_ssize_t __pyx_t_1;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__self,&__pyx_n_s__val,0};
  __Pyx_RefNannySetupContext("set_auto_maskandscale");
  __pyx_self = __pyx_self;
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[2] = {0,0};
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__self);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__val);
      if (likely(values[1])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("set_auto_maskandscale", 1, 2, 2, 1); {__pyx_filename = __pyx_f[1]; __pyx_lineno = 427; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "set_auto_maskandscale") < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 427; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_self = values[0];
    __pyx_v_val = values[1];
  } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_self = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_val = PyTuple_GET_ITEM(__pyx_args, 1);
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("set_auto_maskandscale", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[1]; __pyx_lineno = 427; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF3._Variable.set_auto_maskandscale");
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_v_v = Py_None; __Pyx_INCREF(Py_None);

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":428
 *         return (recdimlen,) + self._mastervar.shape[1:]
 *     def set_auto_maskandscale(self,val):
 *         for v in self._recVar:             # <<<<<<<<<<<<<<
 *             v.set_auto_maskandscale(val)
 *     def __getitem__(self, elem):
 */
  __pyx_t_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___recVar); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 428; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  if (PyList_CheckExact(__pyx_t_2) || PyTuple_CheckExact(__pyx_t_2)) {
    __pyx_t_1 = 0; __pyx_t_3 = __pyx_t_2; __Pyx_INCREF(__pyx_t_3);
  } else {
    __pyx_t_1 = -1; __pyx_t_3 = PyObject_GetIter(__pyx_t_2); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 428; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_t_3))) {
      if (__pyx_t_1 >= PyList_GET_SIZE(__pyx_t_3)) break;
      __pyx_t_2 = PyList_GET_ITEM(__pyx_t_3, __pyx_t_1); __Pyx_INCREF(__pyx_t_2); __pyx_t_1++;
    } else if (likely(PyTuple_CheckExact(__pyx_t_3))) {
      if (__pyx_t_1 >= PyTuple_GET_SIZE(__pyx_t_3)) break;
      __pyx_t_2 = PyTuple_GET_ITEM(__pyx_t_3, __pyx_t_1); __Pyx_INCREF(__pyx_t_2); __pyx_t_1++;
    } else {
      __pyx_t_2 = PyIter_Next(__pyx_t_3);
      if (!__pyx_t_2) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 428; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
      __Pyx_GOTREF(__pyx_t_2);
    }
    __Pyx_DECREF(__pyx_v_v);
    __pyx_v_v = __pyx_t_2;
    __pyx_t_2 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":429
 *     def set_auto_maskandscale(self,val):
 *         for v in self._recVar:
 *             v.set_auto_maskandscale(val)             # <<<<<<<<<<<<<<
 *     def __getitem__(self, elem):
 *         """Get records from a concatenated set of variables."""
 */
    __pyx_t_2 = PyObject_GetAttr(__pyx_v_v, __pyx_n_s_37); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 429; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_4 = PyTuple_New(1); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 429; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_INCREF(__pyx_v_val);
    PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_v_val);
    __Pyx_GIVEREF(__pyx_v_val);
    __pyx_t_5 = PyObject_Call(__pyx_t_2, __pyx_t_4, NULL); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 429; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  }
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_AddTraceback("netCDF3._Variable.set_auto_maskandscale");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_v);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":430
 *         for v in self._recVar:
 *             v.set_auto_maskandscale(val)
 *     def __getitem__(self, elem):             # <<<<<<<<<<<<<<
 *         """Get records from a concatenated set of variables."""
 * 
 */

static PyObject *__pyx_pf_7netCDF3_9_Variable___getitem__(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7netCDF3_9_Variable___getitem__[] = "Get records from a concatenated set of variables.";
static PyMethodDef __pyx_mdef_7netCDF3_9_Variable___getitem__ = {__Pyx_NAMESTR("__getitem__"), (PyCFunction)__pyx_pf_7netCDF3_9_Variable___getitem__, METH_VARARGS|METH_KEYWORDS, __Pyx_DOCSTR(__pyx_doc_7netCDF3_9_Variable___getitem__)};
static PyObject *__pyx_pf_7netCDF3_9_Variable___getitem__(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_elem = 0;
  PyObject *__pyx_v_start;
  PyObject *__pyx_v_count;
  PyObject *__pyx_v_stride;
  PyObject *__pyx_v_put_ind;
  PyObject *__pyx_v_datashape;
  PyObject *__pyx_v_data;
  PyObject *__pyx_v_squeeze;
  PyObject *__pyx_v_i;
  PyObject *__pyx_v_n;
  PyObject *__pyx_v_strt;
  PyObject *__pyx_v_cnt;
  PyObject *__pyx_v_strd;
  Py_ssize_t __pyx_v_nv;
  PyObject *__pyx_v_ind;
  PyObject *__pyx_v_sta;
  PyObject *__pyx_v_step;
  PyObject *__pyx_v_stop;
  PyObject *__pyx_v_idx;
  PyObject *__pyx_v_vid;
  PyObject *__pyx_v_k;
  PyObject *__pyx_v_lst;
  PyObject *__pyx_v_newSlice;
  PyObject *__pyx_v_s;
  PyObject *__pyx_v_lstArr;
  int __pyx_v_ismasked;
  PyObject *__pyx_v_dat;
  PyObject *__pyx_v_fill_value;
  PyObject *__pyx_v_numv;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  PyObject *__pyx_t_6 = NULL;
  Py_ssize_t __pyx_t_7;
  int __pyx_t_8;
  int __pyx_t_9;
  int __pyx_t_10;
  PyObject *__pyx_t_11 = NULL;
  Py_ssize_t __pyx_t_12;
  Py_ssize_t __pyx_t_13;
  int __pyx_t_14;
  PyObject *__pyx_t_15 = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__self,&__pyx_n_s__elem,0};
  __Pyx_RefNannySetupContext("__getitem__");
  __pyx_self = __pyx_self;
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[2] = {0,0};
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__self);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__elem);
      if (likely(values[1])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("__getitem__", 1, 2, 2, 1); {__pyx_filename = __pyx_f[1]; __pyx_lineno = 430; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "__getitem__") < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 430; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_self = values[0];
    __pyx_v_elem = values[1];
  } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_self = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_elem = PyTuple_GET_ITEM(__pyx_args, 1);
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("__getitem__", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[1]; __pyx_lineno = 430; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("netCDF3._Variable.__getitem__");
  __Pyx_RefNannyFinishContext();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_v_start = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_count = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_stride = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_put_ind = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_datashape = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_data = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_squeeze = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_i = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_n = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_strt = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_cnt = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_strd = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_ind = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_sta = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_step = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_stop = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_idx = ((PyObject *)Py_None); __Pyx_INCREF(Py_None);
  __pyx_v_vid = ((PyObject *)Py_None); __Pyx_INCREF(Py_None);
  __pyx_v_k = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_lst = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_newSlice = ((PyObject *)Py_None); __Pyx_INCREF(Py_None);
  __pyx_v_s = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_lstArr = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_dat = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_fill_value = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_numv = Py_None; __Pyx_INCREF(Py_None);

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":439
 *         # to use.
 *         start, count, stride, put_ind =\
 *         _StartCountStride(elem, self.shape)             # <<<<<<<<<<<<<<
 *         datashape = _out_array_shape(count)
 *         data = numpy.empty(datashape, dtype=self.dtype)
 */
  __pyx_t_1 = __Pyx_GetName(__pyx_m, __pyx_n_s___StartCountStride); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 439; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s__shape); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 439; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 439; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_INCREF(__pyx_v_elem);
  PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_v_elem);
  __Pyx_GIVEREF(__pyx_v_elem);
  PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_t_2);
  __Pyx_GIVEREF(__pyx_t_2);
  __pyx_t_2 = 0;
  __pyx_t_2 = PyObject_Call(__pyx_t_1, __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 439; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  if (PyTuple_CheckExact(__pyx_t_2) && likely(PyTuple_GET_SIZE(__pyx_t_2) == 4)) {
    PyObject* tuple = __pyx_t_2;
    __pyx_t_3 = PyTuple_GET_ITEM(tuple, 0); __Pyx_INCREF(__pyx_t_3);
    __pyx_t_1 = PyTuple_GET_ITEM(tuple, 1); __Pyx_INCREF(__pyx_t_1);
    __pyx_t_4 = PyTuple_GET_ITEM(tuple, 2); __Pyx_INCREF(__pyx_t_4);
    __pyx_t_5 = PyTuple_GET_ITEM(tuple, 3); __Pyx_INCREF(__pyx_t_5);

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":438
 *         # arguments to the nc_get_var() function, and is much more easy
 *         # to use.
 *         start, count, stride, put_ind =\             # <<<<<<<<<<<<<<
 *         _StartCountStride(elem, self.shape)
 *         datashape = _out_array_shape(count)
 */
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_DECREF(__pyx_v_start);
    __pyx_v_start = __pyx_t_3;
    __pyx_t_3 = 0;
    __Pyx_DECREF(__pyx_v_count);
    __pyx_v_count = __pyx_t_1;
    __pyx_t_1 = 0;
    __Pyx_DECREF(__pyx_v_stride);
    __pyx_v_stride = __pyx_t_4;
    __pyx_t_4 = 0;
    __Pyx_DECREF(__pyx_v_put_ind);
    __pyx_v_put_ind = __pyx_t_5;
    __pyx_t_5 = 0;
  } else {
    __pyx_t_6 = PyObject_GetIter(__pyx_t_2); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 438; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_6);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_3 = __Pyx_UnpackItem(__pyx_t_6, 0); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 438; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_1 = __Pyx_UnpackItem(__pyx_t_6, 1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 438; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_4 = __Pyx_UnpackItem(__pyx_t_6, 2); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 438; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_5 = __Pyx_UnpackItem(__pyx_t_6, 3); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 438; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_5);
    if (__Pyx_EndUnpack(__pyx_t_6, 4) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 438; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    __Pyx_DECREF(__pyx_v_start);
    __pyx_v_start = __pyx_t_3;
    __pyx_t_3 = 0;
    __Pyx_DECREF(__pyx_v_count);
    __pyx_v_count = __pyx_t_1;
    __pyx_t_1 = 0;
    __Pyx_DECREF(__pyx_v_stride);
    __pyx_v_stride = __pyx_t_4;
    __pyx_t_4 = 0;
    __Pyx_DECREF(__pyx_v_put_ind);
    __pyx_v_put_ind = __pyx_t_5;
    __pyx_t_5 = 0;
  }

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":440
 *         start, count, stride, put_ind =\
 *         _StartCountStride(elem, self.shape)
 *         datashape = _out_array_shape(count)             # <<<<<<<<<<<<<<
 *         data = numpy.empty(datashape, dtype=self.dtype)
 * 
 */
  __pyx_t_2 = __Pyx_GetName(__pyx_m, __pyx_n_s___out_array_shape); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 440; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_5 = PyTuple_New(1); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 440; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_INCREF(__pyx_v_count);
  PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_v_count);
  __Pyx_GIVEREF(__pyx_v_count);
  __pyx_t_4 = PyObject_Call(__pyx_t_2, __pyx_t_5, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 440; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __Pyx_DECREF(__pyx_v_datashape);
  __pyx_v_datashape = __pyx_t_4;
  __pyx_t_4 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":441
 *         _StartCountStride(elem, self.shape)
 *         datashape = _out_array_shape(count)
 *         data = numpy.empty(datashape, dtype=self.dtype)             # <<<<<<<<<<<<<<
 * 
 *         # Determine which dimensions need to be squeezed
 */
  __pyx_t_4 = __Pyx_GetName(__pyx_m, __pyx_n_s__numpy); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 441; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __pyx_t_5 = PyObject_GetAttr(__pyx_t_4, __pyx_n_s__empty); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 441; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_4 = PyTuple_New(1); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 441; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_INCREF(__pyx_v_datashape);
  PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_v_datashape);
  __Pyx_GIVEREF(__pyx_v_datashape);
  __pyx_t_2 = PyDict_New(); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 441; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_2));
  __pyx_t_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s__dtype); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 441; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_t_2, ((PyObject *)__pyx_n_s__dtype), __pyx_t_1) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 441; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = PyEval_CallObjectWithKeywords(__pyx_t_5, __pyx_t_4, ((PyObject *)__pyx_t_2)); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 441; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __Pyx_DECREF(((PyObject *)__pyx_t_2)); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_v_data);
  __pyx_v_data = __pyx_t_1;
  __pyx_t_1 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":447
 *         # The convention used is that for those cases,
 *         # put_ind for this dimension is set to -1 by _StartCountStride.
 *         squeeze = data.ndim * [slice(None),]             # <<<<<<<<<<<<<<
 *         for i,n in enumerate(put_ind.shape[:-1]):
 *             if n == 1 and put_ind[...,i].ravel()[0] == -1:
 */
  __pyx_t_1 = PyObject_GetAttr(__pyx_v_data, __pyx_n_s__ndim); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 447; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 447; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_INCREF(Py_None);
  PyTuple_SET_ITEM(__pyx_t_2, 0, Py_None);
  __Pyx_GIVEREF(Py_None);
  __pyx_t_4 = PyObject_Call(((PyObject *)((PyObject*)&PySlice_Type)), __pyx_t_2, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 447; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = PyList_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 447; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_2));
  PyList_SET_ITEM(__pyx_t_2, 0, __pyx_t_4);
  __Pyx_GIVEREF(__pyx_t_4);
  __pyx_t_4 = 0;
  __pyx_t_4 = PyNumber_Multiply(__pyx_t_1, ((PyObject *)__pyx_t_2)); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 447; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(((PyObject *)__pyx_t_2)); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_v_squeeze);
  __pyx_v_squeeze = __pyx_t_4;
  __pyx_t_4 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":448
 *         # put_ind for this dimension is set to -1 by _StartCountStride.
 *         squeeze = data.ndim * [slice(None),]
 *         for i,n in enumerate(put_ind.shape[:-1]):             # <<<<<<<<<<<<<<
 *             if n == 1 and put_ind[...,i].ravel()[0] == -1:
 *                 squeeze[i] = 0
 */
  __Pyx_INCREF(__pyx_int_0);
  __pyx_t_4 = __pyx_int_0;
  __pyx_t_2 = PyObject_GetAttr(__pyx_v_put_ind, __pyx_n_s__shape); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 448; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_1 = PySequence_GetSlice(__pyx_t_2, 0, -1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 448; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  if (PyList_CheckExact(__pyx_t_1) || PyTuple_CheckExact(__pyx_t_1)) {
    __pyx_t_7 = 0; __pyx_t_2 = __pyx_t_1; __Pyx_INCREF(__pyx_t_2);
  } else {
    __pyx_t_7 = -1; __pyx_t_2 = PyObject_GetIter(__pyx_t_1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 448; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
  }
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_t_2))) {
      if (__pyx_t_7 >= PyList_GET_SIZE(__pyx_t_2)) break;
      __pyx_t_1 = PyList_GET_ITEM(__pyx_t_2, __pyx_t_7); __Pyx_INCREF(__pyx_t_1); __pyx_t_7++;
    } else if (likely(PyTuple_CheckExact(__pyx_t_2))) {
      if (__pyx_t_7 >= PyTuple_GET_SIZE(__pyx_t_2)) break;
      __pyx_t_1 = PyTuple_GET_ITEM(__pyx_t_2, __pyx_t_7); __Pyx_INCREF(__pyx_t_1); __pyx_t_7++;
    } else {
      __pyx_t_1 = PyIter_Next(__pyx_t_2);
      if (!__pyx_t_1) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 448; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
      __Pyx_GOTREF(__pyx_t_1);
    }
    __Pyx_DECREF(__pyx_v_n);
    __pyx_v_n = __pyx_t_1;
    __pyx_t_1 = 0;
    __Pyx_INCREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_v_i);
    __pyx_v_i = __pyx_t_4;
    __pyx_t_1 = PyNumber_Add(__pyx_t_4, __pyx_int_1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 448; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_4);
    __pyx_t_4 = __pyx_t_1;
    __pyx_t_1 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":449
 *         squeeze = data.ndim * [slice(None),]
 *         for i,n in enumerate(put_ind.shape[:-1]):
 *             if n == 1 and put_ind[...,i].ravel()[0] == -1:             # <<<<<<<<<<<<<<
 *                 squeeze[i] = 0
 * 
 */
    __pyx_t_1 = PyObject_RichCompare(__pyx_v_n, __pyx_int_1, Py_EQ); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 449; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_8 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_8 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 449; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    if (__pyx_t_8) {
      __pyx_t_1 = PyTuple_New(2); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 449; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_INCREF(Py_Ellipsis);
      PyTuple_SET_ITEM(__pyx_t_1, 0, Py_Ellipsis);
      __Pyx_GIVEREF(Py_Ellipsis);
      __Pyx_INCREF(__pyx_v_i);
      PyTuple_SET_ITEM(__pyx_t_1, 1, __pyx_v_i);
      __Pyx_GIVEREF(__pyx_v_i);
      __pyx_t_5 = PyObject_GetItem(__pyx_v_put_ind, __pyx_t_1); if (!__pyx_t_5) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 449; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = PyObject_GetAttr(__pyx_t_5, __pyx_n_s__ravel); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 449; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_5 = PyObject_Call(__pyx_t_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 449; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = __Pyx_GetItemInt(__pyx_t_5, 0, sizeof(long), PyInt_FromLong); if (!__pyx_t_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 449; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_5 = PyObject_RichCompare(__pyx_t_1, __pyx_int_neg_1, Py_EQ); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 449; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_9 = __Pyx_PyObject_IsTrue(__pyx_t_5); if (unlikely(__pyx_t_9 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 449; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_10 = __pyx_t_9;
    } else {
      __pyx_t_10 = __pyx_t_8;
    }
    if (__pyx_t_10) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":450
 *         for i,n in enumerate(put_ind.shape[:-1]):
 *             if n == 1 and put_ind[...,i].ravel()[0] == -1:
 *                 squeeze[i] = 0             # <<<<<<<<<<<<<<
 * 
 *         # Reshape the arrays so we can iterate over them.
 */
      if (PyObject_SetItem(__pyx_v_squeeze, __pyx_v_i, __pyx_int_0) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 450; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L8;
    }
    __pyx_L8:;
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":453
 * 
 *         # Reshape the arrays so we can iterate over them.
 *         strt = start.reshape((-1, self.ndim or 1))             # <<<<<<<<<<<<<<
 *         cnt = count.reshape((-1, self.ndim or 1))
 *         strd = stride.reshape((-1, self.ndim or 1))
 */
  __pyx_t_4 = PyObject_GetAttr(__pyx_v_start, __pyx_n_s__reshape); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 453; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __pyx_t_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s__ndim); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 453; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_10 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely(__pyx_t_10 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 453; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (!__pyx_t_10) {
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_INCREF(__pyx_int_1);
    __pyx_t_5 = __pyx_int_1;
  } else {
    __pyx_t_5 = __pyx_t_2;
    __pyx_t_2 = 0;
  }
  __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 453; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_INCREF(__pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_int_neg_1);
  __Pyx_GIVEREF(__pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_t_5);
  __Pyx_GIVEREF(__pyx_t_5);
  __pyx_t_5 = 0;
  __pyx_t_5 = PyTuple_New(1); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 453; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_2);
  __Pyx_GIVEREF(__pyx_t_2);
  __pyx_t_2 = 0;
  __pyx_t_2 = PyObject_Call(__pyx_t_4, __pyx_t_5, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 453; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __Pyx_DECREF(__pyx_v_strt);
  __pyx_v_strt = __pyx_t_2;
  __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":454
 *         # Reshape the arrays so we can iterate over them.
 *         strt = start.reshape((-1, self.ndim or 1))
 *         cnt = count.reshape((-1, self.ndim or 1))             # <<<<<<<<<<<<<<
 *         strd = stride.reshape((-1, self.ndim or 1))
 *         put_ind = put_ind.reshape((-1, self.ndim or 1))
 */
  __pyx_t_2 = PyObject_GetAttr(__pyx_v_count, __pyx_n_s__reshape); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 454; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_5 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s__ndim); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 454; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __pyx_t_10 = __Pyx_PyObject_IsTrue(__pyx_t_5); if (unlikely(__pyx_t_10 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 454; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (!__pyx_t_10) {
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    __Pyx_INCREF(__pyx_int_1);
    __pyx_t_4 = __pyx_int_1;
  } else {
    __pyx_t_4 = __pyx_t_5;
    __pyx_t_5 = 0;
  }
  __pyx_t_5 = PyTuple_New(2); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 454; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_INCREF(__pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_int_neg_1);
  __Pyx_GIVEREF(__pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_t_5, 1, __pyx_t_4);
  __Pyx_GIVEREF(__pyx_t_4);
  __pyx_t_4 = 0;
  __pyx_t_4 = PyTuple_New(1); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 454; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_5);
  __Pyx_GIVEREF(__pyx_t_5);
  __pyx_t_5 = 0;
  __pyx_t_5 = PyObject_Call(__pyx_t_2, __pyx_t_4, NULL); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 454; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __Pyx_DECREF(__pyx_v_cnt);
  __pyx_v_cnt = __pyx_t_5;
  __pyx_t_5 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":455
 *         strt = start.reshape((-1, self.ndim or 1))
 *         cnt = count.reshape((-1, self.ndim or 1))
 *         strd = stride.reshape((-1, self.ndim or 1))             # <<<<<<<<<<<<<<
 *         put_ind = put_ind.reshape((-1, self.ndim or 1))
 * 
 */
  __pyx_t_5 = PyObject_GetAttr(__pyx_v_stride, __pyx_n_s__reshape); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 455; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __pyx_t_4 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s__ndim); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 455; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __pyx_t_10 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely(__pyx_t_10 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 455; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (!__pyx_t_10) {
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __Pyx_INCREF(__pyx_int_1);
    __pyx_t_2 = __pyx_int_1;
  } else {
    __pyx_t_2 = __pyx_t_4;
    __pyx_t_4 = 0;
  }
  __pyx_t_4 = PyTuple_New(2); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 455; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_INCREF(__pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_int_neg_1);
  __Pyx_GIVEREF(__pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_t_4, 1, __pyx_t_2);
  __Pyx_GIVEREF(__pyx_t_2);
  __pyx_t_2 = 0;
  __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 455; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_4);
  __Pyx_GIVEREF(__pyx_t_4);
  __pyx_t_4 = 0;
  __pyx_t_4 = PyObject_Call(__pyx_t_5, __pyx_t_2, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 455; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_v_strd);
  __pyx_v_strd = __pyx_t_4;
  __pyx_t_4 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":456
 *         cnt = count.reshape((-1, self.ndim or 1))
 *         strd = stride.reshape((-1, self.ndim or 1))
 *         put_ind = put_ind.reshape((-1, self.ndim or 1))             # <<<<<<<<<<<<<<
 * 
 *         # Fill output array with data chunks.
 */
  __pyx_t_4 = PyObject_GetAttr(__pyx_v_put_ind, __pyx_n_s__reshape); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 456; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __pyx_t_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s__ndim); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 456; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_10 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely(__pyx_t_10 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 456; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (!__pyx_t_10) {
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_INCREF(__pyx_int_1);
    __pyx_t_5 = __pyx_int_1;
  } else {
    __pyx_t_5 = __pyx_t_2;
    __pyx_t_2 = 0;
  }
  __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 456; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_INCREF(__pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_int_neg_1);
  __Pyx_GIVEREF(__pyx_int_neg_1);
  PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_t_5);
  __Pyx_GIVEREF(__pyx_t_5);
  __pyx_t_5 = 0;
  __pyx_t_5 = PyTuple_New(1); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 456; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_2);
  __Pyx_GIVEREF(__pyx_t_2);
  __pyx_t_2 = 0;
  __pyx_t_2 = PyObject_Call(__pyx_t_4, __pyx_t_5, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 456; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __Pyx_DECREF(__pyx_v_put_ind);
  __pyx_v_put_ind = __pyx_t_2;
  __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":460
 *         # Fill output array with data chunks.
 *         # Number of variables making up the MFVariable.Variable.
 *         nv = len(self._recLen)             # <<<<<<<<<<<<<<
 *         for (start,count,stride,ind) in zip(strt, cnt, strd, put_ind):
 *             # make sure count=-1 becomes count=1
 */
  __pyx_t_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___recLen); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 460; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_7 = PyObject_Length(__pyx_t_2); if (unlikely(__pyx_t_7 == -1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 460; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_v_nv = __pyx_t_7;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":461
 *         # Number of variables making up the MFVariable.Variable.
 *         nv = len(self._recLen)
 *         for (start,count,stride,ind) in zip(strt, cnt, strd, put_ind):             # <<<<<<<<<<<<<<
 *             # make sure count=-1 becomes count=1
 *             count = [abs(cnt) for cnt in count]
 */
  __pyx_t_2 = PyTuple_New(4); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 461; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_INCREF(__pyx_v_strt);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_strt);
  __Pyx_GIVEREF(__pyx_v_strt);
  __Pyx_INCREF(__pyx_v_cnt);
  PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_v_cnt);
  __Pyx_GIVEREF(__pyx_v_cnt);
  __Pyx_INCREF(__pyx_v_strd);
  PyTuple_SET_ITEM(__pyx_t_2, 2, __pyx_v_strd);
  __Pyx_GIVEREF(__pyx_v_strd);
  __Pyx_INCREF(__pyx_v_put_ind);
  PyTuple_SET_ITEM(__pyx_t_2, 3, __pyx_v_put_ind);
  __Pyx_GIVEREF(__pyx_v_put_ind);
  __pyx_t_5 = PyObject_Call(__pyx_builtin_zip, __pyx_t_2, NULL); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 461; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  if (PyList_CheckExact(__pyx_t_5) || PyTuple_CheckExact(__pyx_t_5)) {
    __pyx_t_7 = 0; __pyx_t_2 = __pyx_t_5; __Pyx_INCREF(__pyx_t_2);
  } else {
    __pyx_t_7 = -1; __pyx_t_2 = PyObject_GetIter(__pyx_t_5); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 461; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
  }
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_t_2))) {
      if (__pyx_t_7 >= PyList_GET_SIZE(__pyx_t_2)) break;
      __pyx_t_5 = PyList_GET_ITEM(__pyx_t_2, __pyx_t_7); __Pyx_INCREF(__pyx_t_5); __pyx_t_7++;
    } else if (likely(PyTuple_CheckExact(__pyx_t_2))) {
      if (__pyx_t_7 >= PyTuple_GET_SIZE(__pyx_t_2)) break;
      __pyx_t_5 = PyTuple_GET_ITEM(__pyx_t_2, __pyx_t_7); __Pyx_INCREF(__pyx_t_5); __pyx_t_7++;
    } else {
      __pyx_t_5 = PyIter_Next(__pyx_t_2);
      if (!__pyx_t_5) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 461; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
      __Pyx_GOTREF(__pyx_t_5);
    }
    if (PyTuple_CheckExact(__pyx_t_5) && likely(PyTuple_GET_SIZE(__pyx_t_5) == 4)) {
      PyObject* tuple = __pyx_t_5;
      __pyx_t_4 = PyTuple_GET_ITEM(tuple, 0); __Pyx_INCREF(__pyx_t_4);
      __pyx_t_1 = PyTuple_GET_ITEM(tuple, 1); __Pyx_INCREF(__pyx_t_1);
      __pyx_t_3 = PyTuple_GET_ITEM(tuple, 2); __Pyx_INCREF(__pyx_t_3);
      __pyx_t_6 = PyTuple_GET_ITEM(tuple, 3); __Pyx_INCREF(__pyx_t_6);
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __Pyx_DECREF(__pyx_v_start);
      __pyx_v_start = __pyx_t_4;
      __pyx_t_4 = 0;
      __Pyx_DECREF(__pyx_v_count);
      __pyx_v_count = __pyx_t_1;
      __pyx_t_1 = 0;
      __Pyx_DECREF(__pyx_v_stride);
      __pyx_v_stride = __pyx_t_3;
      __pyx_t_3 = 0;
      __Pyx_DECREF(__pyx_v_ind);
      __pyx_v_ind = __pyx_t_6;
      __pyx_t_6 = 0;
    } else {
      __pyx_t_11 = PyObject_GetIter(__pyx_t_5); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 461; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_11);
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_4 = __Pyx_UnpackItem(__pyx_t_11, 0); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 461; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      __pyx_t_1 = __Pyx_UnpackItem(__pyx_t_11, 1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 461; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      __pyx_t_3 = __Pyx_UnpackItem(__pyx_t_11, 2); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 461; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __pyx_t_6 = __Pyx_UnpackItem(__pyx_t_11, 3); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 461; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_6);
      if (__Pyx_EndUnpack(__pyx_t_11, 4) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 461; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
      __Pyx_DECREF(__pyx_v_start);
      __pyx_v_start = __pyx_t_4;
      __pyx_t_4 = 0;
      __Pyx_DECREF(__pyx_v_count);
      __pyx_v_count = __pyx_t_1;
      __pyx_t_1 = 0;
      __Pyx_DECREF(__pyx_v_stride);
      __pyx_v_stride = __pyx_t_3;
      __pyx_t_3 = 0;
      __Pyx_DECREF(__pyx_v_ind);
      __pyx_v_ind = __pyx_t_6;
      __pyx_t_6 = 0;
    }

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":463
 *         for (start,count,stride,ind) in zip(strt, cnt, strd, put_ind):
 *             # make sure count=-1 becomes count=1
 *             count = [abs(cnt) for cnt in count]             # <<<<<<<<<<<<<<
 *             if (numpy.array(stride) < 0).any():
 *                 raise IndexError('negative strides not allowed when slicing MFVariable Variable instance')
 */
    __pyx_t_5 = PyList_New(0); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 463; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(((PyObject *)__pyx_t_5));
    if (PyList_CheckExact(__pyx_v_count) || PyTuple_CheckExact(__pyx_v_count)) {
      __pyx_t_12 = 0; __pyx_t_6 = __pyx_v_count; __Pyx_INCREF(__pyx_t_6);
    } else {
      __pyx_t_12 = -1; __pyx_t_6 = PyObject_GetIter(__pyx_v_count); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 463; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_6);
    }
    for (;;) {
      if (likely(PyList_CheckExact(__pyx_t_6))) {
        if (__pyx_t_12 >= PyList_GET_SIZE(__pyx_t_6)) break;
        __pyx_t_3 = PyList_GET_ITEM(__pyx_t_6, __pyx_t_12); __Pyx_INCREF(__pyx_t_3); __pyx_t_12++;
      } else if (likely(PyTuple_CheckExact(__pyx_t_6))) {
        if (__pyx_t_12 >= PyTuple_GET_SIZE(__pyx_t_6)) break;
        __pyx_t_3 = PyTuple_GET_ITEM(__pyx_t_6, __pyx_t_12); __Pyx_INCREF(__pyx_t_3); __pyx_t_12++;
      } else {
        __pyx_t_3 = PyIter_Next(__pyx_t_6);
        if (!__pyx_t_3) {
          if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 463; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          break;
        }
        __Pyx_GOTREF(__pyx_t_3);
      }
      __Pyx_DECREF(__pyx_v_cnt);
      __pyx_v_cnt = __pyx_t_3;
      __pyx_t_3 = 0;
      __pyx_t_3 = PyNumber_Absolute(__pyx_v_cnt); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 463; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      if (unlikely(PyList_Append(__pyx_t_5, (PyObject*)__pyx_t_3))) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 463; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    }
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    __Pyx_INCREF(((PyObject *)__pyx_t_5));
    __Pyx_DECREF(__pyx_v_count);
    __pyx_v_count = ((PyObject *)__pyx_t_5);
    __Pyx_DECREF(((PyObject *)__pyx_t_5)); __pyx_t_5 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":464
 *             # make sure count=-1 becomes count=1
 *             count = [abs(cnt) for cnt in count]
 *             if (numpy.array(stride) < 0).any():             # <<<<<<<<<<<<<<
 *                 raise IndexError('negative strides not allowed when slicing MFVariable Variable instance')
 *             # Start, stop and step along 1st dimension, eg the unlimited
 */
    __pyx_t_5 = __Pyx_GetName(__pyx_m, __pyx_n_s__numpy); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 464; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_5);
    __pyx_t_6 = PyObject_GetAttr(__pyx_t_5, __pyx_n_s__array); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 464; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_6);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = PyTuple_New(1); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 464; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_INCREF(__pyx_v_stride);
    PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_v_stride);
    __Pyx_GIVEREF(__pyx_v_stride);
    __pyx_t_3 = PyObject_Call(__pyx_t_6, __pyx_t_5, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 464; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = PyObject_RichCompare(__pyx_t_3, __pyx_int_0, Py_LT); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 464; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = PyObject_GetAttr(__pyx_t_5, __pyx_n_s__any); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 464; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = PyObject_Call(__pyx_t_3, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 464; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_10 = __Pyx_PyObject_IsTrue(__pyx_t_5); if (unlikely(__pyx_t_10 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 464; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    if (__pyx_t_10) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":465
 *             count = [abs(cnt) for cnt in count]
 *             if (numpy.array(stride) < 0).any():
 *                 raise IndexError('negative strides not allowed when slicing MFVariable Variable instance')             # <<<<<<<<<<<<<<
 *             # Start, stop and step along 1st dimension, eg the unlimited
 *             # dimension.
 */
      __pyx_t_5 = PyTuple_New(1); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 465; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_INCREF(((PyObject *)__pyx_kp_s_38));
      PyTuple_SET_ITEM(__pyx_t_5, 0, ((PyObject *)__pyx_kp_s_38));
      __Pyx_GIVEREF(((PyObject *)__pyx_kp_s_38));
      __pyx_t_3 = PyObject_Call(__pyx_builtin_IndexError, __pyx_t_5, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 465; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __Pyx_Raise(__pyx_t_3, 0, 0);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      {__pyx_filename = __pyx_f[1]; __pyx_lineno = 465; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L13;
    }
    __pyx_L13:;

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":468
 *             # Start, stop and step along 1st dimension, eg the unlimited
 *             # dimension.
 *             sta = start[0]             # <<<<<<<<<<<<<<
 *             step = stride[0]
 *             stop = sta + count[0] * step
 */
    __pyx_t_3 = __Pyx_GetItemInt(__pyx_v_start, 0, sizeof(long), PyInt_FromLong); if (!__pyx_t_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 468; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_v_sta);
    __pyx_v_sta = __pyx_t_3;
    __pyx_t_3 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":469
 *             # dimension.
 *             sta = start[0]
 *             step = stride[0]             # <<<<<<<<<<<<<<
 *             stop = sta + count[0] * step
 * 
 */
    __pyx_t_3 = __Pyx_GetItemInt(__pyx_v_stride, 0, sizeof(long), PyInt_FromLong); if (!__pyx_t_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 469; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_v_step);
    __pyx_v_step = __pyx_t_3;
    __pyx_t_3 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":470
 *             sta = start[0]
 *             step = stride[0]
 *             stop = sta + count[0] * step             # <<<<<<<<<<<<<<
 * 
 *             # Build a list representing the concatenated list of all records in
 */
    __pyx_t_3 = __Pyx_GetItemInt(__pyx_v_count, 0, sizeof(long), PyInt_FromLong); if (!__pyx_t_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 470; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_5 = PyNumber_Multiply(__pyx_t_3, __pyx_v_step); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 470; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = PyNumber_Add(__pyx_v_sta, __pyx_t_5); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 470; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    __Pyx_DECREF(__pyx_v_stop);
    __pyx_v_stop = __pyx_t_3;
    __pyx_t_3 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":477
 *             #  the record index inside the variables, from 0 to n
 *             #  the index of the Variable instance to which each record belongs
 *             idx = []    # list of record indices             # <<<<<<<<<<<<<<
 *             vid = []    # list of Variable indices
 *             for n in range(nv):
 */
    __pyx_t_3 = PyList_New(0); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 477; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(((PyObject *)__pyx_t_3));
    __Pyx_DECREF(((PyObject *)__pyx_v_idx));
    __pyx_v_idx = __pyx_t_3;
    __pyx_t_3 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":478
 *             #  the index of the Variable instance to which each record belongs
 *             idx = []    # list of record indices
 *             vid = []    # list of Variable indices             # <<<<<<<<<<<<<<
 *             for n in range(nv):
 *                 k = self._recLen[n]     # number of records in this variable
 */
    __pyx_t_3 = PyList_New(0); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 478; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(((PyObject *)__pyx_t_3));
    __Pyx_DECREF(((PyObject *)__pyx_v_vid));
    __pyx_v_vid = __pyx_t_3;
    __pyx_t_3 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":479
 *             idx = []    # list of record indices
 *             vid = []    # list of Variable indices
 *             for n in range(nv):             # <<<<<<<<<<<<<<
 *                 k = self._recLen[n]     # number of records in this variable
 *                 idx.extend(range(k))
 */
    __pyx_t_3 = PyInt_FromSsize_t(__pyx_v_nv); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 479; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_5 = PyTuple_New(1); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 479; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_5);
    PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_3);
    __Pyx_GIVEREF(__pyx_t_3);
    __pyx_t_3 = 0;
    __pyx_t_3 = PyObject_Call(__pyx_builtin_range, __pyx_t_5, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 479; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    if (PyList_CheckExact(__pyx_t_3) || PyTuple_CheckExact(__pyx_t_3)) {
      __pyx_t_12 = 0; __pyx_t_5 = __pyx_t_3; __Pyx_INCREF(__pyx_t_5);
    } else {
      __pyx_t_12 = -1; __pyx_t_5 = PyObject_GetIter(__pyx_t_3); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 479; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_5);
    }
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    for (;;) {
      if (likely(PyList_CheckExact(__pyx_t_5))) {
        if (__pyx_t_12 >= PyList_GET_SIZE(__pyx_t_5)) break;
        __pyx_t_3 = PyList_GET_ITEM(__pyx_t_5, __pyx_t_12); __Pyx_INCREF(__pyx_t_3); __pyx_t_12++;
      } else if (likely(PyTuple_CheckExact(__pyx_t_5))) {
        if (__pyx_t_12 >= PyTuple_GET_SIZE(__pyx_t_5)) break;
        __pyx_t_3 = PyTuple_GET_ITEM(__pyx_t_5, __pyx_t_12); __Pyx_INCREF(__pyx_t_3); __pyx_t_12++;
      } else {
        __pyx_t_3 = PyIter_Next(__pyx_t_5);
        if (!__pyx_t_3) {
          if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 479; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          break;
        }
        __Pyx_GOTREF(__pyx_t_3);
      }
      __Pyx_DECREF(__pyx_v_n);
      __pyx_v_n = __pyx_t_3;
      __pyx_t_3 = 0;

      /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":480
 *             vid = []    # list of Variable indices
 *             for n in range(nv):
 *                 k = self._recLen[n]     # number of records in this variable             # <<<<<<<<<<<<<<
 *                 idx.extend(range(k))
 *                 vid.extend([n] * k)
 */
      __pyx_t_3 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___recLen); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 480; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __pyx_t_6 = PyObject_GetItem(__pyx_t_3, __pyx_v_n); if (!__pyx_t_6) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 480; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_6);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_DECREF(__pyx_v_k);
      __pyx_v_k = __pyx_t_6;
      __pyx_t_6 = 0;

      /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":481
 *             for n in range(nv):
 *                 k = self._recLen[n]     # number of records in this variable
 *                 idx.extend(range(k))             # <<<<<<<<<<<<<<
 *                 vid.extend([n] * k)
 * 
 */
      __pyx_t_6 = PyObject_GetAttr(((PyObject *)__pyx_v_idx), __pyx_n_s__extend); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 481; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_6);
      __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 481; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_INCREF(__pyx_v_k);
      PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_v_k);
      __Pyx_GIVEREF(__pyx_v_k);
      __pyx_t_1 = PyObject_Call(__pyx_builtin_range, __pyx_t_3, NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 481; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 481; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_1);
      __Pyx_GIVEREF(__pyx_t_1);
      __pyx_t_1 = 0;
      __pyx_t_1 = PyObject_Call(__pyx_t_6, __pyx_t_3, NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 481; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

      /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":482
 *                 k = self._recLen[n]     # number of records in this variable
 *                 idx.extend(range(k))
 *                 vid.extend([n] * k)             # <<<<<<<<<<<<<<
 * 
 *             # Merge the two lists to get a list of 2-elem lists.
 */
      __pyx_t_1 = PyObject_GetAttr(((PyObject *)__pyx_v_vid), __pyx_n_s__extend); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 482; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      __pyx_t_3 = PyList_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 482; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(((PyObject *)__pyx_t_3));
      __Pyx_INCREF(__pyx_v_n);
      PyList_SET_ITEM(__pyx_t_3, 0, __pyx_v_n);
      __Pyx_GIVEREF(__pyx_v_n);
      __pyx_t_6 = PyNumber_Multiply(((PyObject *)__pyx_t_3), __pyx_v_k); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 482; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_6);
      __Pyx_DECREF(((PyObject *)__pyx_t_3)); __pyx_t_3 = 0;
      __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 482; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_6);
      __Pyx_GIVEREF(__pyx_t_6);
      __pyx_t_6 = 0;
      __pyx_t_6 = PyObject_Call(__pyx_t_1, __pyx_t_3, NULL); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 482; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_6);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    }
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":486
 *             # Merge the two lists to get a list of 2-elem lists.
 *             # Slice this list along the first dimension.
 *             lst = zip(idx, vid).__getitem__(slice(sta, stop, step))             # <<<<<<<<<<<<<<
 * 
 *             # Rebuild the slicing expression for dimensions 1 and ssq.
 */
    __pyx_t_5 = PyTuple_New(2); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 486; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_INCREF(((PyObject *)__pyx_v_idx));
    PyTuple_SET_ITEM(__pyx_t_5, 0, ((PyObject *)__pyx_v_idx));
    __Pyx_GIVEREF(((PyObject *)__pyx_v_idx));
    __Pyx_INCREF(((PyObject *)__pyx_v_vid));
    PyTuple_SET_ITEM(__pyx_t_5, 1, ((PyObject *)__pyx_v_vid));
    __Pyx_GIVEREF(((PyObject *)__pyx_v_vid));
    __pyx_t_6 = PyObject_Call(__pyx_builtin_zip, __pyx_t_5, NULL); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 486; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_6);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_5 = PyObject_GetAttr(__pyx_t_6, __pyx_n_s____getitem__); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 486; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_6 = PyTuple_New(3); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 486; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_6);
    __Pyx_INCREF(__pyx_v_sta);
    PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_v_sta);
    __Pyx_GIVEREF(__pyx_v_sta);
    __Pyx_INCREF(__pyx_v_stop);
    PyTuple_SET_ITEM(__pyx_t_6, 1, __pyx_v_stop);
    __Pyx_GIVEREF(__pyx_v_stop);
    __Pyx_INCREF(__pyx_v_step);
    PyTuple_SET_ITEM(__pyx_t_6, 2, __pyx_v_step);
    __Pyx_GIVEREF(__pyx_v_step);
    __pyx_t_3 = PyObject_Call(((PyObject *)((PyObject*)&PySlice_Type)), __pyx_t_6, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 486; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    __pyx_t_6 = PyTuple_New(1); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 486; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_6);
    PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_t_3);
    __Pyx_GIVEREF(__pyx_t_3);
    __pyx_t_3 = 0;
    __pyx_t_3 = PyObject_Call(__pyx_t_5, __pyx_t_6, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 486; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    __Pyx_DECREF(__pyx_v_lst);
    __pyx_v_lst = __pyx_t_3;
    __pyx_t_3 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":489
 * 
 *             # Rebuild the slicing expression for dimensions 1 and ssq.
 *             newSlice = [slice(None, None, None)]             # <<<<<<<<<<<<<<
 *             for n in range(1, len(start)):   # skip dimension 0
 *                 s = slice(start[n],start[n] + count[n] * stride[n], stride[n])
 */
    __pyx_t_3 = PyTuple_New(3); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 489; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_INCREF(Py_None);
    PyTuple_SET_ITEM(__pyx_t_3, 0, Py_None);
    __Pyx_GIVEREF(Py_None);
    __Pyx_INCREF(Py_None);
    PyTuple_SET_ITEM(__pyx_t_3, 1, Py_None);
    __Pyx_GIVEREF(Py_None);
    __Pyx_INCREF(Py_None);
    PyTuple_SET_ITEM(__pyx_t_3, 2, Py_None);
    __Pyx_GIVEREF(Py_None);
    __pyx_t_6 = PyObject_Call(((PyObject *)((PyObject*)&PySlice_Type)), __pyx_t_3, NULL); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 489; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_6);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = PyList_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 489; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(((PyObject *)__pyx_t_3));
    PyList_SET_ITEM(__pyx_t_3, 0, __pyx_t_6);
    __Pyx_GIVEREF(__pyx_t_6);
    __pyx_t_6 = 0;
    __Pyx_DECREF(((PyObject *)__pyx_v_newSlice));
    __pyx_v_newSlice = __pyx_t_3;
    __pyx_t_3 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":490
 *             # Rebuild the slicing expression for dimensions 1 and ssq.
 *             newSlice = [slice(None, None, None)]
 *             for n in range(1, len(start)):   # skip dimension 0             # <<<<<<<<<<<<<<
 *                 s = slice(start[n],start[n] + count[n] * stride[n], stride[n])
 *                 newSlice.append(s)
 */
    __pyx_t_13 = PyObject_Length(__pyx_v_start); if (unlikely(__pyx_t_13 == -1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 490; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __pyx_t_3 = PyInt_FromSsize_t(__pyx_t_13); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 490; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_6 = PyTuple_New(2); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 490; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_6);
    __Pyx_INCREF(__pyx_int_1);
    PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_int_1);
    __Pyx_GIVEREF(__pyx_int_1);
    PyTuple_SET_ITEM(__pyx_t_6, 1, __pyx_t_3);
    __Pyx_GIVEREF(__pyx_t_3);
    __pyx_t_3 = 0;
    __pyx_t_3 = PyObject_Call(__pyx_builtin_range, __pyx_t_6, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 490; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    if (PyList_CheckExact(__pyx_t_3) || PyTuple_CheckExact(__pyx_t_3)) {
      __pyx_t_12 = 0; __pyx_t_6 = __pyx_t_3; __Pyx_INCREF(__pyx_t_6);
    } else {
      __pyx_t_12 = -1; __pyx_t_6 = PyObject_GetIter(__pyx_t_3); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 490; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_6);
    }
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    for (;;) {
      if (likely(PyList_CheckExact(__pyx_t_6))) {
        if (__pyx_t_12 >= PyList_GET_SIZE(__pyx_t_6)) break;
        __pyx_t_3 = PyList_GET_ITEM(__pyx_t_6, __pyx_t_12); __Pyx_INCREF(__pyx_t_3); __pyx_t_12++;
      } else if (likely(PyTuple_CheckExact(__pyx_t_6))) {
        if (__pyx_t_12 >= PyTuple_GET_SIZE(__pyx_t_6)) break;
        __pyx_t_3 = PyTuple_GET_ITEM(__pyx_t_6, __pyx_t_12); __Pyx_INCREF(__pyx_t_3); __pyx_t_12++;
      } else {
        __pyx_t_3 = PyIter_Next(__pyx_t_6);
        if (!__pyx_t_3) {
          if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 490; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          break;
        }
        __Pyx_GOTREF(__pyx_t_3);
      }
      __Pyx_DECREF(__pyx_v_n);
      __pyx_v_n = __pyx_t_3;
      __pyx_t_3 = 0;

      /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":491
 *             newSlice = [slice(None, None, None)]
 *             for n in range(1, len(start)):   # skip dimension 0
 *                 s = slice(start[n],start[n] + count[n] * stride[n], stride[n])             # <<<<<<<<<<<<<<
 *                 newSlice.append(s)
 * 
 */
      __pyx_t_3 = PyObject_GetItem(__pyx_v_start, __pyx_v_n); if (!__pyx_t_3) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 491; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __pyx_t_5 = PyObject_GetItem(__pyx_v_start, __pyx_v_n); if (!__pyx_t_5) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 491; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_5);
      __pyx_t_1 = PyObject_GetItem(__pyx_v_count, __pyx_v_n); if (!__pyx_t_1) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 491; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      __pyx_t_4 = PyObject_GetItem(__pyx_v_stride, __pyx_v_n); if (!__pyx_t_4) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 491; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      __pyx_t_11 = PyNumber_Multiply(__pyx_t_1, __pyx_t_4); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 491; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_11);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __pyx_t_4 = PyNumber_Add(__pyx_t_5, __pyx_t_11); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 491; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
      __pyx_t_11 = PyObject_GetItem(__pyx_v_stride, __pyx_v_n); if (!__pyx_t_11) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 491; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_11);
      __pyx_t_5 = PyTuple_New(3); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 491; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_5);
      PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_3);
      __Pyx_GIVEREF(__pyx_t_3);
      PyTuple_SET_ITEM(__pyx_t_5, 1, __pyx_t_4);
      __Pyx_GIVEREF(__pyx_t_4);
      PyTuple_SET_ITEM(__pyx_t_5, 2, __pyx_t_11);
      __Pyx_GIVEREF(__pyx_t_11);
      __pyx_t_3 = 0;
      __pyx_t_4 = 0;
      __pyx_t_11 = 0;
      __pyx_t_11 = PyObject_Call(((PyObject *)((PyObject*)&PySlice_Type)), __pyx_t_5, NULL); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 491; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_11);
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __Pyx_DECREF(__pyx_v_s);
      __pyx_v_s = __pyx_t_11;
      __pyx_t_11 = 0;

      /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":492
 *             for n in range(1, len(start)):   # skip dimension 0
 *                 s = slice(start[n],start[n] + count[n] * stride[n], stride[n])
 *                 newSlice.append(s)             # <<<<<<<<<<<<<<
 * 
 *             # Apply the slicing expression to each var in turn, extracting records
 */
      if (unlikely(__pyx_v_newSlice == Py_None)) {
        PyErr_SetString(PyExc_AttributeError, "'NoneType' object has no attribute 'append'"); {__pyx_filename = __pyx_f[1]; __pyx_lineno = 492; __pyx_clineno = __LINE__; goto __pyx_L1_error;} 
      }
      __pyx_t_14 = PyList_Append(((PyObject *)__pyx_v_newSlice), __pyx_v_s); if (unlikely(__pyx_t_14 == -1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 492; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    }
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":496
 *             # Apply the slicing expression to each var in turn, extracting records
 *             # in a list of arrays.
 *             lstArr = []             # <<<<<<<<<<<<<<
 *             ismasked = False
 *             for n in range(nv):
 */
    __pyx_t_6 = PyList_New(0); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 496; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(((PyObject *)__pyx_t_6));
    __Pyx_DECREF(__pyx_v_lstArr);
    __pyx_v_lstArr = ((PyObject *)__pyx_t_6);
    __pyx_t_6 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":497
 *             # in a list of arrays.
 *             lstArr = []
 *             ismasked = False             # <<<<<<<<<<<<<<
 *             for n in range(nv):
 *                 # Get the list of indices for variable 'n'.
 */
    __pyx_v_ismasked = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":498
 *             lstArr = []
 *             ismasked = False
 *             for n in range(nv):             # <<<<<<<<<<<<<<
 *                 # Get the list of indices for variable 'n'.
 *                 idx = [i for i,numv in lst if numv == n]
 */
    __pyx_t_6 = PyInt_FromSsize_t(__pyx_v_nv); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 498; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_6);
    __pyx_t_11 = PyTuple_New(1); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 498; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_11);
    PyTuple_SET_ITEM(__pyx_t_11, 0, __pyx_t_6);
    __Pyx_GIVEREF(__pyx_t_6);
    __pyx_t_6 = 0;
    __pyx_t_6 = PyObject_Call(__pyx_builtin_range, __pyx_t_11, NULL); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 498; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_6);
    __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
    if (PyList_CheckExact(__pyx_t_6) || PyTuple_CheckExact(__pyx_t_6)) {
      __pyx_t_12 = 0; __pyx_t_11 = __pyx_t_6; __Pyx_INCREF(__pyx_t_11);
    } else {
      __pyx_t_12 = -1; __pyx_t_11 = PyObject_GetIter(__pyx_t_6); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 498; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_11);
    }
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    for (;;) {
      if (likely(PyList_CheckExact(__pyx_t_11))) {
        if (__pyx_t_12 >= PyList_GET_SIZE(__pyx_t_11)) break;
        __pyx_t_6 = PyList_GET_ITEM(__pyx_t_11, __pyx_t_12); __Pyx_INCREF(__pyx_t_6); __pyx_t_12++;
      } else if (likely(PyTuple_CheckExact(__pyx_t_11))) {
        if (__pyx_t_12 >= PyTuple_GET_SIZE(__pyx_t_11)) break;
        __pyx_t_6 = PyTuple_GET_ITEM(__pyx_t_11, __pyx_t_12); __Pyx_INCREF(__pyx_t_6); __pyx_t_12++;
      } else {
        __pyx_t_6 = PyIter_Next(__pyx_t_11);
        if (!__pyx_t_6) {
          if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 498; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          break;
        }
        __Pyx_GOTREF(__pyx_t_6);
      }
      __Pyx_DECREF(__pyx_v_n);
      __pyx_v_n = __pyx_t_6;
      __pyx_t_6 = 0;

      /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":500
 *             for n in range(nv):
 *                 # Get the list of indices for variable 'n'.
 *                 idx = [i for i,numv in lst if numv == n]             # <<<<<<<<<<<<<<
 *                 if idx:
 *                     # Rebuild slicing expression for dimension 0.
 */
      __pyx_t_6 = PyList_New(0); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 500; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(((PyObject *)__pyx_t_6));
      if (PyList_CheckExact(__pyx_v_lst) || PyTuple_CheckExact(__pyx_v_lst)) {
        __pyx_t_13 = 0; __pyx_t_5 = __pyx_v_lst; __Pyx_INCREF(__pyx_t_5);
      } else {
        __pyx_t_13 = -1; __pyx_t_5 = PyObject_GetIter(__pyx_v_lst); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 500; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_5);
      }
      for (;;) {
        if (likely(PyList_CheckExact(__pyx_t_5))) {
          if (__pyx_t_13 >= PyList_GET_SIZE(__pyx_t_5)) break;
          __pyx_t_4 = PyList_GET_ITEM(__pyx_t_5, __pyx_t_13); __Pyx_INCREF(__pyx_t_4); __pyx_t_13++;
        } else if (likely(PyTuple_CheckExact(__pyx_t_5))) {
          if (__pyx_t_13 >= PyTuple_GET_SIZE(__pyx_t_5)) break;
          __pyx_t_4 = PyTuple_GET_ITEM(__pyx_t_5, __pyx_t_13); __Pyx_INCREF(__pyx_t_4); __pyx_t_13++;
        } else {
          __pyx_t_4 = PyIter_Next(__pyx_t_5);
          if (!__pyx_t_4) {
            if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 500; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            break;
          }
          __Pyx_GOTREF(__pyx_t_4);
        }
        if (PyTuple_CheckExact(__pyx_t_4) && likely(PyTuple_GET_SIZE(__pyx_t_4) == 2)) {
          PyObject* tuple = __pyx_t_4;
          __pyx_t_3 = PyTuple_GET_ITEM(tuple, 0); __Pyx_INCREF(__pyx_t_3);
          __pyx_t_1 = PyTuple_GET_ITEM(tuple, 1); __Pyx_INCREF(__pyx_t_1);
          __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
          __Pyx_DECREF(__pyx_v_i);
          __pyx_v_i = __pyx_t_3;
          __pyx_t_3 = 0;
          __Pyx_DECREF(__pyx_v_numv);
          __pyx_v_numv = __pyx_t_1;
          __pyx_t_1 = 0;
        } else {
          __pyx_t_15 = PyObject_GetIter(__pyx_t_4); if (unlikely(!__pyx_t_15)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 500; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_15);
          __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
          __pyx_t_3 = __Pyx_UnpackItem(__pyx_t_15, 0); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 500; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_3);
          __pyx_t_1 = __Pyx_UnpackItem(__pyx_t_15, 1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 500; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_1);
          if (__Pyx_EndUnpack(__pyx_t_15, 2) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 500; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
          __Pyx_DECREF(__pyx_v_i);
          __pyx_v_i = __pyx_t_3;
          __pyx_t_3 = 0;
          __Pyx_DECREF(__pyx_v_numv);
          __pyx_v_numv = __pyx_t_1;
          __pyx_t_1 = 0;
        }
        __pyx_t_4 = PyObject_RichCompare(__pyx_v_numv, __pyx_v_n, Py_EQ); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 500; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_4);
        __pyx_t_10 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely(__pyx_t_10 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 500; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
        if (__pyx_t_10) {
          if (unlikely(PyList_Append(__pyx_t_6, (PyObject*)__pyx_v_i))) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 500; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          goto __pyx_L22;
        }
        __pyx_L22:;
      }
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __Pyx_INCREF(((PyObject *)__pyx_t_6));
      __Pyx_DECREF(((PyObject *)__pyx_v_idx));
      __pyx_v_idx = __pyx_t_6;
      __Pyx_DECREF(((PyObject *)__pyx_t_6)); __pyx_t_6 = 0;

      /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":501
 *                 # Get the list of indices for variable 'n'.
 *                 idx = [i for i,numv in lst if numv == n]
 *                 if idx:             # <<<<<<<<<<<<<<
 *                     # Rebuild slicing expression for dimension 0.
 *                     newSlice[0] = slice(idx[0], idx[-1] + 1, step)
 */
      __pyx_t_10 = (((PyObject *)__pyx_v_idx) != Py_None) && (PyList_GET_SIZE(((PyObject *)__pyx_v_idx)) != 0);
      if (__pyx_t_10) {

        /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":503
 *                 if idx:
 *                     # Rebuild slicing expression for dimension 0.
 *                     newSlice[0] = slice(idx[0], idx[-1] + 1, step)             # <<<<<<<<<<<<<<
 *                     # Extract records from the var, and append them to a list
 *                     # of arrays.
 */
        __pyx_t_6 = __Pyx_GetItemInt_List(((PyObject *)__pyx_v_idx), 0, sizeof(long), PyInt_FromLong); if (!__pyx_t_6) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 503; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_6);
        __pyx_t_5 = __Pyx_GetItemInt_List(((PyObject *)__pyx_v_idx), -1, sizeof(long), PyInt_FromLong); if (!__pyx_t_5) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 503; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_5);
        __pyx_t_4 = PyNumber_Add(__pyx_t_5, __pyx_int_1); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 503; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_4);
        __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
        __pyx_t_5 = PyTuple_New(3); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 503; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_5);
        PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_6);
        __Pyx_GIVEREF(__pyx_t_6);
        PyTuple_SET_ITEM(__pyx_t_5, 1, __pyx_t_4);
        __Pyx_GIVEREF(__pyx_t_4);
        __Pyx_INCREF(__pyx_v_step);
        PyTuple_SET_ITEM(__pyx_t_5, 2, __pyx_v_step);
        __Pyx_GIVEREF(__pyx_v_step);
        __pyx_t_6 = 0;
        __pyx_t_4 = 0;
        __pyx_t_4 = PyObject_Call(((PyObject *)((PyObject*)&PySlice_Type)), __pyx_t_5, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 503; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_4);
        __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
        if (__Pyx_SetItemInt(((PyObject *)__pyx_v_newSlice), 0, __pyx_t_4, sizeof(long), PyInt_FromLong) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 503; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

        /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":506
 *                     # Extract records from the var, and append them to a list
 *                     # of arrays.
 *                     dat = Variable.__getitem__(self._recVar[n],tuple(newSlice))             # <<<<<<<<<<<<<<
 *                     if hasattr(dat,'mask') and not ismasked:
 *                         ismasked=True
 */
        __pyx_t_4 = PyObject_GetAttr(((PyObject *)((PyObject*)__pyx_ptype_7netCDF3_Variable)), __pyx_n_s____getitem__); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 506; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_4);
        __pyx_t_5 = PyObject_GetAttr(__pyx_v_self, __pyx_n_s___recVar); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 506; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_5);
        __pyx_t_6 = PyObject_GetItem(__pyx_t_5, __pyx_v_n); if (!__pyx_t_6) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 506; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_6);
        __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
        if (unlikely(__pyx_v_newSlice == Py_None)) {
          PyErr_SetString(PyExc_TypeError, "'NoneType' object is not iterable"); {__pyx_filename = __pyx_f[1]; __pyx_lineno = 506; __pyx_clineno = __LINE__; goto __pyx_L1_error;} 
        }
        __pyx_t_5 = ((PyObject *)PyList_AsTuple(__pyx_v_newSlice)); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 506; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(((PyObject *)__pyx_t_5));
        __pyx_t_1 = PyTuple_New(2); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 506; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_1);
        PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_t_6);
        __Pyx_GIVEREF(__pyx_t_6);
        PyTuple_SET_ITEM(__pyx_t_1, 1, ((PyObject *)__pyx_t_5));
        __Pyx_GIVEREF(((PyObject *)__pyx_t_5));
        __pyx_t_6 = 0;
        __pyx_t_5 = 0;
        __pyx_t_5 = PyObject_Call(__pyx_t_4, __pyx_t_1, NULL); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 506; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_5);
        __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
        __Pyx_DECREF(__pyx_v_dat);
        __pyx_v_dat = __pyx_t_5;
        __pyx_t_5 = 0;

        /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":507
 *                     # of arrays.
 *                     dat = Variable.__getitem__(self._recVar[n],tuple(newSlice))
 *                     if hasattr(dat,'mask') and not ismasked:             # <<<<<<<<<<<<<<
 *                         ismasked=True
 *                         fill_value = dat.fill_value
 */
        __pyx_t_10 = PyObject_HasAttr(__pyx_v_dat, ((PyObject *)__pyx_n_s__mask)); if (unlikely(__pyx_t_10 == -1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 507; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        if (__pyx_t_10) {
          __pyx_t_8 = (!__pyx_v_ismasked);
          __pyx_t_9 = __pyx_t_8;
        } else {
          __pyx_t_9 = __pyx_t_10;
        }
        if (__pyx_t_9) {

          /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":508
 *                     dat = Variable.__getitem__(self._recVar[n],tuple(newSlice))
 *                     if hasattr(dat,'mask') and not ismasked:
 *                         ismasked=True             # <<<<<<<<<<<<<<
 *                         fill_value = dat.fill_value
 *                     lstArr.append(dat)
 */
          __pyx_v_ismasked = 1;

          /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":509
 *                     if hasattr(dat,'mask') and not ismasked:
 *                         ismasked=True
 *                         fill_value = dat.fill_value             # <<<<<<<<<<<<<<
 *                     lstArr.append(dat)
 *             if ismasked:
 */
          __pyx_t_5 = PyObject_GetAttr(__pyx_v_dat, __pyx_n_s__fill_value); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 509; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
          __Pyx_GOTREF(__pyx_t_5);
          __Pyx_DECREF(__pyx_v_fill_value);
          __pyx_v_fill_value = __pyx_t_5;
          __pyx_t_5 = 0;
          goto __pyx_L24;
        }
        __pyx_L24:;

        /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":510
 *                         ismasked=True
 *                         fill_value = dat.fill_value
 *                     lstArr.append(dat)             # <<<<<<<<<<<<<<
 *             if ismasked:
 *                 lstArr = ma.concatenate(lstArr)
 */
        __pyx_t_5 = __Pyx_PyObject_Append(__pyx_v_lstArr, __pyx_v_dat); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 510; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_5);
        __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
        goto __pyx_L23;
      }
      __pyx_L23:;
    }
    __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":511
 *                         fill_value = dat.fill_value
 *                     lstArr.append(dat)
 *             if ismasked:             # <<<<<<<<<<<<<<
 *                 lstArr = ma.concatenate(lstArr)
 *                 data = ma.empty(data.shape, data.dtype)
 */
    if (__pyx_v_ismasked) {

      /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":512
 *                     lstArr.append(dat)
 *             if ismasked:
 *                 lstArr = ma.concatenate(lstArr)             # <<<<<<<<<<<<<<
 *                 data = ma.empty(data.shape, data.dtype)
 *                 data.fill_value = fill_value
 */
      __pyx_t_11 = __Pyx_GetName(__pyx_m, __pyx_n_s__ma); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 512; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_11);
      __pyx_t_5 = PyObject_GetAttr(__pyx_t_11, __pyx_n_s__concatenate); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 512; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
      __pyx_t_11 = PyTuple_New(1); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 512; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_11);
      __Pyx_INCREF(__pyx_v_lstArr);
      PyTuple_SET_ITEM(__pyx_t_11, 0, __pyx_v_lstArr);
      __Pyx_GIVEREF(__pyx_v_lstArr);
      __pyx_t_1 = PyObject_Call(__pyx_t_5, __pyx_t_11, NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 512; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
      __Pyx_DECREF(__pyx_v_lstArr);
      __pyx_v_lstArr = __pyx_t_1;
      __pyx_t_1 = 0;

      /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":513
 *             if ismasked:
 *                 lstArr = ma.concatenate(lstArr)
 *                 data = ma.empty(data.shape, data.dtype)             # <<<<<<<<<<<<<<
 *                 data.fill_value = fill_value
 *             else:
 */
      __pyx_t_1 = __Pyx_GetName(__pyx_m, __pyx_n_s__ma); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 513; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      __pyx_t_11 = PyObject_GetAttr(__pyx_t_1, __pyx_n_s__empty); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 513; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_11);
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __pyx_t_1 = PyObject_GetAttr(__pyx_v_data, __pyx_n_s__shape); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 513; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_1);
      __pyx_t_5 = PyObject_GetAttr(__pyx_v_data, __pyx_n_s__dtype); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 513; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_5);
      __pyx_t_4 = PyTuple_New(2); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 513; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_1);
      __Pyx_GIVEREF(__pyx_t_1);
      PyTuple_SET_ITEM(__pyx_t_4, 1, __pyx_t_5);
      __Pyx_GIVEREF(__pyx_t_5);
      __pyx_t_1 = 0;
      __pyx_t_5 = 0;
      __pyx_t_5 = PyObject_Call(__pyx_t_11, __pyx_t_4, NULL); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 513; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __Pyx_DECREF(__pyx_v_data);
      __pyx_v_data = __pyx_t_5;
      __pyx_t_5 = 0;

      /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":514
 *                 lstArr = ma.concatenate(lstArr)
 *                 data = ma.empty(data.shape, data.dtype)
 *                 data.fill_value = fill_value             # <<<<<<<<<<<<<<
 *             else:
 *                 lstArr = numpy.concatenate(lstArr)
 */
      if (PyObject_SetAttr(__pyx_v_data, __pyx_n_s__fill_value, __pyx_v_fill_value) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 514; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      goto __pyx_L25;
    }
    /*else*/ {

      /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":516
 *                 data.fill_value = fill_value
 *             else:
 *                 lstArr = numpy.concatenate(lstArr)             # <<<<<<<<<<<<<<
 *             if lstArr.dtype != data.dtype: data = data.astype(lstArr.dtype)
 *             # sometimes there are legitimate singleton dimensions, in which
 */
      __pyx_t_5 = __Pyx_GetName(__pyx_m, __pyx_n_s__numpy); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 516; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_5);
      __pyx_t_4 = PyObject_GetAttr(__pyx_t_5, __pyx_n_s__concatenate); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 516; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __pyx_t_5 = PyTuple_New(1); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 516; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_INCREF(__pyx_v_lstArr);
      PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_v_lstArr);
      __Pyx_GIVEREF(__pyx_v_lstArr);
      __pyx_t_11 = PyObject_Call(__pyx_t_4, __pyx_t_5, NULL); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 516; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_11);
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __Pyx_DECREF(__pyx_v_lstArr);
      __pyx_v_lstArr = __pyx_t_11;
      __pyx_t_11 = 0;
    }
    __pyx_L25:;

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":517
 *             else:
 *                 lstArr = numpy.concatenate(lstArr)
 *             if lstArr.dtype != data.dtype: data = data.astype(lstArr.dtype)             # <<<<<<<<<<<<<<
 *             # sometimes there are legitimate singleton dimensions, in which
 *             # case the array shapes won't conform. If so, a ValueError will
 */
    __pyx_t_11 = PyObject_GetAttr(__pyx_v_lstArr, __pyx_n_s__dtype); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 517; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_11);
    __pyx_t_5 = PyObject_GetAttr(__pyx_v_data, __pyx_n_s__dtype); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 517; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_5);
    __pyx_t_4 = PyObject_RichCompare(__pyx_t_11, __pyx_t_5, Py_NE); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 517; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    __pyx_t_9 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely(__pyx_t_9 < 0)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 517; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    if (__pyx_t_9) {
      __pyx_t_4 = PyObject_GetAttr(__pyx_v_data, __pyx_n_s__astype); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 517; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      __pyx_t_5 = PyObject_GetAttr(__pyx_v_lstArr, __pyx_n_s__dtype); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 517; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_5);
      __pyx_t_11 = PyTuple_New(1); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 517; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_11);
      PyTuple_SET_ITEM(__pyx_t_11, 0, __pyx_t_5);
      __Pyx_GIVEREF(__pyx_t_5);
      __pyx_t_5 = 0;
      __pyx_t_5 = PyObject_Call(__pyx_t_4, __pyx_t_11, NULL); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 517; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
      __Pyx_DECREF(__pyx_v_data);
      __pyx_v_data = __pyx_t_5;
      __pyx_t_5 = 0;
      goto __pyx_L26;
    }
    __pyx_L26:;

    /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":521
 *             # case the array shapes won't conform. If so, a ValueError will
 *             # result, and no squeeze will be done.
 *             try:             # <<<<<<<<<<<<<<
 *                 data[tuple(ind)] = lstArr.squeeze()
 *             except ValueError:
 */
    {
      PyObject *__pyx_save_exc_type, *__pyx_save_exc_value, *__pyx_save_exc_tb;
      __Pyx_ExceptionSave(&__pyx_save_exc_type, &__pyx_save_exc_value, &__pyx_save_exc_tb);
      __Pyx_XGOTREF(__pyx_save_exc_type);
      __Pyx_XGOTREF(__pyx_save_exc_value);
      __Pyx_XGOTREF(__pyx_save_exc_tb);
      /*try:*/ {

        /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":522
 *             # result, and no squeeze will be done.
 *             try:
 *                 data[tuple(ind)] = lstArr.squeeze()             # <<<<<<<<<<<<<<
 *             except ValueError:
 *                 data[tuple(ind)] = lstArr
 */
        __pyx_t_5 = PyObject_GetAttr(__pyx_v_lstArr, __pyx_n_s__squeeze); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 522; __pyx_clineno = __LINE__; goto __pyx_L27_error;}
        __Pyx_GOTREF(__pyx_t_5);
        __pyx_t_11 = PyObject_Call(__pyx_t_5, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_11)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 522; __pyx_clineno = __LINE__; goto __pyx_L27_error;}
        __Pyx_GOTREF(__pyx_t_11);
        __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
        __pyx_t_5 = PyTuple_New(1); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 522; __pyx_clineno = __LINE__; goto __pyx_L27_error;}
        __Pyx_GOTREF(__pyx_t_5);
        __Pyx_INCREF(__pyx_v_ind);
        PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_v_ind);
        __Pyx_GIVEREF(__pyx_v_ind);
        __pyx_t_4 = PyObject_Call(((PyObject *)((PyObject*)&PyTuple_Type)), __pyx_t_5, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 522; __pyx_clineno = __LINE__; goto __pyx_L27_error;}
        __Pyx_GOTREF(__pyx_t_4);
        __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
        if (PyObject_SetItem(__pyx_v_data, __pyx_t_4, __pyx_t_11) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 522; __pyx_clineno = __LINE__; goto __pyx_L27_error;}
        __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
        __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
      }
      __Pyx_XDECREF(__pyx_save_exc_type); __pyx_save_exc_type = 0;
      __Pyx_XDECREF(__pyx_save_exc_value); __pyx_save_exc_value = 0;
      __Pyx_XDECREF(__pyx_save_exc_tb); __pyx_save_exc_tb = 0;
      goto __pyx_L34_try_end;
      __pyx_L27_error:;
      __Pyx_XDECREF(__pyx_t_15); __pyx_t_15 = 0;
      __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
      __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;
      __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
      __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
      __Pyx_XDECREF(__pyx_t_11); __pyx_t_11 = 0;

      /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":523
 *             try:
 *                 data[tuple(ind)] = lstArr.squeeze()
 *             except ValueError:             # <<<<<<<<<<<<<<
 *                 data[tuple(ind)] = lstArr
 * 
 */
      __pyx_t_14 = PyErr_ExceptionMatches(__pyx_builtin_ValueError);
      if (__pyx_t_14) {
        __Pyx_AddTraceback("netCDF3._Variable.__getitem__");
        if (__Pyx_GetException(&__pyx_t_11, &__pyx_t_4, &__pyx_t_5) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 523; __pyx_clineno = __LINE__; goto __pyx_L29_except_error;}
        __Pyx_GOTREF(__pyx_t_11);
        __Pyx_GOTREF(__pyx_t_4);
        __Pyx_GOTREF(__pyx_t_5);

        /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":524
 *                 data[tuple(ind)] = lstArr.squeeze()
 *             except ValueError:
 *                 data[tuple(ind)] = lstArr             # <<<<<<<<<<<<<<
 * 
 *         # Remove extra singleton dimensions.
 */
        __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 524; __pyx_clineno = __LINE__; goto __pyx_L29_except_error;}
        __Pyx_GOTREF(__pyx_t_1);
        __Pyx_INCREF(__pyx_v_ind);
        PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v_ind);
        __Pyx_GIVEREF(__pyx_v_ind);
        __pyx_t_6 = PyObject_Call(((PyObject *)((PyObject*)&PyTuple_Type)), __pyx_t_1, NULL); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 524; __pyx_clineno = __LINE__; goto __pyx_L29_except_error;}
        __Pyx_GOTREF(__pyx_t_6);
        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
        if (PyObject_SetItem(__pyx_v_data, __pyx_t_6, __pyx_v_lstArr) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 524; __pyx_clineno = __LINE__; goto __pyx_L29_except_error;}
        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
        __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
        __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
        __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
        goto __pyx_L28_exception_handled;
      }
      __pyx_L29_except_error:;
      __Pyx_XGIVEREF(__pyx_save_exc_type);
      __Pyx_XGIVEREF(__pyx_save_exc_value);
      __Pyx_XGIVEREF(__pyx_save_exc_tb);
      __Pyx_ExceptionReset(__pyx_save_exc_type, __pyx_save_exc_value, __pyx_save_exc_tb);
      goto __pyx_L1_error;
      __pyx_L28_exception_handled:;
      __Pyx_XGIVEREF(__pyx_save_exc_type);
      __Pyx_XGIVEREF(__pyx_save_exc_value);
      __Pyx_XGIVEREF(__pyx_save_exc_tb);
      __Pyx_ExceptionReset(__pyx_save_exc_type, __pyx_save_exc_value, __pyx_save_exc_tb);
      __pyx_L34_try_end:;
    }
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":527
 * 
 *         # Remove extra singleton dimensions.
 *         data = data[tuple(squeeze)]             # <<<<<<<<<<<<<<
 * 
 *         return data
 */
  __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 527; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_INCREF(__pyx_v_squeeze);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_squeeze);
  __Pyx_GIVEREF(__pyx_v_squeeze);
  __pyx_t_5 = PyObject_Call(((PyObject *)((PyObject*)&PyTuple_Type)), __pyx_t_2, NULL); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 527; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = PyObject_GetItem(__pyx_v_data, __pyx_t_5); if (!__pyx_t_2) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 527; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __Pyx_DECREF(__pyx_v_data);
  __pyx_v_data = __pyx_t_2;
  __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":529
 *         data = data[tuple(squeeze)]
 * 
 *         return data             # <<<<<<<<<<<<<<
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(__pyx_v_data);
  __pyx_r = __pyx_v_data;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_XDECREF(__pyx_t_11);
  __Pyx_XDECREF(__pyx_t_15);
  __Pyx_AddTraceback("netCDF3._Variable.__getitem__");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_start);
  __Pyx_DECREF(__pyx_v_count);
  __Pyx_DECREF(__pyx_v_stride);
  __Pyx_DECREF(__pyx_v_put_ind);
  __Pyx_DECREF(__pyx_v_datashape);
  __Pyx_DECREF(__pyx_v_data);
  __Pyx_DECREF(__pyx_v_squeeze);
  __Pyx_DECREF(__pyx_v_i);
  __Pyx_DECREF(__pyx_v_n);
  __Pyx_DECREF(__pyx_v_strt);
  __Pyx_DECREF(__pyx_v_cnt);
  __Pyx_DECREF(__pyx_v_strd);
  __Pyx_DECREF(__pyx_v_ind);
  __Pyx_DECREF(__pyx_v_sta);
  __Pyx_DECREF(__pyx_v_step);
  __Pyx_DECREF(__pyx_v_stop);
  __Pyx_DECREF(__pyx_v_idx);
  __Pyx_DECREF(__pyx_v_vid);
  __Pyx_DECREF(__pyx_v_k);
  __Pyx_DECREF(__pyx_v_lst);
  __Pyx_DECREF(__pyx_v_newSlice);
  __Pyx_DECREF(__pyx_v_s);
  __Pyx_DECREF(__pyx_v_lstArr);
  __Pyx_DECREF(__pyx_v_dat);
  __Pyx_DECREF(__pyx_v_fill_value);
  __Pyx_DECREF(__pyx_v_numv);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

static PyObject *__pyx_tp_new_7netCDF3_Dataset(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_7netCDF3_Dataset *p;
  PyObject *o = (*t->tp_alloc)(t, 0);
  if (!o) return 0;
  p = ((struct __pyx_obj_7netCDF3_Dataset *)o);
  p->dimensions = Py_None; Py_INCREF(Py_None);
  p->variables = Py_None; Py_INCREF(Py_None);
  p->file_format = Py_None; Py_INCREF(Py_None);
  p->maskanscale = Py_None; Py_INCREF(Py_None);
  return o;
}

static void __pyx_tp_dealloc_7netCDF3_Dataset(PyObject *o) {
  struct __pyx_obj_7netCDF3_Dataset *p = (struct __pyx_obj_7netCDF3_Dataset *)o;
  Py_XDECREF(p->dimensions);
  Py_XDECREF(p->variables);
  Py_XDECREF(p->file_format);
  Py_XDECREF(p->maskanscale);
  (*Py_TYPE(o)->tp_free)(o);
}

static int __pyx_tp_traverse_7netCDF3_Dataset(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_7netCDF3_Dataset *p = (struct __pyx_obj_7netCDF3_Dataset *)o;
  if (p->dimensions) {
    e = (*v)(p->dimensions, a); if (e) return e;
  }
  if (p->variables) {
    e = (*v)(p->variables, a); if (e) return e;
  }
  if (p->file_format) {
    e = (*v)(p->file_format, a); if (e) return e;
  }
  if (p->maskanscale) {
    e = (*v)(p->maskanscale, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_7netCDF3_Dataset(PyObject *o) {
  struct __pyx_obj_7netCDF3_Dataset *p = (struct __pyx_obj_7netCDF3_Dataset *)o;
  PyObject* tmp;
  tmp = ((PyObject*)p->dimensions);
  p->dimensions = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->variables);
  p->variables = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->file_format);
  p->file_format = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->maskanscale);
  p->maskanscale = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  return 0;
}

static PyObject *__pyx_tp_getattro_7netCDF3_Dataset(PyObject *o, PyObject *n) {
  PyObject *v = PyObject_GenericGetAttr(o, n);
  if (!v && PyErr_ExceptionMatches(PyExc_AttributeError)) {
    PyErr_Clear();
    v = __pyx_pf_7netCDF3_7Dataset___getattr__(o, n);
  }
  return v;
}

static int __pyx_tp_setattro_7netCDF3_Dataset(PyObject *o, PyObject *n, PyObject *v) {
  if (v) {
    return __pyx_pf_7netCDF3_7Dataset___setattr__(o, n, v);
  }
  else {
    return __pyx_pf_7netCDF3_7Dataset___delattr__(o, n);
  }
}

static PyObject *__pyx_getprop_7netCDF3_7Dataset__grpid(PyObject *o, void *x) {
  return __pyx_pf_7netCDF3_7Dataset_6_grpid___get__(o);
}

static int __pyx_setprop_7netCDF3_7Dataset__grpid(PyObject *o, PyObject *v, void *x) {
  if (v) {
    return __pyx_pf_7netCDF3_7Dataset_6_grpid___set__(o, v);
  }
  else {
    PyErr_SetString(PyExc_NotImplementedError, "__del__");
    return -1;
  }
}

static PyObject *__pyx_getprop_7netCDF3_7Dataset_dimensions(PyObject *o, void *x) {
  return __pyx_pf_7netCDF3_7Dataset_10dimensions___get__(o);
}

static int __pyx_setprop_7netCDF3_7Dataset_dimensions(PyObject *o, PyObject *v, void *x) {
  if (v) {
    return __pyx_pf_7netCDF3_7Dataset_10dimensions___set__(o, v);
  }
  else {
    return __pyx_pf_7netCDF3_7Dataset_10dimensions___del__(o);
  }
}

static PyObject *__pyx_getprop_7netCDF3_7Dataset_variables(PyObject *o, void *x) {
  return __pyx_pf_7netCDF3_7Dataset_9variables___get__(o);
}

static int __pyx_setprop_7netCDF3_7Dataset_variables(PyObject *o, PyObject *v, void *x) {
  if (v) {
    return __pyx_pf_7netCDF3_7Dataset_9variables___set__(o, v);
  }
  else {
    return __pyx_pf_7netCDF3_7Dataset_9variables___del__(o);
  }
}

static PyObject *__pyx_getprop_7netCDF3_7Dataset_file_format(PyObject *o, void *x) {
  return __pyx_pf_7netCDF3_7Dataset_11file_format___get__(o);
}

static int __pyx_setprop_7netCDF3_7Dataset_file_format(PyObject *o, PyObject *v, void *x) {
  if (v) {
    return __pyx_pf_7netCDF3_7Dataset_11file_format___set__(o, v);
  }
  else {
    return __pyx_pf_7netCDF3_7Dataset_11file_format___del__(o);
  }
}

static PyObject *__pyx_getprop_7netCDF3_7Dataset_maskanscale(PyObject *o, void *x) {
  return __pyx_pf_7netCDF3_7Dataset_11maskanscale___get__(o);
}

static int __pyx_setprop_7netCDF3_7Dataset_maskanscale(PyObject *o, PyObject *v, void *x) {
  if (v) {
    return __pyx_pf_7netCDF3_7Dataset_11maskanscale___set__(o, v);
  }
  else {
    return __pyx_pf_7netCDF3_7Dataset_11maskanscale___del__(o);
  }
}

static PyMethodDef __pyx_methods_7netCDF3_Dataset[] = {
  {__Pyx_NAMESTR("close"), (PyCFunction)__pyx_pf_7netCDF3_7Dataset_close, METH_NOARGS, __Pyx_DOCSTR(__pyx_doc_7netCDF3_7Dataset_close)},
  {__Pyx_NAMESTR("sync"), (PyCFunction)__pyx_pf_7netCDF3_7Dataset_sync, METH_NOARGS, __Pyx_DOCSTR(__pyx_doc_7netCDF3_7Dataset_sync)},
  {__Pyx_NAMESTR("_redef"), (PyCFunction)__pyx_pf_7netCDF3_7Dataset__redef, METH_NOARGS, __Pyx_DOCSTR(0)},
  {__Pyx_NAMESTR("_enddef"), (PyCFunction)__pyx_pf_7netCDF3_7Dataset__enddef, METH_NOARGS, __Pyx_DOCSTR(0)},
  {__Pyx_NAMESTR("set_fill_on"), (PyCFunction)__pyx_pf_7netCDF3_7Dataset_set_fill_on, METH_NOARGS, __Pyx_DOCSTR(__pyx_doc_7netCDF3_7Dataset_set_fill_on)},
  {__Pyx_NAMESTR("set_fill_off"), (PyCFunction)__pyx_pf_7netCDF3_7Dataset_set_fill_off, METH_NOARGS, __Pyx_DOCSTR(__pyx_doc_7netCDF3_7Dataset_set_fill_off)},
  {__Pyx_NAMESTR("createDimension"), (PyCFunction)__pyx_pf_7netCDF3_7Dataset_createDimension, METH_VARARGS|METH_KEYWORDS, __Pyx_DOCSTR(__pyx_doc_7netCDF3_7Dataset_createDimension)},
  {__Pyx_NAMESTR("renameDimension"), (PyCFunction)__pyx_pf_7netCDF3_7Dataset_renameDimension, METH_VARARGS|METH_KEYWORDS, __Pyx_DOCSTR(__pyx_doc_7netCDF3_7Dataset_renameDimension)},
  {__Pyx_NAMESTR("createVariable"), (PyCFunction)__pyx_pf_7netCDF3_7Dataset_createVariable, METH_VARARGS|METH_KEYWORDS, __Pyx_DOCSTR(__pyx_doc_7netCDF3_7Dataset_createVariable)},
  {__Pyx_NAMESTR("renameVariable"), (PyCFunction)__pyx_pf_7netCDF3_7Dataset_renameVariable, METH_VARARGS|METH_KEYWORDS, __Pyx_DOCSTR(__pyx_doc_7netCDF3_7Dataset_renameVariable)},
  {__Pyx_NAMESTR("ncattrs"), (PyCFunction)__pyx_pf_7netCDF3_7Dataset_ncattrs, METH_NOARGS, __Pyx_DOCSTR(__pyx_doc_7netCDF3_7Dataset_ncattrs)},
  {__Pyx_NAMESTR("setncattr"), (PyCFunction)__pyx_pf_7netCDF3_7Dataset_setncattr, METH_VARARGS|METH_KEYWORDS, __Pyx_DOCSTR(__pyx_doc_7netCDF3_7Dataset_setncattr)},
  {__Pyx_NAMESTR("getncattr"), (PyCFunction)__pyx_pf_7netCDF3_7Dataset_getncattr, METH_O, __Pyx_DOCSTR(__pyx_doc_7netCDF3_7Dataset_getncattr)},
  {__Pyx_NAMESTR("delncattr"), (PyCFunction)__pyx_pf_7netCDF3_7Dataset_delncattr, METH_O, __Pyx_DOCSTR(__pyx_doc_7netCDF3_7Dataset_delncattr)},
  {__Pyx_NAMESTR("__getattr__"), (PyCFunction)__pyx_pf_7netCDF3_7Dataset___getattr__, METH_O|METH_COEXIST, __Pyx_DOCSTR(0)},
  {0, 0, 0, 0}
};

static struct PyGetSetDef __pyx_getsets_7netCDF3_Dataset[] = {
  {(char *)"_grpid", __pyx_getprop_7netCDF3_7Dataset__grpid, __pyx_setprop_7netCDF3_7Dataset__grpid, 0, 0},
  {(char *)"dimensions", __pyx_getprop_7netCDF3_7Dataset_dimensions, __pyx_setprop_7netCDF3_7Dataset_dimensions, 0, 0},
  {(char *)"variables", __pyx_getprop_7netCDF3_7Dataset_variables, __pyx_setprop_7netCDF3_7Dataset_variables, 0, 0},
  {(char *)"file_format", __pyx_getprop_7netCDF3_7Dataset_file_format, __pyx_setprop_7netCDF3_7Dataset_file_format, 0, 0},
  {(char *)"maskanscale", __pyx_getprop_7netCDF3_7Dataset_maskanscale, __pyx_setprop_7netCDF3_7Dataset_maskanscale, 0, 0},
  {0, 0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Dataset = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_long*/
  #else
  0, /*reserved*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if PY_VERSION_HEX >= 0x02050000
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Dataset = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Dataset = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Dataset = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_7netCDF3_Dataset = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("netCDF3.Dataset"), /*tp_name*/
  sizeof(struct __pyx_obj_7netCDF3_Dataset), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_7netCDF3_Dataset, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  #if PY_MAJOR_VERSION < 3
  0, /*tp_compare*/
  #else
  0, /*reserved*/
  #endif
  0, /*tp_repr*/
  &__pyx_tp_as_number_Dataset, /*tp_as_number*/
  &__pyx_tp_as_sequence_Dataset, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Dataset, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  __pyx_tp_getattro_7netCDF3_Dataset, /*tp_getattro*/
  __pyx_tp_setattro_7netCDF3_Dataset, /*tp_setattro*/
  &__pyx_tp_as_buffer_Dataset, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  __Pyx_DOCSTR("\nDataset(self, filename, mode=\"r\", clobber=True, format='NETCDF3_64BIT')\n\nA netCDF L{Dataset} is a collection of dimensions, variables and \nattributes. Together they describe the meaning of data and relations among \ndata fields stored in a netCDF file.\n\nB{Parameters:}\n\nB{C{filename}} - Name of netCDF file to hold dataset.\n\nB{Keywords}:\n\nB{C{mode}} - access mode. C{r} means read-only; no data can be\nmodified. C{w} means write; a new file is created, an existing file with\nthe same name is deleted. C{a} and C{r+} mean append (in analogy with\nserial files); an existing file is opened for reading and writing.\nAppending C{s} to modes C{w}, C{r+} or C{a} will enable unbuffered shared\naccess.  Unbuffered acesss may be useful even if you don't need shared \naccess, since it may be faster for programs that don't access data\nsequentially.\n\nB{C{clobber}} - if C{True} (default), opening a file with C{mode='w'}\nwill clobber an existing file with the same name.  if C{False}, an\nexception will be raised if a file with the same name already exists.\n\nB{C{format}} - underlying file format (either C{'NETCDF3_64BIT'} \nor C{'NETCDF3_CLASSIC'}.  Only \nrelevant if C{mode = 'w'} (if C{mode = 'r','a'} or C{'r+'} the file format \nis automatically detected). Default C{'NETCDF3_64BIT'} (the 64-bit offset\nversion of the netCDF 3 file format, which fully supports 2+ GB files)).\nC{'NETCDF3_CLASSIC'} is the classic netCDF 3 file format that does not \nhandle 2+ Gb files very well.\n\nB{Returns:}\n\na L{Dataset} instance.  All further operations on the netCDF\nDataset are accomplised via L{Dataset} instance methods.\n\nA list of attribute names corresponding to global netCDF attributes \ndefined for the L{Dataset} can be obtained with the L{ncattrs()} method. \nThese attributes can be created by assigning to an attribute of the \nL{Dataset} instance. A dictionary containing all the netCDF attribute\nname/value pairs is provided by the C{__dict__} attribute of a\nL{Dataset} instance.\n\nThe instance variables C{dimensions, variables,\nfile_format} and C{path} are read-only (and should not be modified by the \nuser).\n\n@ivar dimensions: The C{dimensions} dictionary maps the names of \ndimensions defined for the L{Dataset} to instances of the \nL{Dimension} class.\n\n@ivar variables: The C{variables} dictionary maps the names of variables \ndefined for this L{Dataset} to instances of the L{Variable} \nclass.\n\n@ivar file_format: The C{file_format} attribute describes the netCDF\nfile format version, either C{NETCDF3_CLASSIC} or\nor C{NETCDF3_64BIT}."), /*tp_doc*/
  __pyx_tp_traverse_7netCDF3_Dataset, /*tp_traverse*/
  __pyx_tp_clear_7netCDF3_Dataset, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_7netCDF3_Dataset, /*tp_methods*/
  0, /*tp_members*/
  __pyx_getsets_7netCDF3_Dataset, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  __pyx_pf_7netCDF3_7Dataset___init__, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_7netCDF3_Dataset, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  #if PY_VERSION_HEX >= 0x02060000
  0, /*tp_version_tag*/
  #endif
};

static PyObject *__pyx_tp_new_7netCDF3_Dimension(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_7netCDF3_Dimension *p;
  PyObject *o = (*t->tp_alloc)(t, 0);
  if (!o) return 0;
  p = ((struct __pyx_obj_7netCDF3_Dimension *)o);
  p->_file_format = Py_None; Py_INCREF(Py_None);
  return o;
}

static void __pyx_tp_dealloc_7netCDF3_Dimension(PyObject *o) {
  struct __pyx_obj_7netCDF3_Dimension *p = (struct __pyx_obj_7netCDF3_Dimension *)o;
  Py_XDECREF(p->_file_format);
  (*Py_TYPE(o)->tp_free)(o);
}

static int __pyx_tp_traverse_7netCDF3_Dimension(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_7netCDF3_Dimension *p = (struct __pyx_obj_7netCDF3_Dimension *)o;
  if (p->_file_format) {
    e = (*v)(p->_file_format, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_7netCDF3_Dimension(PyObject *o) {
  struct __pyx_obj_7netCDF3_Dimension *p = (struct __pyx_obj_7netCDF3_Dimension *)o;
  PyObject* tmp;
  tmp = ((PyObject*)p->_file_format);
  p->_file_format = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  return 0;
}

static PyObject *__pyx_getprop_7netCDF3_9Dimension__dimid(PyObject *o, void *x) {
  return __pyx_pf_7netCDF3_9Dimension_6_dimid___get__(o);
}

static int __pyx_setprop_7netCDF3_9Dimension__dimid(PyObject *o, PyObject *v, void *x) {
  if (v) {
    return __pyx_pf_7netCDF3_9Dimension_6_dimid___set__(o, v);
  }
  else {
    PyErr_SetString(PyExc_NotImplementedError, "__del__");
    return -1;
  }
}

static PyObject *__pyx_getprop_7netCDF3_9Dimension__grpid(PyObject *o, void *x) {
  return __pyx_pf_7netCDF3_9Dimension_6_grpid___get__(o);
}

static int __pyx_setprop_7netCDF3_9Dimension__grpid(PyObject *o, PyObject *v, void *x) {
  if (v) {
    return __pyx_pf_7netCDF3_9Dimension_6_grpid___set__(o, v);
  }
  else {
    PyErr_SetString(PyExc_NotImplementedError, "__del__");
    return -1;
  }
}

static PyObject *__pyx_getprop_7netCDF3_9Dimension__file_format(PyObject *o, void *x) {
  return __pyx_pf_7netCDF3_9Dimension_12_file_format___get__(o);
}

static int __pyx_setprop_7netCDF3_9Dimension__file_format(PyObject *o, PyObject *v, void *x) {
  if (v) {
    return __pyx_pf_7netCDF3_9Dimension_12_file_format___set__(o, v);
  }
  else {
    return __pyx_pf_7netCDF3_9Dimension_12_file_format___del__(o);
  }
}

static PyMethodDef __pyx_methods_7netCDF3_Dimension[] = {
  {__Pyx_NAMESTR("isunlimited"), (PyCFunction)__pyx_pf_7netCDF3_9Dimension_isunlimited, METH_NOARGS, __Pyx_DOCSTR(__pyx_doc_7netCDF3_9Dimension_isunlimited)},
  {0, 0, 0, 0}
};

static struct PyGetSetDef __pyx_getsets_7netCDF3_Dimension[] = {
  {(char *)"_dimid", __pyx_getprop_7netCDF3_9Dimension__dimid, __pyx_setprop_7netCDF3_9Dimension__dimid, 0, 0},
  {(char *)"_grpid", __pyx_getprop_7netCDF3_9Dimension__grpid, __pyx_setprop_7netCDF3_9Dimension__grpid, 0, 0},
  {(char *)"_file_format", __pyx_getprop_7netCDF3_9Dimension__file_format, __pyx_setprop_7netCDF3_9Dimension__file_format, 0, 0},
  {0, 0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Dimension = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_long*/
  #else
  0, /*reserved*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if PY_VERSION_HEX >= 0x02050000
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Dimension = {
  __pyx_pf_7netCDF3_9Dimension___len__, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Dimension = {
  __pyx_pf_7netCDF3_9Dimension___len__, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Dimension = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_7netCDF3_Dimension = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("netCDF3.Dimension"), /*tp_name*/
  sizeof(struct __pyx_obj_7netCDF3_Dimension), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_7netCDF3_Dimension, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  #if PY_MAJOR_VERSION < 3
  0, /*tp_compare*/
  #else
  0, /*reserved*/
  #endif
  0, /*tp_repr*/
  &__pyx_tp_as_number_Dimension, /*tp_as_number*/
  &__pyx_tp_as_sequence_Dimension, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Dimension, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Dimension, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  __Pyx_DOCSTR("\nDimension(self, dset, name, size=None)\n\nA netCDF L{Dimension} is used to describe the coordinates of a L{Variable}.\n\nL{Dimension} instances should be created using the\nL{createDimension<Dataset.createDimension>} method of a \nL{Dataset} instance, not using this class directly.\n\nB{Parameters:}\n\nB{C{dset}}  - Dataset instance.\n\nB{C{name}}  - Name of the dimension.\n\nB{Keywords:}\n\nB{C{size}}  - Size of the dimension. C{None} or 0 means unlimited. (Default C{None}).\n\nB{Returns:}\n\na L{Dimension} instance.  All further operations on the netCDF Dimension \nare accomplised via L{Dimension} instance methods.\n\nThe current maximum size of a L{Dimension} instance can be obtained by\ncalling the python C{len} function on the L{Dimension} instance. The\nC{isunlimited()} method of a L{Dimension} instance can be used to\ndetermine if the dimension is unlimited"), /*tp_doc*/
  __pyx_tp_traverse_7netCDF3_Dimension, /*tp_traverse*/
  __pyx_tp_clear_7netCDF3_Dimension, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_7netCDF3_Dimension, /*tp_methods*/
  0, /*tp_members*/
  __pyx_getsets_7netCDF3_Dimension, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  __pyx_pf_7netCDF3_9Dimension___init__, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_7netCDF3_Dimension, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  #if PY_VERSION_HEX >= 0x02060000
  0, /*tp_version_tag*/
  #endif
};

static PyObject *__pyx_tp_new_7netCDF3_Variable(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_7netCDF3_Variable *p;
  PyObject *o = (*t->tp_alloc)(t, 0);
  if (!o) return 0;
  p = ((struct __pyx_obj_7netCDF3_Variable *)o);
  p->_grp = Py_None; Py_INCREF(Py_None);
  p->ndim = Py_None; Py_INCREF(Py_None);
  p->dtype = Py_None; Py_INCREF(Py_None);
  p->maskandscale = Py_None; Py_INCREF(Py_None);
  return o;
}

static void __pyx_tp_dealloc_7netCDF3_Variable(PyObject *o) {
  struct __pyx_obj_7netCDF3_Variable *p = (struct __pyx_obj_7netCDF3_Variable *)o;
  Py_XDECREF(p->_grp);
  Py_XDECREF(p->ndim);
  Py_XDECREF(p->dtype);
  Py_XDECREF(p->maskandscale);
  (*Py_TYPE(o)->tp_free)(o);
}

static int __pyx_tp_traverse_7netCDF3_Variable(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_7netCDF3_Variable *p = (struct __pyx_obj_7netCDF3_Variable *)o;
  if (p->_grp) {
    e = (*v)(p->_grp, a); if (e) return e;
  }
  if (p->ndim) {
    e = (*v)(p->ndim, a); if (e) return e;
  }
  if (p->dtype) {
    e = (*v)(p->dtype, a); if (e) return e;
  }
  if (p->maskandscale) {
    e = (*v)(p->maskandscale, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_7netCDF3_Variable(PyObject *o) {
  struct __pyx_obj_7netCDF3_Variable *p = (struct __pyx_obj_7netCDF3_Variable *)o;
  PyObject* tmp;
  tmp = ((PyObject*)p->_grp);
  p->_grp = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->ndim);
  p->ndim = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->dtype);
  p->dtype = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->maskandscale);
  p->maskandscale = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  return 0;
}
static PyObject *__pyx_sq_item_7netCDF3_Variable(PyObject *o, Py_ssize_t i) {
  PyObject *r;
  PyObject *x = PyInt_FromSsize_t(i); if(!x) return 0;
  r = Py_TYPE(o)->tp_as_mapping->mp_subscript(o, x);
  Py_DECREF(x);
  return r;
}

static int __pyx_mp_ass_subscript_7netCDF3_Variable(PyObject *o, PyObject *i, PyObject *v) {
  if (v) {
    return __pyx_pf_7netCDF3_8Variable___setitem__(o, i, v);
  }
  else {
    PyErr_Format(PyExc_NotImplementedError,
      "Subscript deletion not supported by %s", Py_TYPE(o)->tp_name);
    return -1;
  }
}

static PyObject *__pyx_tp_getattro_7netCDF3_Variable(PyObject *o, PyObject *n) {
  PyObject *v = PyObject_GenericGetAttr(o, n);
  if (!v && PyErr_ExceptionMatches(PyExc_AttributeError)) {
    PyErr_Clear();
    v = __pyx_pf_7netCDF3_8Variable___getattr__(o, n);
  }
  return v;
}

static int __pyx_tp_setattro_7netCDF3_Variable(PyObject *o, PyObject *n, PyObject *v) {
  if (v) {
    return __pyx_pf_7netCDF3_8Variable___setattr__(o, n, v);
  }
  else {
    return __pyx_pf_7netCDF3_8Variable___delattr__(o, n);
  }
}

static PyObject *__pyx_getprop_7netCDF3_8Variable_shape(PyObject *o, void *x) {
  return __pyx_pf_7netCDF3_8Variable_5shape___get__(o);
}

static int __pyx_setprop_7netCDF3_8Variable_shape(PyObject *o, PyObject *v, void *x) {
  if (v) {
    return __pyx_pf_7netCDF3_8Variable_5shape___set__(o, v);
  }
  else {
    PyErr_SetString(PyExc_NotImplementedError, "__del__");
    return -1;
  }
}

static PyObject *__pyx_getprop_7netCDF3_8Variable_size(PyObject *o, void *x) {
  return __pyx_pf_7netCDF3_8Variable_4size___get__(o);
}

static PyObject *__pyx_getprop_7netCDF3_8Variable_dimensions(PyObject *o, void *x) {
  return __pyx_pf_7netCDF3_8Variable_10dimensions___get__(o);
}

static int __pyx_setprop_7netCDF3_8Variable_dimensions(PyObject *o, PyObject *v, void *x) {
  if (v) {
    return __pyx_pf_7netCDF3_8Variable_10dimensions___set__(o, v);
  }
  else {
    PyErr_SetString(PyExc_NotImplementedError, "__del__");
    return -1;
  }
}

static PyObject *__pyx_getprop_7netCDF3_8Variable__varid(PyObject *o, void *x) {
  return __pyx_pf_7netCDF3_8Variable_6_varid___get__(o);
}

static int __pyx_setprop_7netCDF3_8Variable__varid(PyObject *o, PyObject *v, void *x) {
  if (v) {
    return __pyx_pf_7netCDF3_8Variable_6_varid___set__(o, v);
  }
  else {
    PyErr_SetString(PyExc_NotImplementedError, "__del__");
    return -1;
  }
}

static PyObject *__pyx_getprop_7netCDF3_8Variable__grpid(PyObject *o, void *x) {
  return __pyx_pf_7netCDF3_8Variable_6_grpid___get__(o);
}

static int __pyx_setprop_7netCDF3_8Variable__grpid(PyObject *o, PyObject *v, void *x) {
  if (v) {
    return __pyx_pf_7netCDF3_8Variable_6_grpid___set__(o, v);
  }
  else {
    PyErr_SetString(PyExc_NotImplementedError, "__del__");
    return -1;
  }
}

static PyObject *__pyx_getprop_7netCDF3_8Variable__nunlimdim(PyObject *o, void *x) {
  return __pyx_pf_7netCDF3_8Variable_10_nunlimdim___get__(o);
}

static int __pyx_setprop_7netCDF3_8Variable__nunlimdim(PyObject *o, PyObject *v, void *x) {
  if (v) {
    return __pyx_pf_7netCDF3_8Variable_10_nunlimdim___set__(o, v);
  }
  else {
    PyErr_SetString(PyExc_NotImplementedError, "__del__");
    return -1;
  }
}

static PyObject *__pyx_getprop_7netCDF3_8Variable_ndim(PyObject *o, void *x) {
  return __pyx_pf_7netCDF3_8Variable_4ndim___get__(o);
}

static int __pyx_setprop_7netCDF3_8Variable_ndim(PyObject *o, PyObject *v, void *x) {
  if (v) {
    return __pyx_pf_7netCDF3_8Variable_4ndim___set__(o, v);
  }
  else {
    return __pyx_pf_7netCDF3_8Variable_4ndim___del__(o);
  }
}

static PyObject *__pyx_getprop_7netCDF3_8Variable_dtype(PyObject *o, void *x) {
  return __pyx_pf_7netCDF3_8Variable_5dtype___get__(o);
}

static int __pyx_setprop_7netCDF3_8Variable_dtype(PyObject *o, PyObject *v, void *x) {
  if (v) {
    return __pyx_pf_7netCDF3_8Variable_5dtype___set__(o, v);
  }
  else {
    return __pyx_pf_7netCDF3_8Variable_5dtype___del__(o);
  }
}

static PyObject *__pyx_getprop_7netCDF3_8Variable_maskandscale(PyObject *o, void *x) {
  return __pyx_pf_7netCDF3_8Variable_12maskandscale___get__(o);
}

static int __pyx_setprop_7netCDF3_8Variable_maskandscale(PyObject *o, PyObject *v, void *x) {
  if (v) {
    return __pyx_pf_7netCDF3_8Variable_12maskandscale___set__(o, v);
  }
  else {
    return __pyx_pf_7netCDF3_8Variable_12maskandscale___del__(o);
  }
}

static PyMethodDef __pyx_methods_7netCDF3_Variable[] = {
  {__Pyx_NAMESTR("ncattrs"), (PyCFunction)__pyx_pf_7netCDF3_8Variable_ncattrs, METH_NOARGS, __Pyx_DOCSTR(__pyx_doc_7netCDF3_8Variable_ncattrs)},
  {__Pyx_NAMESTR("setncattr"), (PyCFunction)__pyx_pf_7netCDF3_8Variable_setncattr, METH_VARARGS|METH_KEYWORDS, __Pyx_DOCSTR(__pyx_doc_7netCDF3_8Variable_setncattr)},
  {__Pyx_NAMESTR("getncattr"), (PyCFunction)__pyx_pf_7netCDF3_8Variable_getncattr, METH_O, __Pyx_DOCSTR(__pyx_doc_7netCDF3_8Variable_getncattr)},
  {__Pyx_NAMESTR("delncattr"), (PyCFunction)__pyx_pf_7netCDF3_8Variable_delncattr, METH_O, __Pyx_DOCSTR(__pyx_doc_7netCDF3_8Variable_delncattr)},
  {__Pyx_NAMESTR("__getattr__"), (PyCFunction)__pyx_pf_7netCDF3_8Variable___getattr__, METH_O|METH_COEXIST, __Pyx_DOCSTR(0)},
  {__Pyx_NAMESTR("_toma"), (PyCFunction)__pyx_pf_7netCDF3_8Variable__toma, METH_O, __Pyx_DOCSTR(0)},
  {__Pyx_NAMESTR("assignValue"), (PyCFunction)__pyx_pf_7netCDF3_8Variable_assignValue, METH_O, __Pyx_DOCSTR(__pyx_doc_7netCDF3_8Variable_assignValue)},
  {__Pyx_NAMESTR("getValue"), (PyCFunction)__pyx_pf_7netCDF3_8Variable_getValue, METH_NOARGS, __Pyx_DOCSTR(__pyx_doc_7netCDF3_8Variable_getValue)},
  {__Pyx_NAMESTR("set_auto_maskandscale"), (PyCFunction)__pyx_pf_7netCDF3_8Variable_set_auto_maskandscale, METH_O, __Pyx_DOCSTR(__pyx_doc_7netCDF3_8Variable_set_auto_maskandscale)},
  {__Pyx_NAMESTR("_put"), (PyCFunction)__pyx_pf_7netCDF3_8Variable__put, METH_VARARGS|METH_KEYWORDS, __Pyx_DOCSTR(__pyx_doc_7netCDF3_8Variable__put)},
  {__Pyx_NAMESTR("_get"), (PyCFunction)__pyx_pf_7netCDF3_8Variable__get, METH_VARARGS|METH_KEYWORDS, __Pyx_DOCSTR(__pyx_doc_7netCDF3_8Variable__get)},
  {0, 0, 0, 0}
};

static struct PyGetSetDef __pyx_getsets_7netCDF3_Variable[] = {
  {(char *)"shape", __pyx_getprop_7netCDF3_8Variable_shape, __pyx_setprop_7netCDF3_8Variable_shape, __Pyx_DOCSTR(__pyx_k_39), 0},
  {(char *)"size", __pyx_getprop_7netCDF3_8Variable_size, 0, __Pyx_DOCSTR(__pyx_k_40), 0},
  {(char *)"dimensions", __pyx_getprop_7netCDF3_8Variable_dimensions, __pyx_setprop_7netCDF3_8Variable_dimensions, __Pyx_DOCSTR(__pyx_k_41), 0},
  {(char *)"_varid", __pyx_getprop_7netCDF3_8Variable__varid, __pyx_setprop_7netCDF3_8Variable__varid, 0, 0},
  {(char *)"_grpid", __pyx_getprop_7netCDF3_8Variable__grpid, __pyx_setprop_7netCDF3_8Variable__grpid, 0, 0},
  {(char *)"_nunlimdim", __pyx_getprop_7netCDF3_8Variable__nunlimdim, __pyx_setprop_7netCDF3_8Variable__nunlimdim, 0, 0},
  {(char *)"ndim", __pyx_getprop_7netCDF3_8Variable_ndim, __pyx_setprop_7netCDF3_8Variable_ndim, 0, 0},
  {(char *)"dtype", __pyx_getprop_7netCDF3_8Variable_dtype, __pyx_setprop_7netCDF3_8Variable_dtype, 0, 0},
  {(char *)"maskandscale", __pyx_getprop_7netCDF3_8Variable_maskandscale, __pyx_setprop_7netCDF3_8Variable_maskandscale, 0, 0},
  {0, 0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Variable = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_long*/
  #else
  0, /*reserved*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if PY_VERSION_HEX >= 0x02050000
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Variable = {
  __pyx_pf_7netCDF3_8Variable___len__, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  __pyx_sq_item_7netCDF3_Variable, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Variable = {
  __pyx_pf_7netCDF3_8Variable___len__, /*mp_length*/
  __pyx_pf_7netCDF3_8Variable___getitem__, /*mp_subscript*/
  __pyx_mp_ass_subscript_7netCDF3_Variable, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Variable = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_7netCDF3_Variable = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("netCDF3.Variable"), /*tp_name*/
  sizeof(struct __pyx_obj_7netCDF3_Variable), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_7netCDF3_Variable, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  #if PY_MAJOR_VERSION < 3
  0, /*tp_compare*/
  #else
  0, /*reserved*/
  #endif
  0, /*tp_repr*/
  &__pyx_tp_as_number_Variable, /*tp_as_number*/
  &__pyx_tp_as_sequence_Variable, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Variable, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  __pyx_tp_getattro_7netCDF3_Variable, /*tp_getattro*/
  __pyx_tp_setattro_7netCDF3_Variable, /*tp_setattro*/
  &__pyx_tp_as_buffer_Variable, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  __Pyx_DOCSTR("\nVariable(self, dset, name, datatype, dimensions=(), fill_value=None)\n\nA netCDF L{Variable} is used to read and write netCDF data.  They are \nanalagous to numpy array objects.\n\nL{Variable} instances should be created using the\nL{createVariable<Dataset.createVariable>} method of a L{Dataset}\ninstance, not using this class directly.\n\nB{Parameters:}\n\nB{C{dset}}  - Dataset instance.\n\nB{C{name}}  - Name of the variable.\n\nB{C{datatype}} - L{Variable} data type. Can be specified by providing a \nnumpy dtype object, or a string that describes a numpy dtype object. \nSupported values, corresponding to C{str} attribute of numpy dtype \nobjects, include C{'f4'} (32-bit floating point), C{'f8'} (64-bit floating \npoint), C{'i4'} (32-bit signed integer), C{'i2'} (16-bit signed integer), \nC{'i4'} (8-bit singed integer), C{'i1'} (8-bit signed integer),\nor C{'S1'} (single-character string).  From \ncompatibility with Scientific.IO.NetCDF, the old Numeric single character \ntypecodes can also be used (C{'f'} instead of C{'f4'}, C{'d'} instead of \nC{'f8'}, C{'h'} or C{'s'} instead of C{'i2'}, C{'b'} or C{'B'} instead of \nC{'i1'}, C{'c'} instead of C{'S1'}, and C{'i'} or C{'l'} instead of \nC{'i4'}).\n\nB{Keywords:}\n\nB{C{dimensions}} - a tuple containing the variable's dimension names \n(defined previously with C{createDimension}). Default is an empty tuple \nwhich means the variable is a scalar (and therefore has no dimensions).\n\nB{C{fill_value}} - If specified, the default netCDF C{_FillValue} (the \nvalue that the variable gets filled with before any data is written to it) \nis replaced with this value.\n \nB{Returns:}\n\na L{Variable} instance.  All further operations on the netCDF Variable are \naccomplised via L{Variable} instance methods.\n\nA list of attribute names corresponding to netCDF attributes defined for\nthe variable can be obtained with the C{ncattrs()} method. These\nattributes can be created by assigning to an attribute of the\nL{Variable} instance. A dictionary containing all the netCDF attribute\nname/value pairs is provided by the C{__dict__} attribute of a\nL{Variable} instance.\n\nThe instance variables C{dimensions, dtype, ndim, shape} are read-only\n(and should not be modified by the user).\n\n@ivar dimensions: A tuple containing the names of the dimensions \nassociated with this variable.\n\n@ivar dtype: A numpy dtype object describing the variable's data type.\n\n@ivar ndim: The number of variable dimensions.\n\n@ivar shape: a tuple describing the current size of all the variable's \ndimensions."), /*tp_doc*/
  __pyx_tp_traverse_7netCDF3_Variable, /*tp_traverse*/
  __pyx_tp_clear_7netCDF3_Variable, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_7netCDF3_Variable, /*tp_methods*/
  0, /*tp_members*/
  __pyx_getsets_7netCDF3_Variable, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  __pyx_pf_7netCDF3_8Variable___init__, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_7netCDF3_Variable, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  #if PY_VERSION_HEX >= 0x02060000
  0, /*tp_version_tag*/
  #endif
};

static PyMethodDef __pyx_methods[] = {
  {__Pyx_NAMESTR("_set_default_format"), (PyCFunction)__pyx_pf_7netCDF3__set_default_format, METH_VARARGS|METH_KEYWORDS, __Pyx_DOCSTR(0)},
  {__Pyx_NAMESTR("stringtoarr"), (PyCFunction)__pyx_pf_7netCDF3_stringtoarr, METH_VARARGS|METH_KEYWORDS, __Pyx_DOCSTR(__pyx_doc_7netCDF3_stringtoarr)},
  {__Pyx_NAMESTR("stringtochar"), (PyCFunction)__pyx_pf_7netCDF3_stringtochar, METH_O, __Pyx_DOCSTR(__pyx_doc_7netCDF3_stringtochar)},
  {__Pyx_NAMESTR("chartostring"), (PyCFunction)__pyx_pf_7netCDF3_chartostring, METH_O, __Pyx_DOCSTR(__pyx_doc_7netCDF3_chartostring)},
  {__Pyx_NAMESTR("date2num"), (PyCFunction)__pyx_pf_7netCDF3_date2num, METH_VARARGS|METH_KEYWORDS, __Pyx_DOCSTR(__pyx_doc_7netCDF3_date2num)},
  {__Pyx_NAMESTR("num2date"), (PyCFunction)__pyx_pf_7netCDF3_num2date, METH_VARARGS|METH_KEYWORDS, __Pyx_DOCSTR(__pyx_doc_7netCDF3_num2date)},
  {__Pyx_NAMESTR("date2index"), (PyCFunction)__pyx_pf_7netCDF3_date2index, METH_VARARGS|METH_KEYWORDS, __Pyx_DOCSTR(__pyx_doc_7netCDF3_date2index)},
  {__Pyx_NAMESTR("getlibversion"), (PyCFunction)__pyx_pf_7netCDF3_getlibversion, METH_NOARGS, __Pyx_DOCSTR(__pyx_doc_7netCDF3_getlibversion)},
  {0, 0, 0, 0}
};

#if PY_MAJOR_VERSION >= 3
static struct PyModuleDef __pyx_moduledef = {
    PyModuleDef_HEAD_INIT,
    __Pyx_NAMESTR("netCDF3"),
    __Pyx_DOCSTR(__pyx_k_42), /* m_doc */
    -1, /* m_size */
    __pyx_methods /* m_methods */,
    NULL, /* m_reload */
    NULL, /* m_traverse */
    NULL, /* m_clear */
    NULL /* m_free */
};
#endif

static __Pyx_StringTabEntry __pyx_string_tab[] = {
  {&__pyx_kp_s_1, __pyx_k_1, sizeof(__pyx_k_1), 0, 0, 1, 0},
  {&__pyx_kp_s_10, __pyx_k_10, sizeof(__pyx_k_10), 0, 0, 1, 0},
  {&__pyx_kp_s_12, __pyx_k_12, sizeof(__pyx_k_12), 0, 0, 1, 0},
  {&__pyx_kp_s_13, __pyx_k_13, sizeof(__pyx_k_13), 0, 0, 1, 0},
  {&__pyx_kp_s_14, __pyx_k_14, sizeof(__pyx_k_14), 0, 0, 1, 0},
  {&__pyx_kp_s_15, __pyx_k_15, sizeof(__pyx_k_15), 0, 0, 1, 0},
  {&__pyx_kp_s_16, __pyx_k_16, sizeof(__pyx_k_16), 0, 0, 1, 0},
  {&__pyx_kp_s_17, __pyx_k_17, sizeof(__pyx_k_17), 0, 0, 1, 0},
  {&__pyx_kp_s_18, __pyx_k_18, sizeof(__pyx_k_18), 0, 0, 1, 0},
  {&__pyx_kp_s_19, __pyx_k_19, sizeof(__pyx_k_19), 0, 0, 1, 0},
  {&__pyx_kp_s_2, __pyx_k_2, sizeof(__pyx_k_2), 0, 0, 1, 0},
  {&__pyx_kp_s_20, __pyx_k_20, sizeof(__pyx_k_20), 0, 0, 1, 0},
  {&__pyx_kp_s_21, __pyx_k_21, sizeof(__pyx_k_21), 0, 0, 1, 0},
  {&__pyx_kp_s_22, __pyx_k_22, sizeof(__pyx_k_22), 0, 0, 1, 0},
  {&__pyx_kp_s_23, __pyx_k_23, sizeof(__pyx_k_23), 0, 0, 1, 0},
  {&__pyx_kp_s_24, __pyx_k_24, sizeof(__pyx_k_24), 0, 0, 1, 0},
  {&__pyx_kp_s_27, __pyx_k_27, sizeof(__pyx_k_27), 0, 0, 1, 0},
  {&__pyx_kp_s_28, __pyx_k_28, sizeof(__pyx_k_28), 0, 0, 1, 0},
  {&__pyx_kp_s_29, __pyx_k_29, sizeof(__pyx_k_29), 0, 0, 1, 0},
  {&__pyx_kp_s_3, __pyx_k_3, sizeof(__pyx_k_3), 0, 0, 1, 0},
  {&__pyx_kp_s_30, __pyx_k_30, sizeof(__pyx_k_30), 0, 0, 1, 0},
  {&__pyx_kp_s_31, __pyx_k_31, sizeof(__pyx_k_31), 0, 0, 1, 0},
  {&__pyx_kp_s_32, __pyx_k_32, sizeof(__pyx_k_32), 0, 0, 1, 0},
  {&__pyx_kp_s_33, __pyx_k_33, sizeof(__pyx_k_33), 0, 0, 1, 0},
  {&__pyx_kp_s_34, __pyx_k_34, sizeof(__pyx_k_34), 0, 0, 1, 0},
  {&__pyx_kp_s_35, __pyx_k_35, sizeof(__pyx_k_35), 0, 0, 1, 0},
  {&__pyx_kp_s_36, __pyx_k_36, sizeof(__pyx_k_36), 0, 0, 1, 0},
  {&__pyx_n_s_37, __pyx_k_37, sizeof(__pyx_k_37), 0, 0, 1, 1},
  {&__pyx_kp_s_38, __pyx_k_38, sizeof(__pyx_k_38), 0, 0, 1, 0},
  {&__pyx_kp_s_4, __pyx_k_4, sizeof(__pyx_k_4), 0, 0, 1, 0},
  {&__pyx_kp_s_43, __pyx_k_43, sizeof(__pyx_k_43), 0, 0, 1, 0},
  {&__pyx_kp_s_44, __pyx_k_44, sizeof(__pyx_k_44), 0, 0, 1, 0},
  {&__pyx_kp_s_45, __pyx_k_45, sizeof(__pyx_k_45), 0, 0, 1, 0},
  {&__pyx_kp_s_46, __pyx_k_46, sizeof(__pyx_k_46), 0, 0, 1, 0},
  {&__pyx_kp_s_6, __pyx_k_6, sizeof(__pyx_k_6), 0, 0, 1, 0},
  {&__pyx_kp_s_7, __pyx_k_7, sizeof(__pyx_k_7), 0, 0, 1, 0},
  {&__pyx_kp_s_8, __pyx_k_8, sizeof(__pyx_k_8), 0, 0, 1, 0},
  {&__pyx_kp_s_9, __pyx_k_9, sizeof(__pyx_k_9), 0, 0, 1, 0},
  {&__pyx_kp_s__1, __pyx_k__1, sizeof(__pyx_k__1), 0, 0, 1, 0},
  {&__pyx_n_s__AttributeError, __pyx_k__AttributeError, sizeof(__pyx_k__AttributeError), 0, 0, 1, 1},
  {&__pyx_n_s__IOError, __pyx_k__IOError, sizeof(__pyx_k__IOError), 0, 0, 1, 1},
  {&__pyx_n_s__ImportError, __pyx_k__ImportError, sizeof(__pyx_k__ImportError), 0, 0, 1, 1},
  {&__pyx_n_s__IndexError, __pyx_k__IndexError, sizeof(__pyx_k__IndexError), 0, 0, 1, 1},
  {&__pyx_n_s__KeyError, __pyx_k__KeyError, sizeof(__pyx_k__KeyError), 0, 0, 1, 1},
  {&__pyx_n_s__MFDataset, __pyx_k__MFDataset, sizeof(__pyx_k__MFDataset), 0, 0, 1, 1},
  {&__pyx_n_s__NETCDF3_64BIT, __pyx_k__NETCDF3_64BIT, sizeof(__pyx_k__NETCDF3_64BIT), 0, 0, 1, 1},
  {&__pyx_n_s__NETCDF3_CLASSIC, __pyx_k__NETCDF3_CLASSIC, sizeof(__pyx_k__NETCDF3_CLASSIC), 0, 0, 1, 1},
  {&__pyx_n_s__NETCDF4, __pyx_k__NETCDF4, sizeof(__pyx_k__NETCDF4), 0, 0, 1, 1},
  {&__pyx_n_s__NETCDF4_CLASSIC, __pyx_k__NETCDF4_CLASSIC, sizeof(__pyx_k__NETCDF4_CLASSIC), 0, 0, 1, 1},
  {&__pyx_n_s__NUMCHARS, __pyx_k__NUMCHARS, sizeof(__pyx_k__NUMCHARS), 0, 0, 1, 1},
  {&__pyx_n_s__OrderedDict, __pyx_k__OrderedDict, sizeof(__pyx_k__OrderedDict), 0, 0, 1, 1},
  {&__pyx_n_s__RuntimeError, __pyx_k__RuntimeError, sizeof(__pyx_k__RuntimeError), 0, 0, 1, 1},
  {&__pyx_n_s__S, __pyx_k__S, sizeof(__pyx_k__S), 0, 0, 1, 1},
  {&__pyx_n_s__S1, __pyx_k__S1, sizeof(__pyx_k__S1), 0, 0, 1, 1},
  {&__pyx_n_s__TypeError, __pyx_k__TypeError, sizeof(__pyx_k__TypeError), 0, 0, 1, 1},
  {&__pyx_n_s__ValueError, __pyx_k__ValueError, sizeof(__pyx_k__ValueError), 0, 0, 1, 1},
  {&__pyx_n_s___Dimension, __pyx_k___Dimension, sizeof(__pyx_k___Dimension), 0, 0, 1, 1},
  {&__pyx_n_s___FillValue, __pyx_k___FillValue, sizeof(__pyx_k___FillValue), 0, 0, 1, 1},
  {&__pyx_n_s___StartCountStride, __pyx_k___StartCountStride, sizeof(__pyx_k___StartCountStride), 0, 0, 1, 1},
  {&__pyx_n_s___Variable, __pyx_k___Variable, sizeof(__pyx_k___Variable), 0, 0, 1, 1},
  {&__pyx_n_s____, __pyx_k____, sizeof(__pyx_k____), 0, 0, 1, 1},
  {&__pyx_n_s____dict__, __pyx_k____dict__, sizeof(__pyx_k____dict__), 0, 0, 1, 1},
  {&__pyx_n_s____getattr__, __pyx_k____getattr__, sizeof(__pyx_k____getattr__), 0, 0, 1, 1},
  {&__pyx_n_s____getattribute__, __pyx_k____getattribute__, sizeof(__pyx_k____getattribute__), 0, 0, 1, 1},
  {&__pyx_n_s____getitem__, __pyx_k____getitem__, sizeof(__pyx_k____getitem__), 0, 0, 1, 1},
  {&__pyx_n_s____init__, __pyx_k____init__, sizeof(__pyx_k____init__), 0, 0, 1, 1},
  {&__pyx_n_s____len__, __pyx_k____len__, sizeof(__pyx_k____len__), 0, 0, 1, 1},
  {&__pyx_n_s____main__, __pyx_k____main__, sizeof(__pyx_k____main__), 0, 0, 1, 1},
  {&__pyx_n_s____setattr__, __pyx_k____setattr__, sizeof(__pyx_k____setattr__), 0, 0, 1, 1},
  {&__pyx_n_s____test__, __pyx_k____test__, sizeof(__pyx_k____test__), 0, 0, 1, 1},
  {&__pyx_n_s____version__, __pyx_k____version__, sizeof(__pyx_k____version__), 0, 0, 1, 1},
  {&__pyx_n_s___cdf, __pyx_k___cdf, sizeof(__pyx_k___cdf), 0, 0, 1, 1},
  {&__pyx_n_s___cdfRecVar, __pyx_k___cdfRecVar, sizeof(__pyx_k___cdfRecVar), 0, 0, 1, 1},
  {&__pyx_n_s___cdfTLen, __pyx_k___cdfTLen, sizeof(__pyx_k___cdfTLen), 0, 0, 1, 1},
  {&__pyx_n_s___cdfVLen, __pyx_k___cdfVLen, sizeof(__pyx_k___cdfVLen), 0, 0, 1, 1},
  {&__pyx_n_s___default_fillvals, __pyx_k___default_fillvals, sizeof(__pyx_k___default_fillvals), 0, 0, 1, 1},
  {&__pyx_n_s___dimid, __pyx_k___dimid, sizeof(__pyx_k___dimid), 0, 0, 1, 1},
  {&__pyx_n_s___dims, __pyx_k___dims, sizeof(__pyx_k___dims), 0, 0, 1, 1},
  {&__pyx_n_s___dset, __pyx_k___dset, sizeof(__pyx_k___dset), 0, 0, 1, 1},
  {&__pyx_n_s___enddef, __pyx_k___enddef, sizeof(__pyx_k___enddef), 0, 0, 1, 1},
  {&__pyx_n_s___file_format, __pyx_k___file_format, sizeof(__pyx_k___file_format), 0, 0, 1, 1},
  {&__pyx_n_s___files, __pyx_k___files, sizeof(__pyx_k___files), 0, 0, 1, 1},
  {&__pyx_n_s___get, __pyx_k___get, sizeof(__pyx_k___get), 0, 0, 1, 1},
  {&__pyx_n_s___grp, __pyx_k___grp, sizeof(__pyx_k___grp), 0, 0, 1, 1},
  {&__pyx_n_s___grpid, __pyx_k___grpid, sizeof(__pyx_k___grpid), 0, 0, 1, 1},
  {&__pyx_n_s___key, __pyx_k___key, sizeof(__pyx_k___key), 0, 0, 1, 1},
  {&__pyx_n_s___mastervar, __pyx_k___mastervar, sizeof(__pyx_k___mastervar), 0, 0, 1, 1},
  {&__pyx_n_s___nctonptype, __pyx_k___nctonptype, sizeof(__pyx_k___nctonptype), 0, 0, 1, 1},
  {&__pyx_n_s___nptonctype, __pyx_k___nptonctype, sizeof(__pyx_k___nptonctype), 0, 0, 1, 1},
  {&__pyx_n_s___npversion, __pyx_k___npversion, sizeof(__pyx_k___npversion), 0, 0, 1, 1},
  {&__pyx_n_s___nunlimdim, __pyx_k___nunlimdim, sizeof(__pyx_k___nunlimdim), 0, 0, 1, 1},
  {&__pyx_n_s___out_array_shape, __pyx_k___out_array_shape, sizeof(__pyx_k___out_array_shape), 0, 0, 1, 1},
  {&__pyx_n_s___private_atts, __pyx_k___private_atts, sizeof(__pyx_k___private_atts), 0, 0, 1, 1},
  {&__pyx_n_s___put, __pyx_k___put, sizeof(__pyx_k___put), 0, 0, 1, 1},
  {&__pyx_n_s___recLen, __pyx_k___recLen, sizeof(__pyx_k___recLen), 0, 0, 1, 1},
  {&__pyx_n_s___recVar, __pyx_k___recVar, sizeof(__pyx_k___recVar), 0, 0, 1, 1},
  {&__pyx_n_s___recdimname, __pyx_k___recdimname, sizeof(__pyx_k___recdimname), 0, 0, 1, 1},
  {&__pyx_n_s___redef, __pyx_k___redef, sizeof(__pyx_k___redef), 0, 0, 1, 1},
  {&__pyx_n_s___set_default_format, __pyx_k___set_default_format, sizeof(__pyx_k___set_default_format), 0, 0, 1, 1},
  {&__pyx_n_s___shape, __pyx_k___shape, sizeof(__pyx_k___shape), 0, 0, 1, 1},
  {&__pyx_n_s___supportedtypes, __pyx_k___supportedtypes, sizeof(__pyx_k___supportedtypes), 0, 0, 1, 1},
  {&__pyx_n_s___toma, __pyx_k___toma, sizeof(__pyx_k___toma), 0, 0, 1, 1},
  {&__pyx_n_s___value, __pyx_k___value, sizeof(__pyx_k___value), 0, 0, 1, 1},
  {&__pyx_n_s___varid, __pyx_k___varid, sizeof(__pyx_k___varid), 0, 0, 1, 1},
  {&__pyx_n_s___vars, __pyx_k___vars, sizeof(__pyx_k___vars), 0, 0, 1, 1},
  {&__pyx_n_s__a, __pyx_k__a, sizeof(__pyx_k__a), 0, 0, 1, 1},
  {&__pyx_n_s__add_offset, __pyx_k__add_offset, sizeof(__pyx_k__add_offset), 0, 0, 1, 1},
  {&__pyx_n_s__any, __pyx_k__any, sizeof(__pyx_k__any), 0, 0, 1, 1},
  {&__pyx_n_s__array, __pyx_k__array, sizeof(__pyx_k__array), 0, 0, 1, 1},
  {&__pyx_n_s__as, __pyx_k__as, sizeof(__pyx_k__as), 0, 0, 1, 1},
  {&__pyx_n_s__astype, __pyx_k__astype, sizeof(__pyx_k__astype), 0, 0, 1, 1},
  {&__pyx_n_s__bool, __pyx_k__bool, sizeof(__pyx_k__bool), 0, 0, 1, 1},
  {&__pyx_n_s__calendar, __pyx_k__calendar, sizeof(__pyx_k__calendar), 0, 0, 1, 1},
  {&__pyx_n_s__char, __pyx_k__char, sizeof(__pyx_k__char), 0, 0, 1, 1},
  {&__pyx_n_s__check, __pyx_k__check, sizeof(__pyx_k__check), 0, 0, 1, 1},
  {&__pyx_n_s__clobber, __pyx_k__clobber, sizeof(__pyx_k__clobber), 0, 0, 1, 1},
  {&__pyx_n_s__close, __pyx_k__close, sizeof(__pyx_k__close), 0, 0, 1, 1},
  {&__pyx_n_s__collections, __pyx_k__collections, sizeof(__pyx_k__collections), 0, 0, 1, 1},
  {&__pyx_n_s__concatenate, __pyx_k__concatenate, sizeof(__pyx_k__concatenate), 0, 0, 1, 1},
  {&__pyx_n_s__copy, __pyx_k__copy, sizeof(__pyx_k__copy), 0, 0, 1, 1},
  {&__pyx_n_s__count, __pyx_k__count, sizeof(__pyx_k__count), 0, 0, 1, 1},
  {&__pyx_n_s__data, __pyx_k__data, sizeof(__pyx_k__data), 0, 0, 1, 1},
  {&__pyx_n_s__datashape, __pyx_k__datashape, sizeof(__pyx_k__datashape), 0, 0, 1, 1},
  {&__pyx_n_s__datatype, __pyx_k__datatype, sizeof(__pyx_k__datatype), 0, 0, 1, 1},
  {&__pyx_n_s__date2index, __pyx_k__date2index, sizeof(__pyx_k__date2index), 0, 0, 1, 1},
  {&__pyx_n_s__date2num, __pyx_k__date2num, sizeof(__pyx_k__date2num), 0, 0, 1, 1},
  {&__pyx_n_s__dates, __pyx_k__dates, sizeof(__pyx_k__dates), 0, 0, 1, 1},
  {&__pyx_n_s__delncattr, __pyx_k__delncattr, sizeof(__pyx_k__delncattr), 0, 0, 1, 1},
  {&__pyx_n_s__dim, __pyx_k__dim, sizeof(__pyx_k__dim), 0, 0, 1, 1},
  {&__pyx_n_s__dimensions, __pyx_k__dimensions, sizeof(__pyx_k__dimensions), 0, 0, 1, 1},
  {&__pyx_n_s__dimlens, __pyx_k__dimlens, sizeof(__pyx_k__dimlens), 0, 0, 1, 1},
  {&__pyx_n_s__dimname, __pyx_k__dimname, sizeof(__pyx_k__dimname), 0, 0, 1, 1},
  {&__pyx_n_s__dimtotlen, __pyx_k__dimtotlen, sizeof(__pyx_k__dimtotlen), 0, 0, 1, 1},
  {&__pyx_n_s__dset, __pyx_k__dset, sizeof(__pyx_k__dset), 0, 0, 1, 1},
  {&__pyx_n_s__dtype, __pyx_k__dtype, sizeof(__pyx_k__dtype), 0, 0, 1, 1},
  {&__pyx_n_s__elem, __pyx_k__elem, sizeof(__pyx_k__elem), 0, 0, 1, 1},
  {&__pyx_n_s__empty, __pyx_k__empty, sizeof(__pyx_k__empty), 0, 0, 1, 1},
  {&__pyx_n_s__endswith, __pyx_k__endswith, sizeof(__pyx_k__endswith), 0, 0, 1, 1},
  {&__pyx_n_s__enumerate, __pyx_k__enumerate, sizeof(__pyx_k__enumerate), 0, 0, 1, 1},
  {&__pyx_n_s__exact, __pyx_k__exact, sizeof(__pyx_k__exact), 0, 0, 1, 1},
  {&__pyx_n_s__exclude, __pyx_k__exclude, sizeof(__pyx_k__exclude), 0, 0, 1, 1},
  {&__pyx_n_s__extend, __pyx_k__extend, sizeof(__pyx_k__extend), 0, 0, 1, 1},
  {&__pyx_n_s__f4, __pyx_k__f4, sizeof(__pyx_k__f4), 0, 0, 1, 1},
  {&__pyx_n_s__f8, __pyx_k__f8, sizeof(__pyx_k__f8), 0, 0, 1, 1},
  {&__pyx_n_s__file_format, __pyx_k__file_format, sizeof(__pyx_k__file_format), 0, 0, 1, 1},
  {&__pyx_n_s__filename, __pyx_k__filename, sizeof(__pyx_k__filename), 0, 0, 1, 1},
  {&__pyx_n_s__files, __pyx_k__files, sizeof(__pyx_k__files), 0, 0, 1, 1},
  {&__pyx_n_s__fill_value, __pyx_k__fill_value, sizeof(__pyx_k__fill_value), 0, 0, 1, 1},
  {&__pyx_n_s__filled, __pyx_k__filled, sizeof(__pyx_k__filled), 0, 0, 1, 1},
  {&__pyx_n_s__float, __pyx_k__float, sizeof(__pyx_k__float), 0, 0, 1, 1},
  {&__pyx_n_s__format, __pyx_k__format, sizeof(__pyx_k__format), 0, 0, 1, 1},
  {&__pyx_n_s__getncattr, __pyx_k__getncattr, sizeof(__pyx_k__getncattr), 0, 0, 1, 1},
  {&__pyx_n_s__glob, __pyx_k__glob, sizeof(__pyx_k__glob), 0, 0, 1, 1},
  {&__pyx_n_s__grp, __pyx_k__grp, sizeof(__pyx_k__grp), 0, 0, 1, 1},
  {&__pyx_n_s__has_key, __pyx_k__has_key, sizeof(__pyx_k__has_key), 0, 0, 1, 1},
  {&__pyx_n_s__http, __pyx_k__http, sizeof(__pyx_k__http), 0, 0, 1, 1},
  {&__pyx_n_s__i, __pyx_k__i, sizeof(__pyx_k__i), 0, 0, 1, 1},
  {&__pyx_n_s__i1, __pyx_k__i1, sizeof(__pyx_k__i1), 0, 0, 1, 1},
  {&__pyx_n_s__i2, __pyx_k__i2, sizeof(__pyx_k__i2), 0, 0, 1, 1},
  {&__pyx_n_s__i4, __pyx_k__i4, sizeof(__pyx_k__i4), 0, 0, 1, 1},
  {&__pyx_n_s__i8, __pyx_k__i8, sizeof(__pyx_k__i8), 0, 0, 1, 1},
  {&__pyx_n_s__id, __pyx_k__id, sizeof(__pyx_k__id), 0, 0, 1, 1},
  {&__pyx_n_s__isunlimited, __pyx_k__isunlimited, sizeof(__pyx_k__isunlimited), 0, 0, 1, 1},
  {&__pyx_n_s__item, __pyx_k__item, sizeof(__pyx_k__item), 0, 0, 1, 1},
  {&__pyx_n_s__items, __pyx_k__items, sizeof(__pyx_k__items), 0, 0, 1, 1},
  {&__pyx_n_s__itemsize, __pyx_k__itemsize, sizeof(__pyx_k__itemsize), 0, 0, 1, 1},
  {&__pyx_n_s__iteritems, __pyx_k__iteritems, sizeof(__pyx_k__iteritems), 0, 0, 1, 1},
  {&__pyx_n_s__keys, __pyx_k__keys, sizeof(__pyx_k__keys), 0, 0, 1, 1},
  {&__pyx_n_s__kind, __pyx_k__kind, sizeof(__pyx_k__kind), 0, 0, 1, 1},
  {&__pyx_n_s__ma, __pyx_k__ma, sizeof(__pyx_k__ma), 0, 0, 1, 1},
  {&__pyx_n_s__mask, __pyx_k__mask, sizeof(__pyx_k__mask), 0, 0, 1, 1},
  {&__pyx_n_s__maskandscale, __pyx_k__maskandscale, sizeof(__pyx_k__maskandscale), 0, 0, 1, 1},
  {&__pyx_n_s__maskanscale, __pyx_k__maskanscale, sizeof(__pyx_k__maskanscale), 0, 0, 1, 1},
  {&__pyx_n_s__masked_array, __pyx_k__masked_array, sizeof(__pyx_k__masked_array), 0, 0, 1, 1},
  {&__pyx_n_s__missing_value, __pyx_k__missing_value, sizeof(__pyx_k__missing_value), 0, 0, 1, 1},
  {&__pyx_n_s__mode, __pyx_k__mode, sizeof(__pyx_k__mode), 0, 0, 1, 1},
  {&__pyx_n_s__name, __pyx_k__name, sizeof(__pyx_k__name), 0, 0, 1, 1},
  {&__pyx_n_s__ncattrs, __pyx_k__ncattrs, sizeof(__pyx_k__ncattrs), 0, 0, 1, 1},
  {&__pyx_n_s__nctime, __pyx_k__nctime, sizeof(__pyx_k__nctime), 0, 0, 1, 1},
  {&__pyx_n_s__ndim, __pyx_k__ndim, sizeof(__pyx_k__ndim), 0, 0, 1, 1},
  {&__pyx_n_s__netCDF4_utils, __pyx_k__netCDF4_utils, sizeof(__pyx_k__netCDF4_utils), 0, 0, 1, 1},
  {&__pyx_n_s__netcdftime, __pyx_k__netcdftime, sizeof(__pyx_k__netcdftime), 0, 0, 1, 1},
  {&__pyx_n_s__newname, __pyx_k__newname, sizeof(__pyx_k__newname), 0, 0, 1, 1},
  {&__pyx_n_s__num2date, __pyx_k__num2date, sizeof(__pyx_k__num2date), 0, 0, 1, 1},
  {&__pyx_n_s__numpy, __pyx_k__numpy, sizeof(__pyx_k__numpy), 0, 0, 1, 1},
  {&__pyx_n_s__object, __pyx_k__object, sizeof(__pyx_k__object), 0, 0, 1, 1},
  {&__pyx_n_s__oldname, __pyx_k__oldname, sizeof(__pyx_k__oldname), 0, 0, 1, 1},
  {&__pyx_n_s__os, __pyx_k__os, sizeof(__pyx_k__os), 0, 0, 1, 1},
  {&__pyx_n_s__pop, __pyx_k__pop, sizeof(__pyx_k__pop), 0, 0, 1, 1},
  {&__pyx_n_s__prod, __pyx_k__prod, sizeof(__pyx_k__prod), 0, 0, 1, 1},
  {&__pyx_n_s__r, __pyx_k__r, sizeof(__pyx_k__r), 0, 0, 1, 1},
  {&__pyx_n_s__range, __pyx_k__range, sizeof(__pyx_k__range), 0, 0, 1, 1},
  {&__pyx_n_s__ravel, __pyx_k__ravel, sizeof(__pyx_k__ravel), 0, 0, 1, 1},
  {&__pyx_n_s__recdimname, __pyx_k__recdimname, sizeof(__pyx_k__recdimname), 0, 0, 1, 1},
  {&__pyx_n_s__replace, __pyx_k__replace, sizeof(__pyx_k__replace), 0, 0, 1, 1},
  {&__pyx_n_s__reshape, __pyx_k__reshape, sizeof(__pyx_k__reshape), 0, 0, 1, 1},
  {&__pyx_n_s__scale_factor, __pyx_k__scale_factor, sizeof(__pyx_k__scale_factor), 0, 0, 1, 1},
  {&__pyx_n_s__select, __pyx_k__select, sizeof(__pyx_k__select), 0, 0, 1, 1},
  {&__pyx_n_s__self, __pyx_k__self, sizeof(__pyx_k__self), 0, 0, 1, 1},
  {&__pyx_n_s__setncattr, __pyx_k__setncattr, sizeof(__pyx_k__setncattr), 0, 0, 1, 1},
  {&__pyx_n_s__shape, __pyx_k__shape, sizeof(__pyx_k__shape), 0, 0, 1, 1},
  {&__pyx_n_s__size, __pyx_k__size, sizeof(__pyx_k__size), 0, 0, 1, 1},
  {&__pyx_n_s__sorted, __pyx_k__sorted, sizeof(__pyx_k__sorted), 0, 0, 1, 1},
  {&__pyx_n_s__split, __pyx_k__split, sizeof(__pyx_k__split), 0, 0, 1, 1},
  {&__pyx_n_s__squeeze, __pyx_k__squeeze, sizeof(__pyx_k__squeeze), 0, 0, 1, 1},
  {&__pyx_n_s__standard, __pyx_k__standard, sizeof(__pyx_k__standard), 0, 0, 1, 1},
  {&__pyx_n_s__start, __pyx_k__start, sizeof(__pyx_k__start), 0, 0, 1, 1},
  {&__pyx_n_s__startswith, __pyx_k__startswith, sizeof(__pyx_k__startswith), 0, 0, 1, 1},
  {&__pyx_n_s__str, __pyx_k__str, sizeof(__pyx_k__str), 0, 0, 1, 1},
  {&__pyx_n_s__stride, __pyx_k__stride, sizeof(__pyx_k__stride), 0, 0, 1, 1},
  {&__pyx_n_s__string, __pyx_k__string, sizeof(__pyx_k__string), 0, 0, 1, 1},
  {&__pyx_n_s__sum, __pyx_k__sum, sizeof(__pyx_k__sum), 0, 0, 1, 1},
  {&__pyx_n_s__tile, __pyx_k__tile, sizeof(__pyx_k__tile), 0, 0, 1, 1},
  {&__pyx_n_s__times, __pyx_k__times, sizeof(__pyx_k__times), 0, 0, 1, 1},
  {&__pyx_n_s__tostring, __pyx_k__tostring, sizeof(__pyx_k__tostring), 0, 0, 1, 1},
  {&__pyx_n_s__typecode, __pyx_k__typecode, sizeof(__pyx_k__typecode), 0, 0, 1, 1},
  {&__pyx_n_s__units, __pyx_k__units, sizeof(__pyx_k__units), 0, 0, 1, 1},
  {&__pyx_n_s__utime, __pyx_k__utime, sizeof(__pyx_k__utime), 0, 0, 1, 1},
  {&__pyx_n_s__val, __pyx_k__val, sizeof(__pyx_k__val), 0, 0, 1, 1},
  {&__pyx_n_s__value, __pyx_k__value, sizeof(__pyx_k__value), 0, 0, 1, 1},
  {&__pyx_n_s__var, __pyx_k__var, sizeof(__pyx_k__var), 0, 0, 1, 1},
  {&__pyx_n_s__variables, __pyx_k__variables, sizeof(__pyx_k__variables), 0, 0, 1, 1},
  {&__pyx_n_s__varname, __pyx_k__varname, sizeof(__pyx_k__varname), 0, 0, 1, 1},
  {&__pyx_n_s__verbose, __pyx_k__verbose, sizeof(__pyx_k__verbose), 0, 0, 1, 1},
  {&__pyx_n_s__w, __pyx_k__w, sizeof(__pyx_k__w), 0, 0, 1, 1},
  {&__pyx_n_s__ws, __pyx_k__ws, sizeof(__pyx_k__ws), 0, 0, 1, 1},
  {&__pyx_n_s__zeros, __pyx_k__zeros, sizeof(__pyx_k__zeros), 0, 0, 1, 1},
  {&__pyx_n_s__zip, __pyx_k__zip, sizeof(__pyx_k__zip), 0, 0, 1, 1},
  {0, 0, 0, 0, 0, 0, 0}
};
static int __Pyx_InitCachedBuiltins(void) {
  __pyx_builtin_ImportError = __Pyx_GetName(__pyx_b, __pyx_n_s__ImportError); if (!__pyx_builtin_ImportError) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 374; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_builtin_object = __Pyx_GetName(__pyx_b, __pyx_n_s__object); if (!__pyx_builtin_object) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 390; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_builtin_RuntimeError = __Pyx_GetName(__pyx_b, __pyx_n_s__RuntimeError); if (!__pyx_builtin_RuntimeError) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 411; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_builtin_AttributeError = __Pyx_GetName(__pyx_b, __pyx_n_s__AttributeError); if (!__pyx_builtin_AttributeError) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 431; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_builtin_ValueError = __Pyx_GetName(__pyx_b, __pyx_n_s__ValueError); if (!__pyx_builtin_ValueError) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 446; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_builtin_KeyError = __Pyx_GetName(__pyx_b, __pyx_n_s__KeyError); if (!__pyx_builtin_KeyError) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 450; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_builtin_TypeError = __Pyx_GetName(__pyx_b, __pyx_n_s__TypeError); if (!__pyx_builtin_TypeError) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 515; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_builtin_zip = __Pyx_GetName(__pyx_b, __pyx_n_s__zip); if (!__pyx_builtin_zip) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 938; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_builtin_enumerate = __Pyx_GetName(__pyx_b, __pyx_n_s__enumerate); if (!__pyx_builtin_enumerate) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1304; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_builtin_IndexError = __Pyx_GetName(__pyx_b, __pyx_n_s__IndexError); if (!__pyx_builtin_IndexError) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1442; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_builtin_sum = __Pyx_GetName(__pyx_b, __pyx_n_s__sum); if (!__pyx_builtin_sum) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1540; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_builtin_range = __Pyx_GetName(__pyx_b, __pyx_n_s__range); if (!__pyx_builtin_range) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_builtin_sorted = __Pyx_GetName(__pyx_b, __pyx_n_s__sorted); if (!__pyx_builtin_sorted) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 245; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_builtin_IOError = __Pyx_GetName(__pyx_b, __pyx_n_s__IOError); if (!__pyx_builtin_IOError) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 263; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  return 0;
  __pyx_L1_error:;
  return -1;
}

static int __Pyx_InitGlobals(void) {
  if (__Pyx_InitStrings(__pyx_string_tab) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;};
  __pyx_int_0 = PyInt_FromLong(0); if (unlikely(!__pyx_int_0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;};
  __pyx_int_1 = PyInt_FromLong(1); if (unlikely(!__pyx_int_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;};
  __pyx_int_neg_1 = PyInt_FromLong(-1); if (unlikely(!__pyx_int_neg_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;};
  return 0;
  __pyx_L1_error:;
  return -1;
}

#if PY_MAJOR_VERSION < 3
PyMODINIT_FUNC initnetCDF3(void); /*proto*/
PyMODINIT_FUNC initnetCDF3(void)
#else
PyMODINIT_FUNC PyInit_netCDF3(void); /*proto*/
PyMODINIT_FUNC PyInit_netCDF3(void)
#endif
{
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  int __pyx_t_6;
  Py_ssize_t __pyx_t_7;
  #if CYTHON_REFNANNY
  void* __pyx_refnanny = NULL;
  __Pyx_RefNanny = __Pyx_RefNannyImportAPI("refnanny");
  if (!__Pyx_RefNanny) {
      PyErr_Clear();
      __Pyx_RefNanny = __Pyx_RefNannyImportAPI("Cython.Runtime.refnanny");
      if (!__Pyx_RefNanny)
          Py_FatalError("failed to import 'refnanny' module");
  }
  __pyx_refnanny = __Pyx_RefNanny->SetupContext("PyMODINIT_FUNC PyInit_netCDF3(void)", __LINE__, __FILE__);
  #endif
  __pyx_empty_tuple = PyTuple_New(0); if (unlikely(!__pyx_empty_tuple)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_empty_bytes = PyBytes_FromStringAndSize("", 0); if (unlikely(!__pyx_empty_bytes)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  #ifdef __pyx_binding_PyCFunctionType_USED
  if (__pyx_binding_PyCFunctionType_init() < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  #endif
  /*--- Library function declarations ---*/
  /*--- Threads initialization code ---*/
  #if defined(__PYX_FORCE_INIT_THREADS) && __PYX_FORCE_INIT_THREADS
  #ifdef WITH_THREAD /* Python build with threading support? */
  PyEval_InitThreads();
  #endif
  #endif
  /*--- Module creation code ---*/
  #if PY_MAJOR_VERSION < 3
  __pyx_m = Py_InitModule4(__Pyx_NAMESTR("netCDF3"), __pyx_methods, __Pyx_DOCSTR(__pyx_k_42), 0, PYTHON_API_VERSION);
  #else
  __pyx_m = PyModule_Create(&__pyx_moduledef);
  #endif
  if (!__pyx_m) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;};
  #if PY_MAJOR_VERSION < 3
  Py_INCREF(__pyx_m);
  #endif
  __pyx_b = PyImport_AddModule(__Pyx_NAMESTR(__Pyx_BUILTIN_MODULE_NAME));
  if (!__pyx_b) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;};
  if (__Pyx_SetAttrString(__pyx_m, "__builtins__", __pyx_b) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;};
  /*--- Initialize various global constants etc. ---*/
  if (unlikely(__Pyx_InitGlobals() < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__pyx_module_is_main_netCDF3) {
    if (__Pyx_SetAttrString(__pyx_m, "__name__", __pyx_n_s____main__) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;};
  }
  /*--- Builtin init code ---*/
  if (unlikely(__Pyx_InitCachedBuiltins() < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  /*--- Global init code ---*/
  /*--- Function export code ---*/
  /*--- Type init code ---*/
  __pyx_ptype_7netCDF3_ndarray = __Pyx_ImportType("numpy", "ndarray", sizeof(PyArrayObject), 0); if (unlikely(!__pyx_ptype_7netCDF3_ndarray)) {__pyx_filename = __pyx_f[2]; __pyx_lineno = 407; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (PyType_Ready(&__pyx_type_7netCDF3_Dataset) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 600; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "Dataset", (PyObject *)&__pyx_type_7netCDF3_Dataset) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 600; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_7netCDF3_Dataset = &__pyx_type_7netCDF3_Dataset;
  if (PyType_Ready(&__pyx_type_7netCDF3_Dimension) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 946; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "Dimension", (PyObject *)&__pyx_type_7netCDF3_Dimension) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 946; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_7netCDF3_Dimension = &__pyx_type_7netCDF3_Dimension;
  if (PyType_Ready(&__pyx_type_7netCDF3_Variable) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1020; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "Variable", (PyObject *)&__pyx_type_7netCDF3_Variable) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1020; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_7netCDF3_Variable = &__pyx_type_7netCDF3_Variable;
  /*--- Type import code ---*/
  /*--- Function import code ---*/
  /*--- Execution code ---*/

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":351
 * OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
 * PERFORMANCE OF THIS SOFTWARE."""
 * __test__ = None             # <<<<<<<<<<<<<<
 * del __test__ # hack so epydoc doesn't show __test__
 * 
 */
  if (PyObject_SetAttr(__pyx_m, __pyx_n_s____test__, Py_None) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 351; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":352
 * PERFORMANCE OF THIS SOFTWARE."""
 * __test__ = None
 * del __test__ # hack so epydoc doesn't show __test__             # <<<<<<<<<<<<<<
 * 
 * # Make changes to this file, not the c-wrappers that Pyrex generates.
 */
  if (__Pyx_DelAttrString(__pyx_m, "__test__") < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 352; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":357
 * 
 * # pure python utilities
 * from netCDF4_utils import _StartCountStride, _out_array_shape             # <<<<<<<<<<<<<<
 * # try to use built-in ordered dict in python >= 2.7
 * try:
 */
  __pyx_t_1 = PyList_New(2); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 357; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_1));
  __Pyx_INCREF(((PyObject *)__pyx_n_s___StartCountStride));
  PyList_SET_ITEM(__pyx_t_1, 0, ((PyObject *)__pyx_n_s___StartCountStride));
  __Pyx_GIVEREF(((PyObject *)__pyx_n_s___StartCountStride));
  __Pyx_INCREF(((PyObject *)__pyx_n_s___out_array_shape));
  PyList_SET_ITEM(__pyx_t_1, 1, ((PyObject *)__pyx_n_s___out_array_shape));
  __Pyx_GIVEREF(((PyObject *)__pyx_n_s___out_array_shape));
  __pyx_t_2 = __Pyx_Import(((PyObject *)__pyx_n_s__netCDF4_utils), ((PyObject *)__pyx_t_1)); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 357; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;
  __pyx_t_1 = PyObject_GetAttr(__pyx_t_2, __pyx_n_s___StartCountStride); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 357; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  if (PyObject_SetAttr(__pyx_m, __pyx_n_s___StartCountStride, __pyx_t_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 357; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = PyObject_GetAttr(__pyx_t_2, __pyx_n_s___out_array_shape); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 357; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  if (PyObject_SetAttr(__pyx_m, __pyx_n_s___out_array_shape, __pyx_t_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 357; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":359
 * from netCDF4_utils import _StartCountStride, _out_array_shape
 * # try to use built-in ordered dict in python >= 2.7
 * try:             # <<<<<<<<<<<<<<
 *     from collections import OrderedDict
 * except: # or else use drop-in substitute
 */
  {
    PyObject *__pyx_save_exc_type, *__pyx_save_exc_value, *__pyx_save_exc_tb;
    __Pyx_ExceptionSave(&__pyx_save_exc_type, &__pyx_save_exc_value, &__pyx_save_exc_tb);
    __Pyx_XGOTREF(__pyx_save_exc_type);
    __Pyx_XGOTREF(__pyx_save_exc_value);
    __Pyx_XGOTREF(__pyx_save_exc_tb);
    /*try:*/ {

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":360
 * # try to use built-in ordered dict in python >= 2.7
 * try:
 *     from collections import OrderedDict             # <<<<<<<<<<<<<<
 * except: # or else use drop-in substitute
 *     from netCDF4_utils import OrderedDict
 */
      __pyx_t_2 = PyList_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 360; __pyx_clineno = __LINE__; goto __pyx_L2_error;}
      __Pyx_GOTREF(((PyObject *)__pyx_t_2));
      __Pyx_INCREF(((PyObject *)__pyx_n_s__OrderedDict));
      PyList_SET_ITEM(__pyx_t_2, 0, ((PyObject *)__pyx_n_s__OrderedDict));
      __Pyx_GIVEREF(((PyObject *)__pyx_n_s__OrderedDict));
      __pyx_t_1 = __Pyx_Import(((PyObject *)__pyx_n_s__collections), ((PyObject *)__pyx_t_2)); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 360; __pyx_clineno = __LINE__; goto __pyx_L2_error;}
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_DECREF(((PyObject *)__pyx_t_2)); __pyx_t_2 = 0;
      __pyx_t_2 = PyObject_GetAttr(__pyx_t_1, __pyx_n_s__OrderedDict); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 360; __pyx_clineno = __LINE__; goto __pyx_L2_error;}
      __Pyx_GOTREF(__pyx_t_2);
      if (PyObject_SetAttr(__pyx_m, __pyx_n_s__OrderedDict, __pyx_t_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 360; __pyx_clineno = __LINE__; goto __pyx_L2_error;}
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    }
    __Pyx_XDECREF(__pyx_save_exc_type); __pyx_save_exc_type = 0;
    __Pyx_XDECREF(__pyx_save_exc_value); __pyx_save_exc_value = 0;
    __Pyx_XDECREF(__pyx_save_exc_tb); __pyx_save_exc_tb = 0;
    goto __pyx_L9_try_end;
    __pyx_L2_error:;
    __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":361
 * try:
 *     from collections import OrderedDict
 * except: # or else use drop-in substitute             # <<<<<<<<<<<<<<
 *     from netCDF4_utils import OrderedDict
 * 
 */
    /*except:*/ {
      __Pyx_AddTraceback("netCDF3");
      if (__Pyx_GetException(&__pyx_t_1, &__pyx_t_2, &__pyx_t_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 361; __pyx_clineno = __LINE__; goto __pyx_L4_except_error;}
      __Pyx_GOTREF(__pyx_t_1);
      __Pyx_GOTREF(__pyx_t_2);
      __Pyx_GOTREF(__pyx_t_3);

      /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":362
 *     from collections import OrderedDict
 * except: # or else use drop-in substitute
 *     from netCDF4_utils import OrderedDict             # <<<<<<<<<<<<<<
 * 
 * __version__ = "0.9.3"
 */
      __pyx_t_4 = PyList_New(1); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 362; __pyx_clineno = __LINE__; goto __pyx_L4_except_error;}
      __Pyx_GOTREF(((PyObject *)__pyx_t_4));
      __Pyx_INCREF(((PyObject *)__pyx_n_s__OrderedDict));
      PyList_SET_ITEM(__pyx_t_4, 0, ((PyObject *)__pyx_n_s__OrderedDict));
      __Pyx_GIVEREF(((PyObject *)__pyx_n_s__OrderedDict));
      __pyx_t_5 = __Pyx_Import(((PyObject *)__pyx_n_s__netCDF4_utils), ((PyObject *)__pyx_t_4)); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 362; __pyx_clineno = __LINE__; goto __pyx_L4_except_error;}
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_DECREF(((PyObject *)__pyx_t_4)); __pyx_t_4 = 0;
      __pyx_t_4 = PyObject_GetAttr(__pyx_t_5, __pyx_n_s__OrderedDict); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 362; __pyx_clineno = __LINE__; goto __pyx_L4_except_error;}
      __Pyx_GOTREF(__pyx_t_4);
      if (PyObject_SetAttr(__pyx_m, __pyx_n_s__OrderedDict, __pyx_t_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 362; __pyx_clineno = __LINE__; goto __pyx_L4_except_error;}
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      goto __pyx_L3_exception_handled;
    }
    __pyx_L4_except_error:;
    __Pyx_XGIVEREF(__pyx_save_exc_type);
    __Pyx_XGIVEREF(__pyx_save_exc_value);
    __Pyx_XGIVEREF(__pyx_save_exc_tb);
    __Pyx_ExceptionReset(__pyx_save_exc_type, __pyx_save_exc_value, __pyx_save_exc_tb);
    goto __pyx_L1_error;
    __pyx_L3_exception_handled:;
    __Pyx_XGIVEREF(__pyx_save_exc_type);
    __Pyx_XGIVEREF(__pyx_save_exc_value);
    __Pyx_XGIVEREF(__pyx_save_exc_tb);
    __Pyx_ExceptionReset(__pyx_save_exc_type, __pyx_save_exc_value, __pyx_save_exc_tb);
    __pyx_L9_try_end:;
  }

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":364
 *     from netCDF4_utils import OrderedDict
 * 
 * __version__ = "0.9.3"             # <<<<<<<<<<<<<<
 * 
 * # Initialize numpy
 */
  if (PyObject_SetAttr(__pyx_m, __pyx_n_s____version__, ((PyObject *)__pyx_kp_s_43)) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 364; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":367
 * 
 * # Initialize numpy
 * import os             # <<<<<<<<<<<<<<
 * import netcdftime
 * import numpy
 */
  __pyx_t_3 = __Pyx_Import(((PyObject *)__pyx_n_s__os), 0); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 367; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  if (PyObject_SetAttr(__pyx_m, __pyx_n_s__os, __pyx_t_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 367; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":368
 * # Initialize numpy
 * import os
 * import netcdftime             # <<<<<<<<<<<<<<
 * import numpy
 * from glob import glob
 */
  __pyx_t_3 = __Pyx_Import(((PyObject *)__pyx_n_s__netcdftime), 0); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 368; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  if (PyObject_SetAttr(__pyx_m, __pyx_n_s__netcdftime, __pyx_t_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 368; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":369
 * import os
 * import netcdftime
 * import numpy             # <<<<<<<<<<<<<<
 * from glob import glob
 * from numpy import ma
 */
  __pyx_t_3 = __Pyx_Import(((PyObject *)__pyx_n_s__numpy), 0); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 369; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  if (PyObject_SetAttr(__pyx_m, __pyx_n_s__numpy, __pyx_t_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 369; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":370
 * import netcdftime
 * import numpy
 * from glob import glob             # <<<<<<<<<<<<<<
 * from numpy import ma
 * from numpy import __version__ as _npversion
 */
  __pyx_t_3 = PyList_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 370; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_3));
  __Pyx_INCREF(((PyObject *)__pyx_n_s__glob));
  PyList_SET_ITEM(__pyx_t_3, 0, ((PyObject *)__pyx_n_s__glob));
  __Pyx_GIVEREF(((PyObject *)__pyx_n_s__glob));
  __pyx_t_2 = __Pyx_Import(((PyObject *)__pyx_n_s__glob), ((PyObject *)__pyx_t_3)); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 370; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(((PyObject *)__pyx_t_3)); __pyx_t_3 = 0;
  __pyx_t_3 = PyObject_GetAttr(__pyx_t_2, __pyx_n_s__glob); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 370; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  if (PyObject_SetAttr(__pyx_m, __pyx_n_s__glob, __pyx_t_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 370; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":371
 * import numpy
 * from glob import glob
 * from numpy import ma             # <<<<<<<<<<<<<<
 * from numpy import __version__ as _npversion
 * if _npversion.split('.')[0] < '1':
 */
  __pyx_t_2 = PyList_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 371; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_2));
  __Pyx_INCREF(((PyObject *)__pyx_n_s__ma));
  PyList_SET_ITEM(__pyx_t_2, 0, ((PyObject *)__pyx_n_s__ma));
  __Pyx_GIVEREF(((PyObject *)__pyx_n_s__ma));
  __pyx_t_3 = __Pyx_Import(((PyObject *)__pyx_n_s__numpy), ((PyObject *)__pyx_t_2)); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 371; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(((PyObject *)__pyx_t_2)); __pyx_t_2 = 0;
  __pyx_t_2 = PyObject_GetAttr(__pyx_t_3, __pyx_n_s__ma); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 371; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  if (PyObject_SetAttr(__pyx_m, __pyx_n_s__ma, __pyx_t_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 371; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":372
 * from glob import glob
 * from numpy import ma
 * from numpy import __version__ as _npversion             # <<<<<<<<<<<<<<
 * if _npversion.split('.')[0] < '1':
 *     raise ImportError('requires numpy version 1.0rc1 or later')
 */
  __pyx_t_3 = PyList_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 372; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_3));
  __Pyx_INCREF(((PyObject *)__pyx_n_s____version__));
  PyList_SET_ITEM(__pyx_t_3, 0, ((PyObject *)__pyx_n_s____version__));
  __Pyx_GIVEREF(((PyObject *)__pyx_n_s____version__));
  __pyx_t_2 = __Pyx_Import(((PyObject *)__pyx_n_s__numpy), ((PyObject *)__pyx_t_3)); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 372; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(((PyObject *)__pyx_t_3)); __pyx_t_3 = 0;
  __pyx_t_3 = PyObject_GetAttr(__pyx_t_2, __pyx_n_s____version__); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 372; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  if (PyObject_SetAttr(__pyx_m, __pyx_n_s___npversion, __pyx_t_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 372; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":373
 * from numpy import ma
 * from numpy import __version__ as _npversion
 * if _npversion.split('.')[0] < '1':             # <<<<<<<<<<<<<<
 *     raise ImportError('requires numpy version 1.0rc1 or later')
 * import_array()
 */
  __pyx_t_2 = __Pyx_GetName(__pyx_m, __pyx_n_s___npversion); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 373; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = PyObject_GetAttr(__pyx_t_2, __pyx_n_s__split); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 373; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 373; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_INCREF(((PyObject *)__pyx_kp_s_44));
  PyTuple_SET_ITEM(__pyx_t_2, 0, ((PyObject *)__pyx_kp_s_44));
  __Pyx_GIVEREF(((PyObject *)__pyx_kp_s_44));
  __pyx_t_1 = PyObject_Call(__pyx_t_3, __pyx_t_2, NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 373; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = __Pyx_GetItemInt(__pyx_t_1, 0, sizeof(long), PyInt_FromLong); if (!__pyx_t_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 373; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = PyObject_RichCompare(__pyx_t_2, ((PyObject *)__pyx_kp_s__1), Py_LT); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 373; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_6 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 373; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  if (__pyx_t_6) {

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":374
 * from numpy import __version__ as _npversion
 * if _npversion.split('.')[0] < '1':
 *     raise ImportError('requires numpy version 1.0rc1 or later')             # <<<<<<<<<<<<<<
 * import_array()
 * include "netCDF3.pxi"
 */
    __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 374; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_INCREF(((PyObject *)__pyx_kp_s_45));
    PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject *)__pyx_kp_s_45));
    __Pyx_GIVEREF(((PyObject *)__pyx_kp_s_45));
    __pyx_t_2 = PyObject_Call(__pyx_builtin_ImportError, __pyx_t_1, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 374; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_Raise(__pyx_t_2, 0, 0);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 374; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L12;
  }
  __pyx_L12:;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":375
 * if _npversion.split('.')[0] < '1':
 *     raise ImportError('requires numpy version 1.0rc1 or later')
 * import_array()             # <<<<<<<<<<<<<<
 * include "netCDF3.pxi"
 * 
 */
  import_array();

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pxi":420
 * 
 * 
 * cdef int NC_FORMAT_NETCDF4=3             # <<<<<<<<<<<<<<
 * cdef int NC_FORMAT_NETCDF4_CLASSIC=4
 */
  __pyx_v_7netCDF3_NC_FORMAT_NETCDF4 = 3;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pxi":421
 * 
 * cdef int NC_FORMAT_NETCDF4=3
 * cdef int NC_FORMAT_NETCDF4_CLASSIC=4             # <<<<<<<<<<<<<<
 */
  __pyx_v_7netCDF3_NC_FORMAT_NETCDF4_CLASSIC = 4;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":380
 * # numpy data type <--> netCDF 3 data type mapping.
 * 
 * _nptonctype  = {'S1' : NC_CHAR,             # <<<<<<<<<<<<<<
 *                 'i1' : NC_BYTE,
 *                 'i2' : NC_SHORT,
 */
  __pyx_t_2 = PyDict_New(); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 380; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_2));
  __pyx_t_1 = PyInt_FromLong(NC_CHAR); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 380; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_t_2, ((PyObject *)__pyx_n_s__S1), __pyx_t_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 380; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":381
 * 
 * _nptonctype  = {'S1' : NC_CHAR,
 *                 'i1' : NC_BYTE,             # <<<<<<<<<<<<<<
 *                 'i2' : NC_SHORT,
 *                 'i4' : NC_INT,
 */
  __pyx_t_1 = PyInt_FromLong(NC_BYTE); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 381; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_t_2, ((PyObject *)__pyx_n_s__i1), __pyx_t_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 380; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":382
 * _nptonctype  = {'S1' : NC_CHAR,
 *                 'i1' : NC_BYTE,
 *                 'i2' : NC_SHORT,             # <<<<<<<<<<<<<<
 *                 'i4' : NC_INT,
 *                 'f8' : NC_DOUBLE,
 */
  __pyx_t_1 = PyInt_FromLong(NC_SHORT); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 382; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_t_2, ((PyObject *)__pyx_n_s__i2), __pyx_t_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 380; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":383
 *                 'i1' : NC_BYTE,
 *                 'i2' : NC_SHORT,
 *                 'i4' : NC_INT,             # <<<<<<<<<<<<<<
 *                 'f8' : NC_DOUBLE,
 *                 'f4' : NC_FLOAT}
 */
  __pyx_t_1 = PyInt_FromLong(NC_INT); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 383; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_t_2, ((PyObject *)__pyx_n_s__i4), __pyx_t_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 380; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":384
 *                 'i2' : NC_SHORT,
 *                 'i4' : NC_INT,
 *                 'f8' : NC_DOUBLE,             # <<<<<<<<<<<<<<
 *                 'f4' : NC_FLOAT}
 * 
 */
  __pyx_t_1 = PyInt_FromLong(NC_DOUBLE); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 384; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_t_2, ((PyObject *)__pyx_n_s__f8), __pyx_t_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 380; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":385
 *                 'i4' : NC_INT,
 *                 'f8' : NC_DOUBLE,
 *                 'f4' : NC_FLOAT}             # <<<<<<<<<<<<<<
 * 
 * _default_fillvals = {#'S1':NC_FILL_CHAR,
 */
  __pyx_t_1 = PyInt_FromLong(NC_FLOAT); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 385; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_t_2, ((PyObject *)__pyx_n_s__f4), __pyx_t_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 380; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  if (PyObject_SetAttr(__pyx_m, __pyx_n_s___nptonctype, ((PyObject *)__pyx_t_2)) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 380; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(((PyObject *)__pyx_t_2)); __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":387
 *                 'f4' : NC_FLOAT}
 * 
 * _default_fillvals = {#'S1':NC_FILL_CHAR,             # <<<<<<<<<<<<<<
 *                      'S1':'\0',
 *                      'i1':NC_FILL_BYTE,
 */
  __pyx_t_2 = PyDict_New(); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 387; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_2));
  if (PyDict_SetItem(__pyx_t_2, ((PyObject *)__pyx_n_s__S1), ((PyObject *)__pyx_kp_s_1)) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 387; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":389
 * _default_fillvals = {#'S1':NC_FILL_CHAR,
 *                      'S1':'\0',
 *                      'i1':NC_FILL_BYTE,             # <<<<<<<<<<<<<<
 *                      'i2':NC_FILL_SHORT,
 *                      'i4':NC_FILL_INT,
 */
  __pyx_t_1 = PyInt_FromLong(NC_FILL_BYTE); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 389; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_t_2, ((PyObject *)__pyx_n_s__i1), __pyx_t_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 387; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":390
 *                      'S1':'\0',
 *                      'i1':NC_FILL_BYTE,
 *                      'i2':NC_FILL_SHORT,             # <<<<<<<<<<<<<<
 *                      'i4':NC_FILL_INT,
 *                      'f4':NC_FILL_FLOAT,
 */
  __pyx_t_1 = PyInt_FromLong(NC_FILL_SHORT); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 390; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_t_2, ((PyObject *)__pyx_n_s__i2), __pyx_t_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 387; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":391
 *                      'i1':NC_FILL_BYTE,
 *                      'i2':NC_FILL_SHORT,
 *                      'i4':NC_FILL_INT,             # <<<<<<<<<<<<<<
 *                      'f4':NC_FILL_FLOAT,
 *                      'f8':NC_FILL_DOUBLE}
 */
  __pyx_t_1 = PyInt_FromLong(NC_FILL_INT); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 391; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_t_2, ((PyObject *)__pyx_n_s__i4), __pyx_t_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 387; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":392
 *                      'i2':NC_FILL_SHORT,
 *                      'i4':NC_FILL_INT,
 *                      'f4':NC_FILL_FLOAT,             # <<<<<<<<<<<<<<
 *                      'f8':NC_FILL_DOUBLE}
 * 
 */
  __pyx_t_1 = PyFloat_FromDouble(NC_FILL_FLOAT); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 392; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_t_2, ((PyObject *)__pyx_n_s__f4), __pyx_t_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 387; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":393
 *                      'i4':NC_FILL_INT,
 *                      'f4':NC_FILL_FLOAT,
 *                      'f8':NC_FILL_DOUBLE}             # <<<<<<<<<<<<<<
 * 
 * _nctonptype = {}
 */
  __pyx_t_1 = PyFloat_FromDouble(NC_FILL_DOUBLE); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 393; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  if (PyDict_SetItem(__pyx_t_2, ((PyObject *)__pyx_n_s__f8), __pyx_t_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 387; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  if (PyObject_SetAttr(__pyx_m, __pyx_n_s___default_fillvals, ((PyObject *)__pyx_t_2)) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 387; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(((PyObject *)__pyx_t_2)); __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":395
 *                      'f8':NC_FILL_DOUBLE}
 * 
 * _nctonptype = {}             # <<<<<<<<<<<<<<
 * for _key,_value in _nptonctype.iteritems():
 *     _nctonptype[_value] = _key
 */
  __pyx_t_2 = PyDict_New(); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 395; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_2));
  if (PyObject_SetAttr(__pyx_m, __pyx_n_s___nctonptype, ((PyObject *)__pyx_t_2)) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 395; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(((PyObject *)__pyx_t_2)); __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":396
 * 
 * _nctonptype = {}
 * for _key,_value in _nptonctype.iteritems():             # <<<<<<<<<<<<<<
 *     _nctonptype[_value] = _key
 * _supportedtypes = _nptonctype.keys()
 */
  __pyx_t_2 = __Pyx_GetName(__pyx_m, __pyx_n_s___nptonctype); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 396; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_1 = PyObject_GetAttr(__pyx_t_2, __pyx_n_s__iteritems); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 396; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = PyObject_Call(__pyx_t_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 396; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  if (PyList_CheckExact(__pyx_t_2) || PyTuple_CheckExact(__pyx_t_2)) {
    __pyx_t_7 = 0; __pyx_t_1 = __pyx_t_2; __Pyx_INCREF(__pyx_t_1);
  } else {
    __pyx_t_7 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_t_2); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 396; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_t_1))) {
      if (__pyx_t_7 >= PyList_GET_SIZE(__pyx_t_1)) break;
      __pyx_t_2 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_7); __Pyx_INCREF(__pyx_t_2); __pyx_t_7++;
    } else if (likely(PyTuple_CheckExact(__pyx_t_1))) {
      if (__pyx_t_7 >= PyTuple_GET_SIZE(__pyx_t_1)) break;
      __pyx_t_2 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_7); __Pyx_INCREF(__pyx_t_2); __pyx_t_7++;
    } else {
      __pyx_t_2 = PyIter_Next(__pyx_t_1);
      if (!__pyx_t_2) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 396; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
      __Pyx_GOTREF(__pyx_t_2);
    }
    if (PyTuple_CheckExact(__pyx_t_2) && likely(PyTuple_GET_SIZE(__pyx_t_2) == 2)) {
      PyObject* tuple = __pyx_t_2;
      __pyx_t_3 = PyTuple_GET_ITEM(tuple, 0); __Pyx_INCREF(__pyx_t_3);
      __pyx_t_5 = PyTuple_GET_ITEM(tuple, 1); __Pyx_INCREF(__pyx_t_5);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      if (PyObject_SetAttr(__pyx_m, __pyx_n_s___key, __pyx_t_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 396; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      if (PyObject_SetAttr(__pyx_m, __pyx_n_s___value, __pyx_t_5) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 396; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    } else {
      __pyx_t_4 = PyObject_GetIter(__pyx_t_2); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 396; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_3 = __Pyx_UnpackItem(__pyx_t_4, 0); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 396; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __pyx_t_5 = __Pyx_UnpackItem(__pyx_t_4, 1); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 396; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_5);
      if (__Pyx_EndUnpack(__pyx_t_4, 2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 396; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      if (PyObject_SetAttr(__pyx_m, __pyx_n_s___key, __pyx_t_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 396; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      if (PyObject_SetAttr(__pyx_m, __pyx_n_s___value, __pyx_t_5) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 396; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    }

    /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":397
 * _nctonptype = {}
 * for _key,_value in _nptonctype.iteritems():
 *     _nctonptype[_value] = _key             # <<<<<<<<<<<<<<
 * _supportedtypes = _nptonctype.keys()
 * 
 */
    __pyx_t_2 = __Pyx_GetName(__pyx_m, __pyx_n_s___key); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 397; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_5 = __Pyx_GetName(__pyx_m, __pyx_n_s___nctonptype); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 397; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_5);
    __pyx_t_3 = __Pyx_GetName(__pyx_m, __pyx_n_s___value); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 397; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    if (PyObject_SetItem(__pyx_t_5, __pyx_t_3, __pyx_t_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 397; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  }
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":398
 * for _key,_value in _nptonctype.iteritems():
 *     _nctonptype[_value] = _key
 * _supportedtypes = _nptonctype.keys()             # <<<<<<<<<<<<<<
 * 
 * # internal C functions.
 */
  __pyx_t_1 = __Pyx_GetName(__pyx_m, __pyx_n_s___nptonctype); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 398; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyObject_GetAttr(__pyx_t_1, __pyx_n_s__keys); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 398; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = PyObject_Call(__pyx_t_2, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 398; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  if (PyObject_SetAttr(__pyx_m, __pyx_n_s___supportedtypes, __pyx_t_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 398; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":464
 *             return value_arr
 * 
 * def _set_default_format(object format='NETCDF3_64BIT',object verbose=False):             # <<<<<<<<<<<<<<
 *     # Private function to set the netCDF file format
 *     if format == 'NETCDF3_64BIT':
 */
  __pyx_t_1 = __Pyx_PyBool_FromLong(0); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 464; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_k_5 = __pyx_t_1;
  __Pyx_GIVEREF(__pyx_t_1);
  __pyx_t_1 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":597
 * # only exist at the python level (not in the netCDF file).
 * 
 * _private_atts = ['_grpid','_grp','_varid','dimensions','variables','dtype','file_format', 'ndim','maskandscale']             # <<<<<<<<<<<<<<
 * 
 * 
 */
  __pyx_t_1 = PyList_New(9); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 597; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_1));
  __Pyx_INCREF(((PyObject *)__pyx_n_s___grpid));
  PyList_SET_ITEM(__pyx_t_1, 0, ((PyObject *)__pyx_n_s___grpid));
  __Pyx_GIVEREF(((PyObject *)__pyx_n_s___grpid));
  __Pyx_INCREF(((PyObject *)__pyx_n_s___grp));
  PyList_SET_ITEM(__pyx_t_1, 1, ((PyObject *)__pyx_n_s___grp));
  __Pyx_GIVEREF(((PyObject *)__pyx_n_s___grp));
  __Pyx_INCREF(((PyObject *)__pyx_n_s___varid));
  PyList_SET_ITEM(__pyx_t_1, 2, ((PyObject *)__pyx_n_s___varid));
  __Pyx_GIVEREF(((PyObject *)__pyx_n_s___varid));
  __Pyx_INCREF(((PyObject *)__pyx_n_s__dimensions));
  PyList_SET_ITEM(__pyx_t_1, 3, ((PyObject *)__pyx_n_s__dimensions));
  __Pyx_GIVEREF(((PyObject *)__pyx_n_s__dimensions));
  __Pyx_INCREF(((PyObject *)__pyx_n_s__variables));
  PyList_SET_ITEM(__pyx_t_1, 4, ((PyObject *)__pyx_n_s__variables));
  __Pyx_GIVEREF(((PyObject *)__pyx_n_s__variables));
  __Pyx_INCREF(((PyObject *)__pyx_n_s__dtype));
  PyList_SET_ITEM(__pyx_t_1, 5, ((PyObject *)__pyx_n_s__dtype));
  __Pyx_GIVEREF(((PyObject *)__pyx_n_s__dtype));
  __Pyx_INCREF(((PyObject *)__pyx_n_s__file_format));
  PyList_SET_ITEM(__pyx_t_1, 6, ((PyObject *)__pyx_n_s__file_format));
  __Pyx_GIVEREF(((PyObject *)__pyx_n_s__file_format));
  __Pyx_INCREF(((PyObject *)__pyx_n_s__ndim));
  PyList_SET_ITEM(__pyx_t_1, 7, ((PyObject *)__pyx_n_s__ndim));
  __Pyx_GIVEREF(((PyObject *)__pyx_n_s__ndim));
  __Pyx_INCREF(((PyObject *)__pyx_n_s__maskandscale));
  PyList_SET_ITEM(__pyx_t_1, 8, ((PyObject *)__pyx_n_s__maskandscale));
  __Pyx_GIVEREF(((PyObject *)__pyx_n_s__maskandscale));
  if (PyObject_SetAttr(__pyx_m, __pyx_n_s___private_atts, ((PyObject *)__pyx_t_1)) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 597; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/netCDF3.pyx":665
 *     cdef public dimensions, variables, file_format, maskanscale
 * 
 *     def __init__(self, filename, mode='r', clobber=True, format='NETCDF3_64BIT', **kwargs):             # <<<<<<<<<<<<<<
 *         cdef int grpid, ierr, numgrps, numdims, numvars
 *         cdef char *path
 */
  __pyx_t_1 = __Pyx_PyBool_FromLong(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 665; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_k_11 = __pyx_t_1;
  __Pyx_GIVEREF(__pyx_t_1);
  __pyx_t_1 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":178
 *     return PyString_FromString(libstring)
 * 
 * class MFDataset(Dataset):             # <<<<<<<<<<<<<<
 *     """
 * MFDataset(self, files, check=False, exclude=[])
 */
  __pyx_t_1 = PyDict_New(); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 178; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_1));
  __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 178; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_INCREF(((PyObject *)((PyObject*)__pyx_ptype_7netCDF3_Dataset)));
  PyTuple_SET_ITEM(__pyx_t_2, 0, ((PyObject *)((PyObject*)__pyx_ptype_7netCDF3_Dataset)));
  __Pyx_GIVEREF(((PyObject *)((PyObject*)__pyx_ptype_7netCDF3_Dataset)));
  if (PyDict_SetItemString(((PyObject *)__pyx_t_1), "__doc__", ((PyObject *)__pyx_kp_s_46)) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 178; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_t_3 = __Pyx_CreateClass(__pyx_t_2, ((PyObject *)__pyx_t_1), __pyx_n_s__MFDataset, "netCDF3"); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 178; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":210
 *     """
 * 
 *     def __init__(self, files, check=False, exclude=[]):             # <<<<<<<<<<<<<<
 *         """
 * Open a Dataset spanning multiple files, making it look as if it was a
 */
  __pyx_t_2 = __Pyx_PyBool_FromLong(0); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 210; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_k_25 = __pyx_t_2;
  __Pyx_GIVEREF(__pyx_t_2);
  __pyx_t_2 = 0;
  __pyx_t_2 = PyList_New(0); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 210; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_2));
  __pyx_k_26 = ((PyObject *)__pyx_t_2);
  __Pyx_GIVEREF(__pyx_t_2);
  __pyx_t_2 = 0;
  __pyx_t_2 = PyCFunction_New(&__pyx_mdef_7netCDF3_9MFDataset___init__, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 210; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_5 = PyMethod_New(__pyx_t_2, 0, __pyx_t_3); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 210; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  if (PyObject_SetAttr(__pyx_t_3, __pyx_n_s____init__, __pyx_t_5) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 210; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":371
 *             self._file_format.append(dset.file_format)
 * 
 *     def __setattr__(self, name, value):             # <<<<<<<<<<<<<<
 *         """override base class attribute creation"""
 *         self.__dict__[name] = value
 */
  __pyx_t_5 = PyCFunction_New(&__pyx_mdef_7netCDF3_9MFDataset___setattr__, NULL); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 371; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __pyx_t_2 = PyMethod_New(__pyx_t_5, 0, __pyx_t_3); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 371; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  if (PyObject_SetAttr(__pyx_t_3, __pyx_n_s____setattr__, __pyx_t_2) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 371; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":375
 *         self.__dict__[name] = value
 * 
 *     def __getattribute__(self, name):             # <<<<<<<<<<<<<<
 *         if name in ['variables','dimensions','file_format']:
 *             if name == 'dimensions': return self._dims
 */
  __pyx_t_2 = PyCFunction_New(&__pyx_mdef_7netCDF3_9MFDataset___getattribute__, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 375; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_5 = PyMethod_New(__pyx_t_2, 0, __pyx_t_3); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 375; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  if (PyObject_SetAttr(__pyx_t_3, __pyx_n_s____getattribute__, __pyx_t_5) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 375; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":383
 *             return Dataset.__getattribute__(self, name)
 * 
 *     def ncattrs(self):             # <<<<<<<<<<<<<<
 *         return self._cdf[0].__dict__.keys()
 * 
 */
  __pyx_t_5 = PyCFunction_New(&__pyx_mdef_7netCDF3_9MFDataset_ncattrs, NULL); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 383; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __pyx_t_2 = PyMethod_New(__pyx_t_5, 0, __pyx_t_3); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 383; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  if (PyObject_SetAttr(__pyx_t_3, __pyx_n_s__ncattrs, __pyx_t_2) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 383; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":386
 *         return self._cdf[0].__dict__.keys()
 * 
 *     def close(self):             # <<<<<<<<<<<<<<
 *         for dset in self._cdf:
 *             dset.close()
 */
  __pyx_t_2 = PyCFunction_New(&__pyx_mdef_7netCDF3_9MFDataset_close, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 386; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_5 = PyMethod_New(__pyx_t_2, 0, __pyx_t_3); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 386; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  if (PyObject_SetAttr(__pyx_t_3, __pyx_n_s__close, __pyx_t_5) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 386; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  if (PyObject_SetAttr(__pyx_m, __pyx_n_s__MFDataset, __pyx_t_3) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 178; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_DECREF(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":390
 *             dset.close()
 * 
 * class _Dimension(object):             # <<<<<<<<<<<<<<
 *     def __init__(self, dimname, dim, dimlens, dimtotlen):
 *         self.dimlens = dimlens
 */
  __pyx_t_1 = PyDict_New(); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 390; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_1));
  __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 390; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_INCREF(__pyx_builtin_object);
  PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_builtin_object);
  __Pyx_GIVEREF(__pyx_builtin_object);
  __pyx_t_5 = __Pyx_CreateClass(__pyx_t_3, ((PyObject *)__pyx_t_1), __pyx_n_s___Dimension, "netCDF3"); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 390; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":391
 * 
 * class _Dimension(object):
 *     def __init__(self, dimname, dim, dimlens, dimtotlen):             # <<<<<<<<<<<<<<
 *         self.dimlens = dimlens
 *         self.dimtotlen = dimtotlen
 */
  __pyx_t_3 = PyCFunction_New(&__pyx_mdef_7netCDF3_10_Dimension___init__, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 391; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_2 = PyMethod_New(__pyx_t_3, 0, __pyx_t_5); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 391; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  if (PyObject_SetAttr(__pyx_t_5, __pyx_n_s____init__, __pyx_t_2) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 391; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":394
 *         self.dimlens = dimlens
 *         self.dimtotlen = dimtotlen
 *     def __len__(self):             # <<<<<<<<<<<<<<
 *         return self.dimtotlen
 *     def isunlimited(self):
 */
  __pyx_t_2 = PyCFunction_New(&__pyx_mdef_7netCDF3_10_Dimension___len__, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 394; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = PyMethod_New(__pyx_t_2, 0, __pyx_t_5); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 394; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  if (PyObject_SetAttr(__pyx_t_5, __pyx_n_s____len__, __pyx_t_3) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 394; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":396
 *     def __len__(self):
 *         return self.dimtotlen
 *     def isunlimited(self):             # <<<<<<<<<<<<<<
 *         return True
 * 
 */
  __pyx_t_3 = PyCFunction_New(&__pyx_mdef_7netCDF3_10_Dimension_isunlimited, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 396; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_2 = PyMethod_New(__pyx_t_3, 0, __pyx_t_5); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 396; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  if (PyObject_SetAttr(__pyx_t_5, __pyx_n_s__isunlimited, __pyx_t_2) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 396; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  if (PyObject_SetAttr(__pyx_m, __pyx_n_s___Dimension, __pyx_t_5) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 390; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __Pyx_DECREF(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":399
 *         return True
 * 
 * class _Variable(object):             # <<<<<<<<<<<<<<
 *     def __init__(self, dset, varname, var, recdimname):
 *         self.dimensions = var.dimensions
 */
  __pyx_t_1 = PyDict_New(); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 399; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_1));
  __pyx_t_5 = PyTuple_New(1); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 399; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_INCREF(__pyx_builtin_object);
  PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_builtin_object);
  __Pyx_GIVEREF(__pyx_builtin_object);
  __pyx_t_2 = __Pyx_CreateClass(__pyx_t_5, ((PyObject *)__pyx_t_1), __pyx_n_s___Variable, "netCDF3"); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 399; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":400
 * 
 * class _Variable(object):
 *     def __init__(self, dset, varname, var, recdimname):             # <<<<<<<<<<<<<<
 *         self.dimensions = var.dimensions
 *         self._dset = dset
 */
  __pyx_t_5 = PyCFunction_New(&__pyx_mdef_7netCDF3_9_Variable___init__, NULL); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 400; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __pyx_t_3 = PyMethod_New(__pyx_t_5, 0, __pyx_t_2); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 400; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  if (PyObject_SetAttr(__pyx_t_2, __pyx_n_s____init__, __pyx_t_3) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 400; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":411
 *         for name, value in var.__dict__.items():
 *             self.__dict__[name] = value
 *     def typecode(self):             # <<<<<<<<<<<<<<
 *         return self.dtype
 *     def ncattrs(self):
 */
  __pyx_t_3 = PyCFunction_New(&__pyx_mdef_7netCDF3_9_Variable_typecode, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 411; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_5 = PyMethod_New(__pyx_t_3, 0, __pyx_t_2); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 411; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  if (PyObject_SetAttr(__pyx_t_2, __pyx_n_s__typecode, __pyx_t_5) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 411; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":413
 *     def typecode(self):
 *         return self.dtype
 *     def ncattrs(self):             # <<<<<<<<<<<<<<
 *         return self._mastervar.__dict__.keys()
 *     def __getattr__(self,name):
 */
  __pyx_t_5 = PyCFunction_New(&__pyx_mdef_7netCDF3_9_Variable_ncattrs, NULL); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 413; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __pyx_t_3 = PyMethod_New(__pyx_t_5, 0, __pyx_t_2); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 413; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  if (PyObject_SetAttr(__pyx_t_2, __pyx_n_s__ncattrs, __pyx_t_3) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 413; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":415
 *     def ncattrs(self):
 *         return self._mastervar.__dict__.keys()
 *     def __getattr__(self,name):             # <<<<<<<<<<<<<<
 *         if name == 'shape': return self._shape()
 *         if name == 'ndim': return len(self._shape())
 */
  __pyx_t_3 = PyCFunction_New(&__pyx_mdef_7netCDF3_9_Variable___getattr__, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 415; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_5 = PyMethod_New(__pyx_t_3, 0, __pyx_t_2); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 415; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  if (PyObject_SetAttr(__pyx_t_2, __pyx_n_s____getattr__, __pyx_t_5) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 415; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":422
 *         except:
 *             raise AttributeError(name)
 *     def __len__(self):             # <<<<<<<<<<<<<<
 *         return self._shape()[0]
 *     def _shape(self):
 */
  __pyx_t_5 = PyCFunction_New(&__pyx_mdef_7netCDF3_9_Variable___len__, NULL); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 422; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __pyx_t_3 = PyMethod_New(__pyx_t_5, 0, __pyx_t_2); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 422; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  if (PyObject_SetAttr(__pyx_t_2, __pyx_n_s____len__, __pyx_t_3) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 422; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":424
 *     def __len__(self):
 *         return self._shape()[0]
 *     def _shape(self):             # <<<<<<<<<<<<<<
 *         recdimlen = len(self._dset.dimensions[self._recdimname])
 *         return (recdimlen,) + self._mastervar.shape[1:]
 */
  __pyx_t_3 = PyCFunction_New(&__pyx_mdef_7netCDF3_9_Variable__shape, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 424; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_5 = PyMethod_New(__pyx_t_3, 0, __pyx_t_2); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 424; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  if (PyObject_SetAttr(__pyx_t_2, __pyx_n_s___shape, __pyx_t_5) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 424; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":427
 *         recdimlen = len(self._dset.dimensions[self._recdimname])
 *         return (recdimlen,) + self._mastervar.shape[1:]
 *     def set_auto_maskandscale(self,val):             # <<<<<<<<<<<<<<
 *         for v in self._recVar:
 *             v.set_auto_maskandscale(val)
 */
  __pyx_t_5 = PyCFunction_New(&__pyx_mdef_7netCDF3_9_Variable_set_auto_maskandscale, NULL); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 427; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __pyx_t_3 = PyMethod_New(__pyx_t_5, 0, __pyx_t_2); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 427; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  if (PyObject_SetAttr(__pyx_t_2, __pyx_n_s_37, __pyx_t_3) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 427; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

  /* "/mac_home/jwhitaker/python/netcdf4-python/utils.pyx":430
 *         for v in self._recVar:
 *             v.set_auto_maskandscale(val)
 *     def __getitem__(self, elem):             # <<<<<<<<<<<<<<
 *         """Get records from a concatenated set of variables."""
 * 
 */
  __pyx_t_3 = PyCFunction_New(&__pyx_mdef_7netCDF3_9_Variable___getitem__, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 430; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_5 = PyMethod_New(__pyx_t_3, 0, __pyx_t_2); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 430; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  if (PyObject_SetAttr(__pyx_t_2, __pyx_n_s____getitem__, __pyx_t_5) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 430; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  if (PyObject_SetAttr(__pyx_m, __pyx_n_s___Variable, __pyx_t_2) < 0) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 399; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  if (__pyx_m) {
    __Pyx_AddTraceback("init netCDF3");
    Py_DECREF(__pyx_m); __pyx_m = 0;
  } else if (!PyErr_Occurred()) {
    PyErr_SetString(PyExc_ImportError, "init netCDF3");
  }
  __pyx_L0:;
  __Pyx_RefNannyFinishContext();
  #if PY_MAJOR_VERSION < 3
  return;
  #else
  return __pyx_m;
  #endif
}

/* Runtime support code */

static PyObject *__Pyx_GetName(PyObject *dict, PyObject *name) {
    PyObject *result;
    result = PyObject_GetAttr(dict, name);
    if (!result)
        PyErr_SetObject(PyExc_NameError, name);
    return result;
}

static CYTHON_INLINE int __Pyx_TypeTest(PyObject *obj, PyTypeObject *type) {
    if (unlikely(!type)) {
        PyErr_Format(PyExc_SystemError, "Missing type object");
        return 0;
    }
    if (likely(PyObject_TypeCheck(obj, type)))
        return 1;
    PyErr_Format(PyExc_TypeError, "Cannot convert %.200s to %.200s",
                 Py_TYPE(obj)->tp_name, type->tp_name);
    return 0;
}


static int __Pyx_GetException(PyObject **type, PyObject **value, PyObject **tb) {
    PyObject *local_type, *local_value, *local_tb;
    PyObject *tmp_type, *tmp_value, *tmp_tb;
    PyThreadState *tstate = PyThreadState_GET();
    local_type = tstate->curexc_type;
    local_value = tstate->curexc_value;
    local_tb = tstate->curexc_traceback;
    tstate->curexc_type = 0;
    tstate->curexc_value = 0;
    tstate->curexc_traceback = 0;
    PyErr_NormalizeException(&local_type, &local_value, &local_tb);
    if (unlikely(tstate->curexc_type))
        goto bad;
    #if PY_MAJOR_VERSION >= 3
    if (unlikely(PyException_SetTraceback(local_value, local_tb) < 0))
        goto bad;
    #endif
    *type = local_type;
    *value = local_value;
    *tb = local_tb;
    Py_INCREF(local_type);
    Py_INCREF(local_value);
    Py_INCREF(local_tb);
    tmp_type = tstate->exc_type;
    tmp_value = tstate->exc_value;
    tmp_tb = tstate->exc_traceback;
    tstate->exc_type = local_type;
    tstate->exc_value = local_value;
    tstate->exc_traceback = local_tb;
    /* Make sure tstate is in a consistent state when we XDECREF
       these objects (XDECREF may run arbitrary code). */
    Py_XDECREF(tmp_type);
    Py_XDECREF(tmp_value);
    Py_XDECREF(tmp_tb);
    return 0;
bad:
    *type = 0;
    *value = 0;
    *tb = 0;
    Py_XDECREF(local_type);
    Py_XDECREF(local_value);
    Py_XDECREF(local_tb);
    return -1;
}


static void __Pyx_RaiseDoubleKeywordsError(
    const char* func_name,
    PyObject* kw_name)
{
    PyErr_Format(PyExc_TypeError,
        #if PY_MAJOR_VERSION >= 3
        "%s() got multiple values for keyword argument '%U'", func_name, kw_name);
        #else
        "%s() got multiple values for keyword argument '%s'", func_name,
        PyString_AS_STRING(kw_name));
        #endif
}

static void __Pyx_RaiseArgtupleInvalid(
    const char* func_name,
    int exact,
    Py_ssize_t num_min,
    Py_ssize_t num_max,
    Py_ssize_t num_found)
{
    Py_ssize_t num_expected;
    const char *number, *more_or_less;

    if (num_found < num_min) {
        num_expected = num_min;
        more_or_less = "at least";
    } else {
        num_expected = num_max;
        more_or_less = "at most";
    }
    if (exact) {
        more_or_less = "exactly";
    }
    number = (num_expected == 1) ? "" : "s";
    PyErr_Format(PyExc_TypeError,
        #if PY_VERSION_HEX < 0x02050000
            "%s() takes %s %d positional argument%s (%d given)",
        #else
            "%s() takes %s %zd positional argument%s (%zd given)",
        #endif
        func_name, more_or_less, num_expected, number, num_found);
}

static int __Pyx_ParseOptionalKeywords(
    PyObject *kwds,
    PyObject **argnames[],
    PyObject *kwds2,
    PyObject *values[],
    Py_ssize_t num_pos_args,
    const char* function_name)
{
    PyObject *key = 0, *value = 0;
    Py_ssize_t pos = 0;
    PyObject*** name;
    PyObject*** first_kw_arg = argnames + num_pos_args;

    while (PyDict_Next(kwds, &pos, &key, &value)) {
        name = first_kw_arg;
        while (*name && (**name != key)) name++;
        if (*name) {
            values[name-argnames] = value;
        } else {
            #if PY_MAJOR_VERSION < 3
            if (unlikely(!PyString_CheckExact(key)) && unlikely(!PyString_Check(key))) {
            #else
            if (unlikely(!PyUnicode_CheckExact(key)) && unlikely(!PyUnicode_Check(key))) {
            #endif
                goto invalid_keyword_type;
            } else {
                for (name = first_kw_arg; *name; name++) {
                    #if PY_MAJOR_VERSION >= 3
                    if (PyUnicode_GET_SIZE(**name) == PyUnicode_GET_SIZE(key) &&
                        PyUnicode_Compare(**name, key) == 0) break;
                    #else
                    if (PyString_GET_SIZE(**name) == PyString_GET_SIZE(key) &&
                        _PyString_Eq(**name, key)) break;
                    #endif
                }
                if (*name) {
                    values[name-argnames] = value;
                } else {
                    /* unexpected keyword found */
                    for (name=argnames; name != first_kw_arg; name++) {
                        if (**name == key) goto arg_passed_twice;
                        #if PY_MAJOR_VERSION >= 3
                        if (PyUnicode_GET_SIZE(**name) == PyUnicode_GET_SIZE(key) &&
                            PyUnicode_Compare(**name, key) == 0) goto arg_passed_twice;
                        #else
                        if (PyString_GET_SIZE(**name) == PyString_GET_SIZE(key) &&
                            _PyString_Eq(**name, key)) goto arg_passed_twice;
                        #endif
                    }
                    if (kwds2) {
                        if (unlikely(PyDict_SetItem(kwds2, key, value))) goto bad;
                    } else {
                        goto invalid_keyword;
                    }
                }
            }
        }
    }
    return 0;
arg_passed_twice:
    __Pyx_RaiseDoubleKeywordsError(function_name, **name);
    goto bad;
invalid_keyword_type:
    PyErr_Format(PyExc_TypeError,
        "%s() keywords must be strings", function_name);
    goto bad;
invalid_keyword:
    PyErr_Format(PyExc_TypeError,
    #if PY_MAJOR_VERSION < 3
        "%s() got an unexpected keyword argument '%s'",
        function_name, PyString_AsString(key));
    #else
        "%s() got an unexpected keyword argument '%U'",
        function_name, key);
    #endif
bad:
    return -1;
}

static CYTHON_INLINE void __Pyx_RaiseNeedMoreValuesError(Py_ssize_t index) {
    PyErr_Format(PyExc_ValueError,
        #if PY_VERSION_HEX < 0x02050000
                 "need more than %d value%s to unpack", (int)index,
        #else
                 "need more than %zd value%s to unpack", index,
        #endif
                 (index == 1) ? "" : "s");
}

static CYTHON_INLINE void __Pyx_RaiseTooManyValuesError(Py_ssize_t expected) {
    PyErr_Format(PyExc_ValueError,
        #if PY_VERSION_HEX < 0x02050000
            "too many values to unpack (expected %d)", (int)expected);
        #else
            "too many values to unpack (expected %zd)", expected);
        #endif
}

static PyObject *__Pyx_UnpackItem(PyObject *iter, Py_ssize_t index) {
    PyObject *item;
    if (!(item = PyIter_Next(iter))) {
        if (!PyErr_Occurred()) {
            __Pyx_RaiseNeedMoreValuesError(index);
        }
    }
    return item;
}

static int __Pyx_EndUnpack(PyObject *iter, Py_ssize_t expected) {
    PyObject *item;
    if ((item = PyIter_Next(iter))) {
        Py_DECREF(item);
        __Pyx_RaiseTooManyValuesError(expected);
        return -1;
    }
    else if (!PyErr_Occurred())
        return 0;
    else
        return -1;
}

static CYTHON_INLINE void __Pyx_RaiseNoneIndexingError(void) {
    PyErr_SetString(PyExc_TypeError, "'NoneType' object is unsubscriptable");
}

static int __Pyx_ArgTypeTest(PyObject *obj, PyTypeObject *type, int none_allowed,
    const char *name, int exact)
{
    if (!type) {
        PyErr_Format(PyExc_SystemError, "Missing type object");
        return 0;
    }
    if (none_allowed && obj == Py_None) return 1;
    else if (exact) {
        if (Py_TYPE(obj) == type) return 1;
    }
    else {
        if (PyObject_TypeCheck(obj, type)) return 1;
    }
    PyErr_Format(PyExc_TypeError,
        "Argument '%s' has incorrect type (expected %s, got %s)",
        name, type->tp_name, Py_TYPE(obj)->tp_name);
    return 0;
}


static CYTHON_INLINE void __Pyx_ExceptionSave(PyObject **type, PyObject **value, PyObject **tb) {
    PyThreadState *tstate = PyThreadState_GET();
    *type = tstate->exc_type;
    *value = tstate->exc_value;
    *tb = tstate->exc_traceback;
    Py_XINCREF(*type);
    Py_XINCREF(*value);
    Py_XINCREF(*tb);
}

static void __Pyx_ExceptionReset(PyObject *type, PyObject *value, PyObject *tb) {
    PyObject *tmp_type, *tmp_value, *tmp_tb;
    PyThreadState *tstate = PyThreadState_GET();
    tmp_type = tstate->exc_type;
    tmp_value = tstate->exc_value;
    tmp_tb = tstate->exc_traceback;
    tstate->exc_type = type;
    tstate->exc_value = value;
    tstate->exc_traceback = tb;
    Py_XDECREF(tmp_type);
    Py_XDECREF(tmp_value);
    Py_XDECREF(tmp_tb);
}

static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list) {
    PyObject *py_import = 0;
    PyObject *empty_list = 0;
    PyObject *module = 0;
    PyObject *global_dict = 0;
    PyObject *empty_dict = 0;
    PyObject *list;
    py_import = __Pyx_GetAttrString(__pyx_b, "__import__");
    if (!py_import)
        goto bad;
    if (from_list)
        list = from_list;
    else {
        empty_list = PyList_New(0);
        if (!empty_list)
            goto bad;
        list = empty_list;
    }
    global_dict = PyModule_GetDict(__pyx_m);
    if (!global_dict)
        goto bad;
    empty_dict = PyDict_New();
    if (!empty_dict)
        goto bad;
    module = PyObject_CallFunctionObjArgs(py_import,
        name, global_dict, empty_dict, list, NULL);
bad:
    Py_XDECREF(empty_list);
    Py_XDECREF(py_import);
    Py_XDECREF(empty_dict);
    return module;
}

static CYTHON_INLINE void __Pyx_ErrRestore(PyObject *type, PyObject *value, PyObject *tb) {
    PyObject *tmp_type, *tmp_value, *tmp_tb;
    PyThreadState *tstate = PyThreadState_GET();

    tmp_type = tstate->curexc_type;
    tmp_value = tstate->curexc_value;
    tmp_tb = tstate->curexc_traceback;
    tstate->curexc_type = type;
    tstate->curexc_value = value;
    tstate->curexc_traceback = tb;
    Py_XDECREF(tmp_type);
    Py_XDECREF(tmp_value);
    Py_XDECREF(tmp_tb);
}

static CYTHON_INLINE void __Pyx_ErrFetch(PyObject **type, PyObject **value, PyObject **tb) {
    PyThreadState *tstate = PyThreadState_GET();
    *type = tstate->curexc_type;
    *value = tstate->curexc_value;
    *tb = tstate->curexc_traceback;

    tstate->curexc_type = 0;
    tstate->curexc_value = 0;
    tstate->curexc_traceback = 0;
}


#if PY_MAJOR_VERSION < 3
static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb) {
    Py_XINCREF(type);
    Py_XINCREF(value);
    Py_XINCREF(tb);
    /* First, check the traceback argument, replacing None with NULL. */
    if (tb == Py_None) {
        Py_DECREF(tb);
        tb = 0;
    }
    else if (tb != NULL && !PyTraceBack_Check(tb)) {
        PyErr_SetString(PyExc_TypeError,
            "raise: arg 3 must be a traceback or None");
        goto raise_error;
    }
    /* Next, replace a missing value with None */
    if (value == NULL) {
        value = Py_None;
        Py_INCREF(value);
    }
    #if PY_VERSION_HEX < 0x02050000
    if (!PyClass_Check(type))
    #else
    if (!PyType_Check(type))
    #endif
    {
        /* Raising an instance.  The value should be a dummy. */
        if (value != Py_None) {
            PyErr_SetString(PyExc_TypeError,
                "instance exception may not have a separate value");
            goto raise_error;
        }
        /* Normalize to raise <class>, <instance> */
        Py_DECREF(value);
        value = type;
        #if PY_VERSION_HEX < 0x02050000
            if (PyInstance_Check(type)) {
                type = (PyObject*) ((PyInstanceObject*)type)->in_class;
                Py_INCREF(type);
            }
            else {
                type = 0;
                PyErr_SetString(PyExc_TypeError,
                    "raise: exception must be an old-style class or instance");
                goto raise_error;
            }
        #else
            type = (PyObject*) Py_TYPE(type);
            Py_INCREF(type);
            if (!PyType_IsSubtype((PyTypeObject *)type, (PyTypeObject *)PyExc_BaseException)) {
                PyErr_SetString(PyExc_TypeError,
                    "raise: exception class must be a subclass of BaseException");
                goto raise_error;
            }
        #endif
    }

    __Pyx_ErrRestore(type, value, tb);
    return;
raise_error:
    Py_XDECREF(value);
    Py_XDECREF(type);
    Py_XDECREF(tb);
    return;
}

#else /* Python 3+ */

static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb) {
    if (tb == Py_None) {
        tb = 0;
    } else if (tb && !PyTraceBack_Check(tb)) {
        PyErr_SetString(PyExc_TypeError,
            "raise: arg 3 must be a traceback or None");
        goto bad;
    }
    if (value == Py_None)
        value = 0;

    if (PyExceptionInstance_Check(type)) {
        if (value) {
            PyErr_SetString(PyExc_TypeError,
                "instance exception may not have a separate value");
            goto bad;
        }
        value = type;
        type = (PyObject*) Py_TYPE(value);
    } else if (!PyExceptionClass_Check(type)) {
        PyErr_SetString(PyExc_TypeError,
            "raise: exception class must be a subclass of BaseException");
        goto bad;
    }

    PyErr_SetObject(type, value);

    if (tb) {
        PyThreadState *tstate = PyThreadState_GET();
        PyObject* tmp_tb = tstate->curexc_traceback;
        if (tb != tmp_tb) {
            Py_INCREF(tb);
            tstate->curexc_traceback = tb;
            Py_XDECREF(tmp_tb);
        }
    }

bad:
    return;
}
#endif

static PyObject *__Pyx_CreateClass(
    PyObject *bases, PyObject *dict, PyObject *name, const char *modname)
{
    PyObject *py_modname;
    PyObject *result = 0;

    #if PY_MAJOR_VERSION < 3
    py_modname = PyString_FromString(modname);
    #else
    py_modname = PyUnicode_FromString(modname);
    #endif
    if (!py_modname)
        goto bad;
    if (PyDict_SetItemString(dict, "__module__", py_modname) < 0)
        goto bad;
    #if PY_MAJOR_VERSION < 3
    result = PyClass_New(bases, dict, name);
    #else
    result = PyObject_CallFunctionObjArgs((PyObject *)&PyType_Type, name, bases, dict, NULL);
    #endif
bad:
    Py_XDECREF(py_modname);
    return result;
}

static CYTHON_INLINE PyObject *__Pyx_PyInt_to_py_nc_type(nc_type val) {
    const nc_type neg_one = (nc_type)-1, const_zero = (nc_type)0;
    const int is_unsigned = const_zero < neg_one;
    if ((sizeof(nc_type) == sizeof(char))  ||
        (sizeof(nc_type) == sizeof(short))) {
        return PyInt_FromLong((long)val);
    } else if ((sizeof(nc_type) == sizeof(int)) ||
               (sizeof(nc_type) == sizeof(long))) {
        if (is_unsigned)
            return PyLong_FromUnsignedLong((unsigned long)val);
        else
            return PyInt_FromLong((long)val);
    } else if (sizeof(nc_type) == sizeof(PY_LONG_LONG)) {
        if (is_unsigned)
            return PyLong_FromUnsignedLongLong((unsigned PY_LONG_LONG)val);
        else
            return PyLong_FromLongLong((PY_LONG_LONG)val);
    } else {
        int one = 1; int little = (int)*(unsigned char *)&one;
        unsigned char *bytes = (unsigned char *)&val;
        return _PyLong_FromByteArray(bytes, sizeof(nc_type), 
                                     little, !is_unsigned);
    }
}

#if PY_MAJOR_VERSION < 3
static PyObject *__Pyx_GetStdout(void) {
    PyObject *f = PySys_GetObject((char *)"stdout");
    if (!f) {
        PyErr_SetString(PyExc_RuntimeError, "lost sys.stdout");
    }
    return f;
}

static int __Pyx_Print(PyObject* f, PyObject *arg_tuple, int newline) {
    PyObject* v;
    int i;

    if (!f) {
        if (!(f = __Pyx_GetStdout()))
            return -1;
    }
    for (i=0; i < PyTuple_GET_SIZE(arg_tuple); i++) {
        if (PyFile_SoftSpace(f, 1)) {
            if (PyFile_WriteString(" ", f) < 0)
                return -1;
        }
        v = PyTuple_GET_ITEM(arg_tuple, i);
        if (PyFile_WriteObject(v, f, Py_PRINT_RAW) < 0)
            return -1;
        if (PyString_Check(v)) {
            char *s = PyString_AsString(v);
            Py_ssize_t len = PyString_Size(v);
            if (len > 0 &&
                isspace(Py_CHARMASK(s[len-1])) &&
                s[len-1] != ' ')
                    PyFile_SoftSpace(f, 0);
        }
    }
    if (newline) {
        if (PyFile_WriteString("\n", f) < 0)
            return -1;
        PyFile_SoftSpace(f, 0);
    }
    return 0;
}

#else /* Python 3 has a print function */

static int __Pyx_Print(PyObject* stream, PyObject *arg_tuple, int newline) {
    PyObject* kwargs = 0;
    PyObject* result = 0;
    PyObject* end_string;
    if (unlikely(!__pyx_print)) {
        __pyx_print = __Pyx_GetAttrString(__pyx_b, "print");
        if (!__pyx_print)
            return -1;
    }
    if (stream) {
        kwargs = PyDict_New();
        if (unlikely(!kwargs))
            return -1;
        if (unlikely(PyDict_SetItemString(kwargs, "file", stream) < 0))
            goto bad;
        if (!newline) {
            end_string = PyUnicode_FromStringAndSize(" ", 1);
            if (unlikely(!end_string))
                goto bad;
            if (PyDict_SetItemString(kwargs, "end", end_string) < 0) {
                Py_DECREF(end_string);
                goto bad;
            }
            Py_DECREF(end_string);
        }
    } else if (!newline) {
        if (unlikely(!__pyx_print_kwargs)) {
            __pyx_print_kwargs = PyDict_New();
            if (unlikely(!__pyx_print_kwargs))
                return -1;
            end_string = PyUnicode_FromStringAndSize(" ", 1);
            if (unlikely(!end_string))
                return -1;
            if (PyDict_SetItemString(__pyx_print_kwargs, "end", end_string) < 0) {
                Py_DECREF(end_string);
                return -1;
            }
            Py_DECREF(end_string);
        }
        kwargs = __pyx_print_kwargs;
    }
    result = PyObject_Call(__pyx_print, arg_tuple, kwargs);
    if (unlikely(kwargs) && (kwargs != __pyx_print_kwargs))
        Py_DECREF(kwargs);
    if (!result)
        return -1;
    Py_DECREF(result);
    return 0;
bad:
    if (kwargs != __pyx_print_kwargs)
        Py_XDECREF(kwargs);
    return -1;
}

#endif

#if PY_MAJOR_VERSION < 3

static int __Pyx_PrintOne(PyObject* f, PyObject *o) {
    if (!f) {
        if (!(f = __Pyx_GetStdout()))
            return -1;
    }
    if (PyFile_SoftSpace(f, 0)) {
        if (PyFile_WriteString(" ", f) < 0)
            return -1;
    }
    if (PyFile_WriteObject(o, f, Py_PRINT_RAW) < 0)
        return -1;
    if (PyFile_WriteString("\n", f) < 0)
        return -1;
    return 0;
    /* the line below is just to avoid compiler
     * compiler warnings about unused functions */
    return __Pyx_Print(f, NULL, 0);
}

#else /* Python 3 has a print function */

static int __Pyx_PrintOne(PyObject* stream, PyObject *o) {
    int res;
    PyObject* arg_tuple = PyTuple_New(1);
    if (unlikely(!arg_tuple))
        return -1;
    Py_INCREF(o);
    PyTuple_SET_ITEM(arg_tuple, 0, o);
    res = __Pyx_Print(stream, arg_tuple, 1);
    Py_DECREF(arg_tuple);
    return res;
}

#endif

static CYTHON_INLINE nc_type __Pyx_PyInt_from_py_nc_type(PyObject* x) {
    const nc_type neg_one = (nc_type)-1, const_zero = (nc_type)0;
    const int is_unsigned = const_zero < neg_one;
    if (sizeof(nc_type) == sizeof(char)) {
        if (is_unsigned)
            return (nc_type)__Pyx_PyInt_AsUnsignedChar(x);
        else
            return (nc_type)__Pyx_PyInt_AsSignedChar(x);
    } else if (sizeof(nc_type) == sizeof(short)) {
        if (is_unsigned)
            return (nc_type)__Pyx_PyInt_AsUnsignedShort(x);
        else
            return (nc_type)__Pyx_PyInt_AsSignedShort(x);
    } else if (sizeof(nc_type) == sizeof(int)) {
        if (is_unsigned)
            return (nc_type)__Pyx_PyInt_AsUnsignedInt(x);
        else
            return (nc_type)__Pyx_PyInt_AsSignedInt(x);
    } else if (sizeof(nc_type) == sizeof(long)) {
        if (is_unsigned)
            return (nc_type)__Pyx_PyInt_AsUnsignedLong(x);
        else
            return (nc_type)__Pyx_PyInt_AsSignedLong(x);
    } else if (sizeof(nc_type) == sizeof(PY_LONG_LONG)) {
        if (is_unsigned)
            return (nc_type)__Pyx_PyInt_AsUnsignedLongLong(x);
        else
            return (nc_type)__Pyx_PyInt_AsSignedLongLong(x);
    }  else {
        nc_type val;
        PyObject *v = __Pyx_PyNumber_Int(x);
        #if PY_VERSION_HEX < 0x03000000
        if (likely(v) && !PyLong_Check(v)) {
            PyObject *tmp = v;
            v = PyNumber_Long(tmp);
            Py_DECREF(tmp);
        }
        #endif
        if (likely(v)) {
            int one = 1; int is_little = (int)*(unsigned char *)&one;
            unsigned char *bytes = (unsigned char *)&val;
            int ret = _PyLong_AsByteArray((PyLongObject *)v,
                                          bytes, sizeof(val),
                                          is_little, !is_unsigned);
            Py_DECREF(v);
            if (likely(!ret))
                return val;
        }
        return (nc_type)-1;
    }
}

static CYTHON_INLINE ptrdiff_t __Pyx_PyInt_from_py_ptrdiff_t(PyObject* x) {
    const ptrdiff_t neg_one = (ptrdiff_t)-1, const_zero = (ptrdiff_t)0;
    const int is_unsigned = const_zero < neg_one;
    if (sizeof(ptrdiff_t) == sizeof(char)) {
        if (is_unsigned)
            return (ptrdiff_t)__Pyx_PyInt_AsUnsignedChar(x);
        else
            return (ptrdiff_t)__Pyx_PyInt_AsSignedChar(x);
    } else if (sizeof(ptrdiff_t) == sizeof(short)) {
        if (is_unsigned)
            return (ptrdiff_t)__Pyx_PyInt_AsUnsignedShort(x);
        else
            return (ptrdiff_t)__Pyx_PyInt_AsSignedShort(x);
    } else if (sizeof(ptrdiff_t) == sizeof(int)) {
        if (is_unsigned)
            return (ptrdiff_t)__Pyx_PyInt_AsUnsignedInt(x);
        else
            return (ptrdiff_t)__Pyx_PyInt_AsSignedInt(x);
    } else if (sizeof(ptrdiff_t) == sizeof(long)) {
        if (is_unsigned)
            return (ptrdiff_t)__Pyx_PyInt_AsUnsignedLong(x);
        else
            return (ptrdiff_t)__Pyx_PyInt_AsSignedLong(x);
    } else if (sizeof(ptrdiff_t) == sizeof(PY_LONG_LONG)) {
        if (is_unsigned)
            return (ptrdiff_t)__Pyx_PyInt_AsUnsignedLongLong(x);
        else
            return (ptrdiff_t)__Pyx_PyInt_AsSignedLongLong(x);
    }  else {
        ptrdiff_t val;
        PyObject *v = __Pyx_PyNumber_Int(x);
        #if PY_VERSION_HEX < 0x03000000
        if (likely(v) && !PyLong_Check(v)) {
            PyObject *tmp = v;
            v = PyNumber_Long(tmp);
            Py_DECREF(tmp);
        }
        #endif
        if (likely(v)) {
            int one = 1; int is_little = (int)*(unsigned char *)&one;
            unsigned char *bytes = (unsigned char *)&val;
            int ret = _PyLong_AsByteArray((PyLongObject *)v,
                                          bytes, sizeof(val),
                                          is_little, !is_unsigned);
            Py_DECREF(v);
            if (likely(!ret))
                return val;
        }
        return (ptrdiff_t)-1;
    }
}

static CYTHON_INLINE unsigned char __Pyx_PyInt_AsUnsignedChar(PyObject* x) {
    const unsigned char neg_one = (unsigned char)-1, const_zero = 0;
    const int is_unsigned = neg_one > const_zero;
    if (sizeof(unsigned char) < sizeof(long)) {
        long val = __Pyx_PyInt_AsLong(x);
        if (unlikely(val != (long)(unsigned char)val)) {
            if (!unlikely(val == -1 && PyErr_Occurred())) {
                PyErr_SetString(PyExc_OverflowError,
                    (is_unsigned && unlikely(val < 0)) ?
                    "can't convert negative value to unsigned char" :
                    "value too large to convert to unsigned char");
            }
            return (unsigned char)-1;
        }
        return (unsigned char)val;
    }
    return (unsigned char)__Pyx_PyInt_AsUnsignedLong(x);
}

static CYTHON_INLINE unsigned short __Pyx_PyInt_AsUnsignedShort(PyObject* x) {
    const unsigned short neg_one = (unsigned short)-1, const_zero = 0;
    const int is_unsigned = neg_one > const_zero;
    if (sizeof(unsigned short) < sizeof(long)) {
        long val = __Pyx_PyInt_AsLong(x);
        if (unlikely(val != (long)(unsigned short)val)) {
            if (!unlikely(val == -1 && PyErr_Occurred())) {
                PyErr_SetString(PyExc_OverflowError,
                    (is_unsigned && unlikely(val < 0)) ?
                    "can't convert negative value to unsigned short" :
                    "value too large to convert to unsigned short");
            }
            return (unsigned short)-1;
        }
        return (unsigned short)val;
    }
    return (unsigned short)__Pyx_PyInt_AsUnsignedLong(x);
}

static CYTHON_INLINE unsigned int __Pyx_PyInt_AsUnsignedInt(PyObject* x) {
    const unsigned int neg_one = (unsigned int)-1, const_zero = 0;
    const int is_unsigned = neg_one > const_zero;
    if (sizeof(unsigned int) < sizeof(long)) {
        long val = __Pyx_PyInt_AsLong(x);
        if (unlikely(val != (long)(unsigned int)val)) {
            if (!unlikely(val == -1 && PyErr_Occurred())) {
                PyErr_SetString(PyExc_OverflowError,
                    (is_unsigned && unlikely(val < 0)) ?
                    "can't convert negative value to unsigned int" :
                    "value too large to convert to unsigned int");
            }
            return (unsigned int)-1;
        }
        return (unsigned int)val;
    }
    return (unsigned int)__Pyx_PyInt_AsUnsignedLong(x);
}

static CYTHON_INLINE char __Pyx_PyInt_AsChar(PyObject* x) {
    const char neg_one = (char)-1, const_zero = 0;
    const int is_unsigned = neg_one > const_zero;
    if (sizeof(char) < sizeof(long)) {
        long val = __Pyx_PyInt_AsLong(x);
        if (unlikely(val != (long)(char)val)) {
            if (!unlikely(val == -1 && PyErr_Occurred())) {
                PyErr_SetString(PyExc_OverflowError,
                    (is_unsigned && unlikely(val < 0)) ?
                    "can't convert negative value to char" :
                    "value too large to convert to char");
            }
            return (char)-1;
        }
        return (char)val;
    }
    return (char)__Pyx_PyInt_AsLong(x);
}

static CYTHON_INLINE short __Pyx_PyInt_AsShort(PyObject* x) {
    const short neg_one = (short)-1, const_zero = 0;
    const int is_unsigned = neg_one > const_zero;
    if (sizeof(short) < sizeof(long)) {
        long val = __Pyx_PyInt_AsLong(x);
        if (unlikely(val != (long)(short)val)) {
            if (!unlikely(val == -1 && PyErr_Occurred())) {
                PyErr_SetString(PyExc_OverflowError,
                    (is_unsigned && unlikely(val < 0)) ?
                    "can't convert negative value to short" :
                    "value too large to convert to short");
            }
            return (short)-1;
        }
        return (short)val;
    }
    return (short)__Pyx_PyInt_AsLong(x);
}

static CYTHON_INLINE int __Pyx_PyInt_AsInt(PyObject* x) {
    const int neg_one = (int)-1, const_zero = 0;
    const int is_unsigned = neg_one > const_zero;
    if (sizeof(int) < sizeof(long)) {
        long val = __Pyx_PyInt_AsLong(x);
        if (unlikely(val != (long)(int)val)) {
            if (!unlikely(val == -1 && PyErr_Occurred())) {
                PyErr_SetString(PyExc_OverflowError,
                    (is_unsigned && unlikely(val < 0)) ?
                    "can't convert negative value to int" :
                    "value too large to convert to int");
            }
            return (int)-1;
        }
        return (int)val;
    }
    return (int)__Pyx_PyInt_AsLong(x);
}

static CYTHON_INLINE signed char __Pyx_PyInt_AsSignedChar(PyObject* x) {
    const signed char neg_one = (signed char)-1, const_zero = 0;
    const int is_unsigned = neg_one > const_zero;
    if (sizeof(signed char) < sizeof(long)) {
        long val = __Pyx_PyInt_AsLong(x);
        if (unlikely(val != (long)(signed char)val)) {
            if (!unlikely(val == -1 && PyErr_Occurred())) {
                PyErr_SetString(PyExc_OverflowError,
                    (is_unsigned && unlikely(val < 0)) ?
                    "can't convert negative value to signed char" :
                    "value too large to convert to signed char");
            }
            return (signed char)-1;
        }
        return (signed char)val;
    }
    return (signed char)__Pyx_PyInt_AsSignedLong(x);
}

static CYTHON_INLINE signed short __Pyx_PyInt_AsSignedShort(PyObject* x) {
    const signed short neg_one = (signed short)-1, const_zero = 0;
    const int is_unsigned = neg_one > const_zero;
    if (sizeof(signed short) < sizeof(long)) {
        long val = __Pyx_PyInt_AsLong(x);
        if (unlikely(val != (long)(signed short)val)) {
            if (!unlikely(val == -1 && PyErr_Occurred())) {
                PyErr_SetString(PyExc_OverflowError,
                    (is_unsigned && unlikely(val < 0)) ?
                    "can't convert negative value to signed short" :
                    "value too large to convert to signed short");
            }
            return (signed short)-1;
        }
        return (signed short)val;
    }
    return (signed short)__Pyx_PyInt_AsSignedLong(x);
}

static CYTHON_INLINE signed int __Pyx_PyInt_AsSignedInt(PyObject* x) {
    const signed int neg_one = (signed int)-1, const_zero = 0;
    const int is_unsigned = neg_one > const_zero;
    if (sizeof(signed int) < sizeof(long)) {
        long val = __Pyx_PyInt_AsLong(x);
        if (unlikely(val != (long)(signed int)val)) {
            if (!unlikely(val == -1 && PyErr_Occurred())) {
                PyErr_SetString(PyExc_OverflowError,
                    (is_unsigned && unlikely(val < 0)) ?
                    "can't convert negative value to signed int" :
                    "value too large to convert to signed int");
            }
            return (signed int)-1;
        }
        return (signed int)val;
    }
    return (signed int)__Pyx_PyInt_AsSignedLong(x);
}

static CYTHON_INLINE int __Pyx_PyInt_AsLongDouble(PyObject* x) {
    const int neg_one = (int)-1, const_zero = 0;
    const int is_unsigned = neg_one > const_zero;
    if (sizeof(int) < sizeof(long)) {
        long val = __Pyx_PyInt_AsLong(x);
        if (unlikely(val != (long)(int)val)) {
            if (!unlikely(val == -1 && PyErr_Occurred())) {
                PyErr_SetString(PyExc_OverflowError,
                    (is_unsigned && unlikely(val < 0)) ?
                    "can't convert negative value to int" :
                    "value too large to convert to int");
            }
            return (int)-1;
        }
        return (int)val;
    }
    return (int)__Pyx_PyInt_AsLong(x);
}

static CYTHON_INLINE unsigned long __Pyx_PyInt_AsUnsignedLong(PyObject* x) {
    const unsigned long neg_one = (unsigned long)-1, const_zero = 0;
    const int is_unsigned = neg_one > const_zero;
#if PY_VERSION_HEX < 0x03000000
    if (likely(PyInt_Check(x))) {
        long val = PyInt_AS_LONG(x);
        if (is_unsigned && unlikely(val < 0)) {
            PyErr_SetString(PyExc_OverflowError,
                            "can't convert negative value to unsigned long");
            return (unsigned long)-1;
        }
        return (unsigned long)val;
    } else
#endif
    if (likely(PyLong_Check(x))) {
        if (is_unsigned) {
            if (unlikely(Py_SIZE(x) < 0)) {
                PyErr_SetString(PyExc_OverflowError,
                                "can't convert negative value to unsigned long");
                return (unsigned long)-1;
            }
            return PyLong_AsUnsignedLong(x);
        } else {
            return PyLong_AsLong(x);
        }
    } else {
        unsigned long val;
        PyObject *tmp = __Pyx_PyNumber_Int(x);
        if (!tmp) return (unsigned long)-1;
        val = __Pyx_PyInt_AsUnsignedLong(tmp);
        Py_DECREF(tmp);
        return val;
    }
}

static CYTHON_INLINE unsigned PY_LONG_LONG __Pyx_PyInt_AsUnsignedLongLong(PyObject* x) {
    const unsigned PY_LONG_LONG neg_one = (unsigned PY_LONG_LONG)-1, const_zero = 0;
    const int is_unsigned = neg_one > const_zero;
#if PY_VERSION_HEX < 0x03000000
    if (likely(PyInt_Check(x))) {
        long val = PyInt_AS_LONG(x);
        if (is_unsigned && unlikely(val < 0)) {
            PyErr_SetString(PyExc_OverflowError,
                            "can't convert negative value to unsigned PY_LONG_LONG");
            return (unsigned PY_LONG_LONG)-1;
        }
        return (unsigned PY_LONG_LONG)val;
    } else
#endif
    if (likely(PyLong_Check(x))) {
        if (is_unsigned) {
            if (unlikely(Py_SIZE(x) < 0)) {
                PyErr_SetString(PyExc_OverflowError,
                                "can't convert negative value to unsigned PY_LONG_LONG");
                return (unsigned PY_LONG_LONG)-1;
            }
            return PyLong_AsUnsignedLongLong(x);
        } else {
            return PyLong_AsLongLong(x);
        }
    } else {
        unsigned PY_LONG_LONG val;
        PyObject *tmp = __Pyx_PyNumber_Int(x);
        if (!tmp) return (unsigned PY_LONG_LONG)-1;
        val = __Pyx_PyInt_AsUnsignedLongLong(tmp);
        Py_DECREF(tmp);
        return val;
    }
}

static CYTHON_INLINE long __Pyx_PyInt_AsLong(PyObject* x) {
    const long neg_one = (long)-1, const_zero = 0;
    const int is_unsigned = neg_one > const_zero;
#if PY_VERSION_HEX < 0x03000000
    if (likely(PyInt_Check(x))) {
        long val = PyInt_AS_LONG(x);
        if (is_unsigned && unlikely(val < 0)) {
            PyErr_SetString(PyExc_OverflowError,
                            "can't convert negative value to long");
            return (long)-1;
        }
        return (long)val;
    } else
#endif
    if (likely(PyLong_Check(x))) {
        if (is_unsigned) {
            if (unlikely(Py_SIZE(x) < 0)) {
                PyErr_SetString(PyExc_OverflowError,
                                "can't convert negative value to long");
                return (long)-1;
            }
            return PyLong_AsUnsignedLong(x);
        } else {
            return PyLong_AsLong(x);
        }
    } else {
        long val;
        PyObject *tmp = __Pyx_PyNumber_Int(x);
        if (!tmp) return (long)-1;
        val = __Pyx_PyInt_AsLong(tmp);
        Py_DECREF(tmp);
        return val;
    }
}

static CYTHON_INLINE PY_LONG_LONG __Pyx_PyInt_AsLongLong(PyObject* x) {
    const PY_LONG_LONG neg_one = (PY_LONG_LONG)-1, const_zero = 0;
    const int is_unsigned = neg_one > const_zero;
#if PY_VERSION_HEX < 0x03000000
    if (likely(PyInt_Check(x))) {
        long val = PyInt_AS_LONG(x);
        if (is_unsigned && unlikely(val < 0)) {
            PyErr_SetString(PyExc_OverflowError,
                            "can't convert negative value to PY_LONG_LONG");
            return (PY_LONG_LONG)-1;
        }
        return (PY_LONG_LONG)val;
    } else
#endif
    if (likely(PyLong_Check(x))) {
        if (is_unsigned) {
            if (unlikely(Py_SIZE(x) < 0)) {
                PyErr_SetString(PyExc_OverflowError,
                                "can't convert negative value to PY_LONG_LONG");
                return (PY_LONG_LONG)-1;
            }
            return PyLong_AsUnsignedLongLong(x);
        } else {
            return PyLong_AsLongLong(x);
        }
    } else {
        PY_LONG_LONG val;
        PyObject *tmp = __Pyx_PyNumber_Int(x);
        if (!tmp) return (PY_LONG_LONG)-1;
        val = __Pyx_PyInt_AsLongLong(tmp);
        Py_DECREF(tmp);
        return val;
    }
}

static CYTHON_INLINE signed long __Pyx_PyInt_AsSignedLong(PyObject* x) {
    const signed long neg_one = (signed long)-1, const_zero = 0;
    const int is_unsigned = neg_one > const_zero;
#if PY_VERSION_HEX < 0x03000000
    if (likely(PyInt_Check(x))) {
        long val = PyInt_AS_LONG(x);
        if (is_unsigned && unlikely(val < 0)) {
            PyErr_SetString(PyExc_OverflowError,
                            "can't convert negative value to signed long");
            return (signed long)-1;
        }
        return (signed long)val;
    } else
#endif
    if (likely(PyLong_Check(x))) {
        if (is_unsigned) {
            if (unlikely(Py_SIZE(x) < 0)) {
                PyErr_SetString(PyExc_OverflowError,
                                "can't convert negative value to signed long");
                return (signed long)-1;
            }
            return PyLong_AsUnsignedLong(x);
        } else {
            return PyLong_AsLong(x);
        }
    } else {
        signed long val;
        PyObject *tmp = __Pyx_PyNumber_Int(x);
        if (!tmp) return (signed long)-1;
        val = __Pyx_PyInt_AsSignedLong(tmp);
        Py_DECREF(tmp);
        return val;
    }
}

static CYTHON_INLINE signed PY_LONG_LONG __Pyx_PyInt_AsSignedLongLong(PyObject* x) {
    const signed PY_LONG_LONG neg_one = (signed PY_LONG_LONG)-1, const_zero = 0;
    const int is_unsigned = neg_one > const_zero;
#if PY_VERSION_HEX < 0x03000000
    if (likely(PyInt_Check(x))) {
        long val = PyInt_AS_LONG(x);
        if (is_unsigned && unlikely(val < 0)) {
            PyErr_SetString(PyExc_OverflowError,
                            "can't convert negative value to signed PY_LONG_LONG");
            return (signed PY_LONG_LONG)-1;
        }
        return (signed PY_LONG_LONG)val;
    } else
#endif
    if (likely(PyLong_Check(x))) {
        if (is_unsigned) {
            if (unlikely(Py_SIZE(x) < 0)) {
                PyErr_SetString(PyExc_OverflowError,
                                "can't convert negative value to signed PY_LONG_LONG");
                return (signed PY_LONG_LONG)-1;
            }
            return PyLong_AsUnsignedLongLong(x);
        } else {
            return PyLong_AsLongLong(x);
        }
    } else {
        signed PY_LONG_LONG val;
        PyObject *tmp = __Pyx_PyNumber_Int(x);
        if (!tmp) return (signed PY_LONG_LONG)-1;
        val = __Pyx_PyInt_AsSignedLongLong(tmp);
        Py_DECREF(tmp);
        return val;
    }
}

#ifndef __PYX_HAVE_RT_ImportType
#define __PYX_HAVE_RT_ImportType
static PyTypeObject *__Pyx_ImportType(const char *module_name, const char *class_name,
    long size, int strict)
{
    PyObject *py_module = 0;
    PyObject *result = 0;
    PyObject *py_name = 0;
    char warning[200];

    py_module = __Pyx_ImportModule(module_name);
    if (!py_module)
        goto bad;
    #if PY_MAJOR_VERSION < 3
    py_name = PyString_FromString(class_name);
    #else
    py_name = PyUnicode_FromString(class_name);
    #endif
    if (!py_name)
        goto bad;
    result = PyObject_GetAttr(py_module, py_name);
    Py_DECREF(py_name);
    py_name = 0;
    Py_DECREF(py_module);
    py_module = 0;
    if (!result)
        goto bad;
    if (!PyType_Check(result)) {
        PyErr_Format(PyExc_TypeError, 
            "%s.%s is not a type object",
            module_name, class_name);
        goto bad;
    }
    if (!strict && ((PyTypeObject *)result)->tp_basicsize > size) {
        PyOS_snprintf(warning, sizeof(warning), 
            "%s.%s size changed, may indicate binary incompatibility",
            module_name, class_name);
        #if PY_VERSION_HEX < 0x02050000
        PyErr_Warn(NULL, warning);
        #else
        PyErr_WarnEx(NULL, warning, 0);
        #endif
    }
    else if (((PyTypeObject *)result)->tp_basicsize != size) {
        PyErr_Format(PyExc_ValueError, 
            "%s.%s has the wrong size, try recompiling",
            module_name, class_name);
        goto bad;
    }
    return (PyTypeObject *)result;
bad:
    Py_XDECREF(py_module);
    Py_XDECREF(result);
    return 0;
}
#endif

#ifndef __PYX_HAVE_RT_ImportModule
#define __PYX_HAVE_RT_ImportModule
static PyObject *__Pyx_ImportModule(const char *name) {
    PyObject *py_name = 0;
    PyObject *py_module = 0;

    #if PY_MAJOR_VERSION < 3
    py_name = PyString_FromString(name);
    #else
    py_name = PyUnicode_FromString(name);
    #endif
    if (!py_name)
        goto bad;
    py_module = PyImport_Import(py_name);
    Py_DECREF(py_name);
    return py_module;
bad:
    Py_XDECREF(py_name);
    return 0;
}
#endif

#include "compile.h"
#include "frameobject.h"
#include "traceback.h"

static void __Pyx_AddTraceback(const char *funcname) {
    PyObject *py_srcfile = 0;
    PyObject *py_funcname = 0;
    PyObject *py_globals = 0;
    PyCodeObject *py_code = 0;
    PyFrameObject *py_frame = 0;

    #if PY_MAJOR_VERSION < 3
    py_srcfile = PyString_FromString(__pyx_filename);
    #else
    py_srcfile = PyUnicode_FromString(__pyx_filename);
    #endif
    if (!py_srcfile) goto bad;
    if (__pyx_clineno) {
        #if PY_MAJOR_VERSION < 3
        py_funcname = PyString_FromFormat( "%s (%s:%d)", funcname, __pyx_cfilenm, __pyx_clineno);
        #else
        py_funcname = PyUnicode_FromFormat( "%s (%s:%d)", funcname, __pyx_cfilenm, __pyx_clineno);
        #endif
    }
    else {
        #if PY_MAJOR_VERSION < 3
        py_funcname = PyString_FromString(funcname);
        #else
        py_funcname = PyUnicode_FromString(funcname);
        #endif
    }
    if (!py_funcname) goto bad;
    py_globals = PyModule_GetDict(__pyx_m);
    if (!py_globals) goto bad;
    py_code = PyCode_New(
        0,            /*int argcount,*/
        #if PY_MAJOR_VERSION >= 3
        0,            /*int kwonlyargcount,*/
        #endif
        0,            /*int nlocals,*/
        0,            /*int stacksize,*/
        0,            /*int flags,*/
        __pyx_empty_bytes, /*PyObject *code,*/
        __pyx_empty_tuple,  /*PyObject *consts,*/
        __pyx_empty_tuple,  /*PyObject *names,*/
        __pyx_empty_tuple,  /*PyObject *varnames,*/
        __pyx_empty_tuple,  /*PyObject *freevars,*/
        __pyx_empty_tuple,  /*PyObject *cellvars,*/
        py_srcfile,   /*PyObject *filename,*/
        py_funcname,  /*PyObject *name,*/
        __pyx_lineno,   /*int firstlineno,*/
        __pyx_empty_bytes  /*PyObject *lnotab*/
    );
    if (!py_code) goto bad;
    py_frame = PyFrame_New(
        PyThreadState_GET(), /*PyThreadState *tstate,*/
        py_code,             /*PyCodeObject *code,*/
        py_globals,          /*PyObject *globals,*/
        0                    /*PyObject *locals*/
    );
    if (!py_frame) goto bad;
    py_frame->f_lineno = __pyx_lineno;
    PyTraceBack_Here(py_frame);
bad:
    Py_XDECREF(py_srcfile);
    Py_XDECREF(py_funcname);
    Py_XDECREF(py_code);
    Py_XDECREF(py_frame);
}

static int __Pyx_InitStrings(__Pyx_StringTabEntry *t) {
    while (t->p) {
        #if PY_MAJOR_VERSION < 3
        if (t->is_unicode) {
            *t->p = PyUnicode_DecodeUTF8(t->s, t->n - 1, NULL);
        } else if (t->intern) {
            *t->p = PyString_InternFromString(t->s);
        } else {
            *t->p = PyString_FromStringAndSize(t->s, t->n - 1);
        }
        #else  /* Python 3+ has unicode identifiers */
        if (t->is_unicode | t->is_str) {
            if (t->intern) {
                *t->p = PyUnicode_InternFromString(t->s);
            } else if (t->encoding) {
                *t->p = PyUnicode_Decode(t->s, t->n - 1, t->encoding, NULL);
            } else {
                *t->p = PyUnicode_FromStringAndSize(t->s, t->n - 1);
            }
        } else {
            *t->p = PyBytes_FromStringAndSize(t->s, t->n - 1);
        }
        #endif
        if (!*t->p)
            return -1;
        ++t;
    }
    return 0;
}

/* Type Conversion Functions */

static CYTHON_INLINE int __Pyx_PyObject_IsTrue(PyObject* x) {
   int is_true = x == Py_True;
   if (is_true | (x == Py_False) | (x == Py_None)) return is_true;
   else return PyObject_IsTrue(x);
}

static CYTHON_INLINE PyObject* __Pyx_PyNumber_Int(PyObject* x) {
  PyNumberMethods *m;
  const char *name = NULL;
  PyObject *res = NULL;
#if PY_VERSION_HEX < 0x03000000
  if (PyInt_Check(x) || PyLong_Check(x))
#else
  if (PyLong_Check(x))
#endif
    return Py_INCREF(x), x;
  m = Py_TYPE(x)->tp_as_number;
#if PY_VERSION_HEX < 0x03000000
  if (m && m->nb_int) {
    name = "int";
    res = PyNumber_Int(x);
  }
  else if (m && m->nb_long) {
    name = "long";
    res = PyNumber_Long(x);
  }
#else
  if (m && m->nb_int) {
    name = "int";
    res = PyNumber_Long(x);
  }
#endif
  if (res) {
#if PY_VERSION_HEX < 0x03000000
    if (!PyInt_Check(res) && !PyLong_Check(res)) {
#else
    if (!PyLong_Check(res)) {
#endif
      PyErr_Format(PyExc_TypeError,
                   "__%s__ returned non-%s (type %.200s)",
                   name, name, Py_TYPE(res)->tp_name);
      Py_DECREF(res);
      return NULL;
    }
  }
  else if (!PyErr_Occurred()) {
    PyErr_SetString(PyExc_TypeError,
                    "an integer is required");
  }
  return res;
}

static CYTHON_INLINE Py_ssize_t __Pyx_PyIndex_AsSsize_t(PyObject* b) {
  Py_ssize_t ival;
  PyObject* x = PyNumber_Index(b);
  if (!x) return -1;
  ival = PyInt_AsSsize_t(x);
  Py_DECREF(x);
  return ival;
}

static CYTHON_INLINE PyObject * __Pyx_PyInt_FromSize_t(size_t ival) {
#if PY_VERSION_HEX < 0x02050000
   if (ival <= LONG_MAX)
       return PyInt_FromLong((long)ival);
   else {
       unsigned char *bytes = (unsigned char *) &ival;
       int one = 1; int little = (int)*(unsigned char*)&one;
       return _PyLong_FromByteArray(bytes, sizeof(size_t), little, 0);
   }
#else
   return PyInt_FromSize_t(ival);
#endif
}

static CYTHON_INLINE size_t __Pyx_PyInt_AsSize_t(PyObject* x) {
   unsigned PY_LONG_LONG val = __Pyx_PyInt_AsUnsignedLongLong(x);
   if (unlikely(val == (unsigned PY_LONG_LONG)-1 && PyErr_Occurred())) {
       return (size_t)-1;
   } else if (unlikely(val != (unsigned PY_LONG_LONG)(size_t)val)) {
       PyErr_SetString(PyExc_OverflowError,
                       "value too large to convert to size_t");
       return (size_t)-1;
   }
   return (size_t)val;
}


#endif /* Py_PYTHON_H */
